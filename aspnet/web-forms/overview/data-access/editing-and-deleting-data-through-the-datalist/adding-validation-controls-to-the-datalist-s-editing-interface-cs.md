---
uid: web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/adding-validation-controls-to-the-datalist-s-editing-interface-cs
title: DataList doğrulama denetimleri ekleme arabirimi (C#) düzenleme kullanıcının | Microsoft Docs
author: rick-anderson
description: Bu öğreticide daha iyi bir düzenleme kullanıcı int sağlamak amacıyla DataList'ın EditItemTemplate doğrulama denetimleri ekleme ne kadar kolay olduğunu göreceksiniz...
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/30/2006
ms.topic: article
ms.assetid: 3ecc21c5-da0e-40ab-abb4-fac1e47398ad
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/adding-validation-controls-to-the-datalist-s-editing-interface-cs
msc.type: authoredcontent
ms.openlocfilehash: 13582989aed60ec7949afcd683472546a91d171c
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/06/2018
ms.locfileid: "30889130"
---
<a name="adding-validation-controls-to-the-datalists-editing-interface-c"></a><span data-ttu-id="c1a4f-103">DataList'ın arabirime düzenleme (C#) doğrulama denetimleri ekleme</span><span class="sxs-lookup"><span data-stu-id="c1a4f-103">Adding Validation Controls to the DataList's Editing Interface (C#)</span></span>
====================
<span data-ttu-id="c1a4f-104">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="c1a4f-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="c1a4f-105">[Örnek uygulamayı indirin](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_39_CS.exe) veya [PDF indirin](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/datatutorial39cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="c1a4f-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_39_CS.exe) or [Download PDF](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/datatutorial39cs1.pdf)</span></span>

> <span data-ttu-id="c1a4f-106">Bu öğreticide daha iyi bir düzenleme kullanıcı arabirimi için DataList'ın EditItemTemplate doğrulama denetimleri ekleme ne kadar kolay olduğunu göreceksiniz.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-106">In this tutorial we'll see how easy it is to add validation controls to the DataList's EditItemTemplate in order to provide a more foolproof editing user interface.</span></span>


## <a name="introduction"></a><span data-ttu-id="c1a4f-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="c1a4f-107">Introduction</span></span>

<span data-ttu-id="c1a4f-108">Ürün adı eksik veya bir özel durum negatif fiyat sonuçlarında gibi geçersiz kullanıcı girişi olsa bile öğreticileri bugüne kadarki düzenleme DataList herhangi öngörülü kullanıcı girdisi doğrulama arabirimleri düzenleme belirleyebilen eklemediniz.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-108">In the DataList editing tutorials thus far, the DataLists editing interfaces have not included any proactive user input validation even though invalid user input such as a missing product name or negative price results in an exception.</span></span> <span data-ttu-id="c1a4f-109">İçinde [önceki öğretici](handling-bll-and-dal-level-exceptions-cs.md) şu özel durum işleme DataList s için kod ekleme incelenmesi `UpdateCommand` yakalamak ve düzgün biçimde ortaya çıktı tüm özel durumlar hakkında bilgi görüntülemek için olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-109">In the [preceding tutorial](handling-bll-and-dal-level-exceptions-cs.md) we examined how to add exception handling code to the DataList s `UpdateCommand` event handler in order to catch and gracefully display information about any exceptions that were raised.</span></span> <span data-ttu-id="c1a4f-110">İdeal olarak, ancak düzenleme arabirimi bir kullanıcı ilk başta böyle geçersiz veri girişini engellemek için doğrulama denetimleri içerir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-110">Ideally, however, the editing interface would include validation controls to prevent a user from entering such invalid data in the first place.</span></span>

<span data-ttu-id="c1a4f-111">Bu öğreticide s DataList doğrulama denetimleri ekleme ne kadar kolay olduğunu göreceğiz `EditItemTemplate` daha iyi bir düzenleme kullanıcı arabirimi için.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-111">In this tutorial we'll see how easy it is to add validation controls to the DataList s `EditItemTemplate` in order to provide a more foolproof editing user interface.</span></span> <span data-ttu-id="c1a4f-112">Özellikle, bu öğreticinin önceki öğreticide oluşturulan örnek alır ve uygun doğrulama içerecek şekilde düzenleme arabirimi artırmaktadır.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-112">Specifically, this tutorial takes the example created in the preceding tutorial and augments the editing interface to include appropriate validation.</span></span>

## <a name="step-1-replicating-the-example-fromhandling-bll--and-dal-level-exceptionshandling-bll-and-dal-level-exceptions-csmd"></a><span data-ttu-id="c1a4f-113">1. adım: örnekten çoğaltma[BLL ve DAL düzeyi özel durumları işleme](handling-bll-and-dal-level-exceptions-cs.md)</span><span class="sxs-lookup"><span data-stu-id="c1a4f-113">Step 1: Replicating the Example from[Handling BLL- and DAL-Level Exceptions](handling-bll-and-dal-level-exceptions-cs.md)</span></span>

<span data-ttu-id="c1a4f-114">İçinde [işleme BLL - ve DAL düzeyinde istisnalar](handling-bll-and-dal-level-exceptions-cs.md) adları ve iki sütun, düzenlenebilir DataList ürünlerinde fiyatları listelenen bir sayfa oluşturduğumuz öğretici.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-114">In the [Handling BLL- and DAL-Level Exceptions](handling-bll-and-dal-level-exceptions-cs.md) tutorial we created a page that listed the names and prices of the products in a two-column, editable DataList.</span></span> <span data-ttu-id="c1a4f-115">Amacımız Bu öğretici için doğrulama denetimlerinin içerecek şekilde DataList s düzenleme arabirimi büyütmek olmaktır.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-115">Our goal for this tutorial is to augment the DataList s editing interface to include validation controls.</span></span> <span data-ttu-id="c1a4f-116">Özellikle, doğrulama mantığımızı olur:</span><span class="sxs-lookup"><span data-stu-id="c1a4f-116">In particular, our validation logic will:</span></span>

- <span data-ttu-id="c1a4f-117">Ürün s adının sağlanması gerekir</span><span class="sxs-lookup"><span data-stu-id="c1a4f-117">Require that the product s name be provided</span></span>
- <span data-ttu-id="c1a4f-118">Fiyat için girilen değer geçerli para birimi biçiminde olduğundan emin olun</span><span class="sxs-lookup"><span data-stu-id="c1a4f-118">Ensure that the value entered for the price is a valid currency format</span></span>
- <span data-ttu-id="c1a4f-119">Fiyat negatif itibaren sıfıra eşit veya daha büyük için girilen değer emin `UnitPrice` değeri geçersiz</span><span class="sxs-lookup"><span data-stu-id="c1a4f-119">Ensure that the value entered for the price is greater than or equal to zero, since a negative `UnitPrice` value is illegal</span></span>

<span data-ttu-id="c1a4f-120">Biz doğrulama dahil etmek için önceki örnekte program.cs'ye adresindeki bakabilirsiniz önce ilk örnekten çoğaltmak ihtiyacımız `ErrorHandling.aspx` sayfasındaki `EditDeleteDataList` Bu öğretici için sayfa klasörüne `UIValidation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-120">Before we can look at augmenting the previous example to include validation, we first need to replicate the example from the `ErrorHandling.aspx` page in the `EditDeleteDataList` folder to the page for this tutorial, `UIValidation.aspx`.</span></span> <span data-ttu-id="c1a4f-121">Bu hem kopyalamak için ihtiyacımız elde etmek için `ErrorHandling.aspx` sayfa s bildirim temelli biçimlendirme ve kaynak kodu.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-121">To achieve this we need to copy over both the `ErrorHandling.aspx` page s declarative markup and its source code.</span></span> <span data-ttu-id="c1a4f-122">İlk bildirim temelli biçimlendirme, aşağıdaki adımları gerçekleştirerek kopyalayın:</span><span class="sxs-lookup"><span data-stu-id="c1a4f-122">First copy over the declarative markup by performing the following steps:</span></span>

1. <span data-ttu-id="c1a4f-123">Açık `ErrorHandling.aspx` Visual Studio'da sayfası</span><span class="sxs-lookup"><span data-stu-id="c1a4f-123">Open the `ErrorHandling.aspx` page in Visual Studio</span></span>
2. <span data-ttu-id="c1a4f-124">Sayfa s bildirim temelli biçimlendirme (sayfanın sonundaki kaynağı düğmesini tıklatın) gidin</span><span class="sxs-lookup"><span data-stu-id="c1a4f-124">Go to the page s declarative markup (click on the Source button at the bottom of the page)</span></span>
3. <span data-ttu-id="c1a4f-125">Metni kopyalayın `<asp:Content>` ve `</asp:Content>` gösterildiği Şekil 1 olarak etiketler (çizgiler 3 ile 32 arasında).</span><span class="sxs-lookup"><span data-stu-id="c1a4f-125">Copy the text within the `<asp:Content>` and `</asp:Content>` tags (lines 3 through 32), as shown in Figure 1.</span></span>


<span data-ttu-id="c1a4f-126">[![Metin içinde kopyalama &lt;asp: içerik&gt; denetimi](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image2.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="c1a4f-126">[![Copy the Text Within the &lt;asp:Content&gt; Control](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image2.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image1.png)</span></span>

<span data-ttu-id="c1a4f-127">**Şekil 1**: metin içinde kopyalama `<asp:Content>` denetimi ([tam boyutlu görüntüyü görüntülemek için tıklatın](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="c1a4f-127">**Figure 1**: Copy the Text Within the `<asp:Content>` Control ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image3.png))</span></span>


1. <span data-ttu-id="c1a4f-128">Açık `UIValidation.aspx` sayfası</span><span class="sxs-lookup"><span data-stu-id="c1a4f-128">Open the `UIValidation.aspx` page</span></span>
2. <span data-ttu-id="c1a4f-129">Sayfa s bildirim temelli işaretlemede gidin</span><span class="sxs-lookup"><span data-stu-id="c1a4f-129">Go to the page s declarative markup</span></span>
3. <span data-ttu-id="c1a4f-130">İçindeki metni yapıştırın `<asp:Content>` denetim.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-130">Paste the text within the `<asp:Content>` control.</span></span>

<span data-ttu-id="c1a4f-131">Kaynak kodu kopyalamak için açık `ErrorHandling.aspx.vb` sayfasında ve yalnızca metni kopyalayın *içinde* `EditDeleteDataList_ErrorHandling` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-131">To copy over the source code, open the `ErrorHandling.aspx.vb` page and copy just the text *within* the `EditDeleteDataList_ErrorHandling` class.</span></span> <span data-ttu-id="c1a4f-132">Üç olay işleyicileri kopyalayın (`Products_EditCommand`, `Products_CancelCommand`, ve `Products_UpdateCommand`) ile birlikte `DisplayExceptionDetails` yöntemi, ancak **değil** sınıf bildiriminin kopyalayın veya `using` deyimleri.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-132">Copy the three event handlers (`Products_EditCommand`, `Products_CancelCommand`, and `Products_UpdateCommand`) along with the `DisplayExceptionDetails` method, but do **not** copy the class declaration or `using` statements.</span></span> <span data-ttu-id="c1a4f-133">Kopyalanan metni yapıştırmayı *içinde* `EditDeleteDataList_UIValidation` sınıfını `UIValidation.aspx.vb`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-133">Paste the copied text *within* the `EditDeleteDataList_UIValidation` class in `UIValidation.aspx.vb`.</span></span>

<span data-ttu-id="c1a4f-134">İçerik ve kod üzerinden taşıdıktan `ErrorHandling.aspx` için `UIValidation.aspx`, bir tarayıcı sayfalarında çıkışı test etmek için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-134">After moving over the content and code from `ErrorHandling.aspx` to `UIValidation.aspx`, take a moment to test out the pages in a browser.</span></span> <span data-ttu-id="c1a4f-135">Aynı çıktı bakın ve her (bkz: Şekil 2) bu iki sayfaları aynı işlevselliği deneyimi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-135">You should see the same output and experience the same functionality in each of these two pages (see Figure 2).</span></span>


<span data-ttu-id="c1a4f-136">[![UIValidation.aspx sayfa ErrorHandling.aspx işlevindeki taklit eder](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image5.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="c1a4f-136">[![The UIValidation.aspx Page Mimics the Functionality in ErrorHandling.aspx](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image5.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image4.png)</span></span>

<span data-ttu-id="c1a4f-137">**Şekil 2**: `UIValidation.aspx` sayfa taklit eder işlevindeki `ErrorHandling.aspx` ([tam boyutlu görüntüyü görüntülemek için tıklatın](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="c1a4f-137">**Figure 2**: The `UIValidation.aspx` Page Mimics the Functionality in `ErrorHandling.aspx` ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image6.png))</span></span>


## <a name="step-2-adding-the-validation-controls-to-the-datalist-s-edititemtemplate"></a><span data-ttu-id="c1a4f-138">2. adım: DataList s EditItemTemplate için doğrulama denetimleri ekleme</span><span class="sxs-lookup"><span data-stu-id="c1a4f-138">Step 2: Adding the Validation Controls to the DataList s EditItemTemplate</span></span>

<span data-ttu-id="c1a4f-139">Veri girişi formları oluşturulurken, kullanıcılar gerekli alanları girin ve kendi sağlanan tüm girişleri yasal, düzgün biçimlendirilmiş değerler olduğunu önemlidir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-139">When constructing data entry forms, it is important that users enter any required fields and that all their provided inputs are legal, properly-formatted values.</span></span> <span data-ttu-id="c1a4f-140">Bir kullanıcı s girişleri geçerli olduğundan emin olun yardımcı olmak için ASP.NET, tek bir giriş Web denetim değerini doğrulamak için tasarlanmış beş yerleşik doğrulama denetimleri sağlar:</span><span class="sxs-lookup"><span data-stu-id="c1a4f-140">To help ensure that a user s inputs are valid, ASP.NET provides five built-in validation controls that are designed to validate the value of a single input Web control:</span></span>

- <span data-ttu-id="c1a4f-141">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) değeri sağlanmış sağlar</span><span class="sxs-lookup"><span data-stu-id="c1a4f-141">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) ensures that a value has been provided</span></span>
- <span data-ttu-id="c1a4f-142">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) bir değeri başka bir Web denetimi değer veya sabit bir değer karşı doğrular veya değer s biçimi, belirtilen veri türü için geçerli olmasını sağlar</span><span class="sxs-lookup"><span data-stu-id="c1a4f-142">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) validates a value against another Web control value or a constant value, or ensures that the value s format is legal for a specified data type</span></span>
- <span data-ttu-id="c1a4f-143">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) değerleri aralığı içinde bir değer olmasını sağlar</span><span class="sxs-lookup"><span data-stu-id="c1a4f-143">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) ensures that a value is within a range of values</span></span>
- <span data-ttu-id="c1a4f-144">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) bir değer karşı doğrular bir [normal ifade](http://en.wikipedia.org/wiki/Regular_expression)</span><span class="sxs-lookup"><span data-stu-id="c1a4f-144">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) validates a value against a [regular expression](http://en.wikipedia.org/wiki/Regular_expression)</span></span>
- <span data-ttu-id="c1a4f-145">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) bir değer özel, kullanıcı tanımlı bir yöntem karşı doğrular</span><span class="sxs-lookup"><span data-stu-id="c1a4f-145">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) validates a value against a custom, user-defined method</span></span>

<span data-ttu-id="c1a4f-146">Bu beş denetimleri hakkında daha fazla bilgi için geri başvurmak [doğrulama denetimleri ekleme düzenleme ve ekleme arabirimleri için](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) öğretici veya kullanıma [doğrulama denetimleri bölüm](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/ctrlref/validation/default.aspx) ,[ASP.NET Quickstart öğreticileri](https://quickstarts.asp.net).</span><span class="sxs-lookup"><span data-stu-id="c1a4f-146">For more information on these five controls refer back to the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) tutorial or check out the [Validation Controls section](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/ctrlref/validation/default.aspx) of the [ASP.NET Quickstart Tutorials](https://quickstarts.asp.net).</span></span>

<span data-ttu-id="c1a4f-147">Bizim öğretici için size ürün adı için bir değer sağlanan emin olmak için bir RequiredFieldValidator ve girilen fiyat 0 değerine eşit veya daha büyük bir değere sahip ve geçerli para birimi biçiminde sunulan emin olmak için bir CompareValidator kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-147">For our tutorial we'll need to use a RequiredFieldValidator to ensure that a value for the product name has been supplied and a CompareValidator to ensure that the entered price has a value greater than or equal to 0 and is presented in a valid currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="c1a4f-148">While ASP.NET 1.x sahip aynı bu beş doğrulama denetimleri, ASP.NET 2.0 bazı geliştirmeler eklendi, ana iki istemci tarafı komut dosyası olan Internet Explorer yanı sıra tarayıcılar ve bir sayfaya bölüm doğrulama denetimleri yeteneği desteği doğrulama grupları.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-148">While ASP.NET 1.x had these same five validation controls, ASP.NET 2.0 has added a number of improvements, the main two being client-side script support for browsers in addition to Internet Explorer and the ability to partition validation controls on a page into validation groups.</span></span> <span data-ttu-id="c1a4f-149">2. 0 doğrulama denetimi yenilikleri hakkında daha fazla bilgi için başvurmak [ASP.NET 2. 0 doğrulama denetimleri Dissecting](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="c1a4f-149">For more information on the new validation control features in 2.0, refer to [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span></span>


<span data-ttu-id="c1a4f-150">S DataList gerekli doğrulama denetimlerini ekleyerek başlayın s izin `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-150">Let s start by adding the necessary validation controls to the DataList s `EditItemTemplate`.</span></span> <span data-ttu-id="c1a4f-151">Bu görev, DataList s akıllı etiket Şablonları Düzenle bağlantısından tıklayarak Tasarımcısı aracılığıyla ya da bildirim temelli söz dizimi aracılığıyla gerçekleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-151">This task can be performed through the Designer by clicking on the Edit Templates link from the DataList s smart tag, or through the declarative syntax.</span></span> <span data-ttu-id="c1a4f-152">S adım Tasarım görünümünden Şablonları Düzenle seçeneğini kullanarak işlemiyle olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-152">Let s step through the process using the Edit Templates option from the Design view.</span></span> <span data-ttu-id="c1a4f-153">S DataList düzenlemek seçme sonra `EditItemTemplate`, şablon düzenleme arabirimine Araç Kutusu'ndan sürükleyerek bir RequiredFieldValidator ekleyin, sonra yerleştirme `ProductName` metin kutusu.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-153">After choosing to edit the DataList s `EditItemTemplate`, add a RequiredFieldValidator by dragging it from the Toolbox into the template editing interface, placing it after the `ProductName` TextBox.</span></span>


<span data-ttu-id="c1a4f-154">[![Bir RequiredFieldValidator EditItemTemplate sonra ProductName metin kutusu ekleyin.](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image8.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="c1a4f-154">[![Add a RequiredFieldValidator to the EditItemTemplate After the ProductName TextBox](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image8.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image7.png)</span></span>

<span data-ttu-id="c1a4f-155">**Şekil 3**: bir RequiredFieldValidator eklemek `EditItemTemplate After` `ProductName` TextBox ([tam boyutlu görüntüyü görüntülemek için tıklatın](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="c1a4f-155">**Figure 3**: Add a RequiredFieldValidator to the `EditItemTemplate After` the `ProductName` TextBox ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image9.png))</span></span>


<span data-ttu-id="c1a4f-156">Tüm doğrulama denetimleri, tek bir ASP.NET Web denetim girişi doğrulayarak çalışır.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-156">All validation controls work by validating the input of a single ASP.NET Web control.</span></span> <span data-ttu-id="c1a4f-157">Bu nedenle, az önce eklediğimiz RequiredFieldValidator karşı doğrulamalıdır belirtmek ihtiyacımız `ProductName` TextBox; bu doğrulama denetimi s ayarlayarak yapılır [ `ControlToValidate` özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) için `ID` , uygun Web denetimi (`ProductName`, bu örnekte).</span><span class="sxs-lookup"><span data-stu-id="c1a4f-157">Therefore, we need to indicate that the RequiredFieldValidator we just added should validate against the `ProductName` TextBox; this is done by setting the validation control s [`ControlToValidate` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) to the `ID` of the appropriate Web control (`ProductName`, in this instance).</span></span> <span data-ttu-id="c1a4f-158">Ardından, ayarlayın [ `ErrorMessage` özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) için ürün s adını sağlayın ve [ `Text` özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) için \*.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-158">Next, set the [`ErrorMessage` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) to You must provide the product s name and the [`Text` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) to \*.</span></span> <span data-ttu-id="c1a4f-159">`Text` Özellik değeri, sağlanan varsa, doğrulama başarısız olursa doğrulama denetimi tarafından görüntülenen metin.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-159">The `Text` property value, if provided, is the text that is displayed by the validation control if the validation fails.</span></span> <span data-ttu-id="c1a4f-160">`ErrorMessage` , Gerekli özellik değeri ValidationSummary denetimi tarafından; kullanılır `Text` özellik değeri atlanırsa, `ErrorMessage` özellik değeri geçersiz giriş doğrulama denetimi tarafından görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-160">The `ErrorMessage` property value, which is required, is used by the ValidationSummary control; if the `Text` property value is omitted, the `ErrorMessage` property value is displayed by the validation control on invalid input.</span></span>

<span data-ttu-id="c1a4f-161">Bu üç RequiredFieldValidator özelliklerini ayarladıktan sonra ekranınızın Şekil 4'e benzer görünmelidir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-161">After setting these three properties of the RequiredFieldValidator, your screen should look similar to Figure 4.</span></span>


<span data-ttu-id="c1a4f-162">[![RequiredFieldValidator s ControlToValidate, ErrorMessage ve metin özelliklerini ayarlama](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image11.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="c1a4f-162">[![Set the RequiredFieldValidator s ControlToValidate, ErrorMessage, and Text Properties](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image11.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image10.png)</span></span>

<span data-ttu-id="c1a4f-163">**Şekil 4**: RequiredFieldValidator s ayarlamak `ControlToValidate`, `ErrorMessage`, ve `Text` özellikleri ([tam boyutlu görüntüyü görüntülemek için tıklatın](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="c1a4f-163">**Figure 4**: Set the RequiredFieldValidator s `ControlToValidate`, `ErrorMessage`, and `Text` Properties ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image12.png))</span></span>


<span data-ttu-id="c1a4f-164">Eklenen RequiredFieldValidator ile `EditItemTemplate`, tüm kalan olduğunu ürün s fiyat TextBox gerekli doğrulama eklemek için.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-164">With the RequiredFieldValidator added to the `EditItemTemplate`, all that remains is to add the necessary validation for the product s price TextBox.</span></span> <span data-ttu-id="c1a4f-165">Bu yana `UnitPrice` isteğe bağlı olan bir kayıt düzenlerken, biz t bir RequiredFieldValidator eklemek gerek güncelleştireceğinizi.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-165">Since the `UnitPrice` is optional when editing a record, we don t need to add a RequiredFieldValidator.</span></span> <span data-ttu-id="c1a4f-166">Ancak, emin olmak için bir CompareValidator eklemek ihtiyacımız `UnitPrice`, sağlandıysa, para birimi olarak düzgün biçimlendirildiğinden ve büyük veya 0 değerine eşit.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-166">We do, however, need to add a CompareValidator to ensure that the `UnitPrice`, if supplied, is properly formatted as a currency and is greater than or equal to 0.</span></span>

<span data-ttu-id="c1a4f-167">CompareValidator içine ekleme `EditItemTemplate` ve kendi `ControlToValidate` özelliğine `UnitPrice`, kendi `ErrorMessage` fiyat özelliğine değerinden büyük veya sıfıra eşit olmalı ve para birimi simgesini içeremez ve kendi `Text` özelliğine\*.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-167">Add the CompareValidator into the `EditItemTemplate` and set its `ControlToValidate` property to `UnitPrice`, its `ErrorMessage` property to The price must be greater than or equal to zero and cannot include the currency symbol, and its `Text` property to \*.</span></span> <span data-ttu-id="c1a4f-168">Belirtmek için `UnitPrice` değeri sıfırdan büyük veya 0 değerine eşit, CompareValidator s ayarlamak [ `Operator` özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) için `GreaterThanEqual`, kendi [ `ValueToCompare` özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) 0 ve kendi [ `Type` özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) için `Currency`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-168">To indicate that the `UnitPrice` value must be greater than or equal to 0, set the CompareValidator s [`Operator` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) to `GreaterThanEqual`, its [`ValueToCompare` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) to 0, and its [`Type` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) to `Currency`.</span></span>

<span data-ttu-id="c1a4f-169">Bu iki doğrulama denetimleri, s DataList ekledikten sonra `EditItemTemplate` s Tanımlayıcı Sözdizimi aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="c1a4f-169">After adding these two validation controls, the DataList s `EditItemTemplate` s declarative syntax should look similar to the following:</span></span>


[!code-aspx[Main](adding-validation-controls-to-the-datalist-s-editing-interface-cs/samples/sample1.aspx)]

<span data-ttu-id="c1a4f-170">Bu değişiklikleri yaptıktan sonra sayfasını bir tarayıcıda açın.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-170">After making these changes, open the page in a browser.</span></span> <span data-ttu-id="c1a4f-171">Adını Atla veya bir ürün düzenlerken geçersiz Fiyat değerini girin denerseniz, textbox yanındaki bir yıldız işareti görünür.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-171">If you attempt to omit the name or enter an invalid price value when editing a product, an asterisk appears next to the textbox.</span></span> <span data-ttu-id="c1a4f-172">Şekil 5 gösterildiği gibi $19.95 gibi para birimi simgesini içeren bir fiyat değer geçersiz olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-172">As Figure 5 shows, a price value that includes the currency symbol such as $19.95 is considered invalid.</span></span> <span data-ttu-id="c1a4f-173">CompareValidator s `Currency` `Type` ve bir başında artı veya eksi işareti (örneğin, virgül veya nokta kültür ayarlarına bağlı olarak) basamak ayırıcıları için verir, ancak mu *değil* para birimi simgesini izin verir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-173">The CompareValidator s `Currency` `Type` allows for digit separators (such as commas or periods, depending on the culture settings) and a leading plus or minus sign, but does *not* permit a currency symbol.</span></span> <span data-ttu-id="c1a4f-174">Şu anda düzenleme arabirimi işler gibi bu davranış kullanıcılar perplex `UnitPrice` para birimi biçimi kullanarak.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-174">This behavior may perplex users as the editing interface currently renders the `UnitPrice` using the currency format.</span></span>


<span data-ttu-id="c1a4f-175">[![Geçersiz giriş ile kutularındaki yanında bir yıldız işareti görünür](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image14.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="c1a4f-175">[![An Asterisk Appears Next to the Textboxes with Invalid Input](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image14.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image13.png)</span></span>

<span data-ttu-id="c1a4f-176">**Şekil 5**: bir yıldız işareti görünür sonraki geçersiz giriş içeren metin kutuları için ([tam boyutlu görüntüyü görüntülemek için tıklatın](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="c1a4f-176">**Figure 5**: An Asterisk Appears Next to the Textboxes with Invalid Input ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image15.png))</span></span>


<span data-ttu-id="c1a4f-177">While olarak doğrulama çalışır-olduğundan, kullanıcının sahip olduğu kabul edilebilir değil bir kayıt düzenlerken para birimi simgesini el ile kaldırmak.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-177">While the validation works as-is, the user has to manually remove the currency symbol when editing a record, which is not acceptable.</span></span> <span data-ttu-id="c1a4f-178">Ayrıca, varsa geçersiz düzenleme girişleri tıklandığında, bir geri gönderme çağıracağı hiçbiri güncelleştirme ya da İptal düğmeleri, arabirim.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-178">Moreover, if there are invalid inputs in the editing interface neither the Update nor Cancel buttons, when clicked, will invoke a postback.</span></span> <span data-ttu-id="c1a4f-179">İdeal olarak, İptal düğmesi DataList kullanıcı s girişleri geçerliliğini bağımsız olarak önceden düzenleme durumuna döndürür.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-179">Ideally, the Cancel button would return the DataList to its pre-editing state regardless of the validity of the user s inputs.</span></span> <span data-ttu-id="c1a4f-180">Ayrıca, ürün bilgileri için s DataList güncelleştirmeden önce sayfa s verileri geçerli olduğundan emin olmak ihtiyacımız `UpdateCommand` istemci-tarafı mantığı tarayıcıları t desteği JavaScript güncelleştireceğinizi ya da sahip kullanıcılar tarafından atlanır doğrulama denetimleri olarak olay işleyicisi desteğini devre dışı.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-180">Also, we need to ensure that the page s data is valid before updating the product information in the DataList s `UpdateCommand` event handler, as the validation controls client-side logic can be bypassed by users whose browsers either don t support JavaScript or have its support disabled.</span></span>

## <a name="removing-the-currency-symbol-from-the-edititemtemplate-s-unitprice-textbox"></a><span data-ttu-id="c1a4f-181">Para birimi simgesini EditItemTemplate s UnitPrice metin kaldırma</span><span class="sxs-lookup"><span data-stu-id="c1a4f-181">Removing the Currency Symbol from the EditItemTemplate s UnitPrice TextBox</span></span>

<span data-ttu-id="c1a4f-182">CompareValidator s kullanırken `Currency``Type`, Doğrulanmakta olan giriş hiçbir para birimi simgesini içermemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-182">When using the CompareValidator s `Currency``Type`, the input being validated must not include any currency symbols.</span></span> <span data-ttu-id="c1a4f-183">Bu tür simgeleri varlığını giriş geçersiz olarak işaretlemek CompareValidator neden olur.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-183">The presence of such symbols causes the CompareValidator to mark the input as invalid.</span></span> <span data-ttu-id="c1a4f-184">Ancak, düzenleme arabirimimizi bir para birimi simgesini şu anda içerir `UnitPrice` metin kutusuna, kullanıcının açıkça kaldırmalısınız para birimi simgesini yaptıkları değişiklikleri kaydetmeden önce anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-184">However, our editing interface currently includes a currency symbol in the `UnitPrice` TextBox, meaning the user must explicitly remove the currency symbol before saving their changes.</span></span> <span data-ttu-id="c1a4f-185">Bu sorunu gidermek için şu üç seçeneğiniz vardır:</span><span class="sxs-lookup"><span data-stu-id="c1a4f-185">To remedy this we have three options:</span></span>

1. <span data-ttu-id="c1a4f-186">Yapılandırma `EditItemTemplate` böylece `UnitPrice` TextBox değeri para birimi olarak biçimlendirilmemiş.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-186">Configure the `EditItemTemplate` so that the `UnitPrice` TextBox value is not formatted as a currency.</span></span>
2. <span data-ttu-id="c1a4f-187">Kullanıcının CompareValidator kaldırarak ve düzgün şekilde biçimlendirilmiş para birimi değeri için denetler RegularExpressionValidator ile değiştirerek bir para birimi simgesini girin izin verin.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-187">Allow the user to enter a currency symbol by removing the CompareValidator and replacing it with a RegularExpressionValidator that checks for a properly formatted currency value.</span></span> <span data-ttu-id="c1a4f-188">Sınama burada para birimi değeri doğrulamak için normal ifade CompareValidator kadar basit değildir ve kültür ayarları içerecek şekilde istediyseniz kod yazma gerektirir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-188">The challenge here is that the regular expression to validate a currency value is not as straightforward as the CompareValidator and would require writing code if we wanted to incorporate culture settings.</span></span>
3. <span data-ttu-id="c1a4f-189">Doğrulama denetimi tamamen kaldırın ve özel sunucu tarafı doğrulama mantığını GridView s Bel `RowUpdating` olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-189">Remove the validation control altogether and rely on custom server-side validation logic in the GridView s `RowUpdating` event handler.</span></span>

<span data-ttu-id="c1a4f-190">Bu öğretici için 1 seçeneğiyle Git s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-190">Let s go with option 1 for this tutorial.</span></span> <span data-ttu-id="c1a4f-191">Şu anda `UnitPrice` metin kutusunda veri bağlama deyimi nedeniyle para birimi değeri olarak biçimlendirilmiş `EditItemTemplate`: `<%# Eval("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-191">Currently the `UnitPrice` is formatted as a currency value due to the databinding expression for the TextBox in the `EditItemTemplate`: `<%# Eval("UnitPrice", "{0:c}") %>`.</span></span> <span data-ttu-id="c1a4f-192">Değişiklik `Eval` ifadesine `Eval("UnitPrice", "{0:n2}")`, bir dizi duyarlık iki basamaklı sonucu biçimlendirir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-192">Change the `Eval` statement to `Eval("UnitPrice", "{0:n2}")`, which formats the result as a number with two digits of precision.</span></span> <span data-ttu-id="c1a4f-193">Bu bildirim temelli söz dizimi aracılığıyla doğrudan veya veri bağlamaları Düzenle bağlantıyı tıklatarak yapılabilir `UnitPrice` metin kutusuna s DataList `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-193">This can be done directly through the declarative syntax or by clicking on the Edit DataBindings link from the `UnitPrice` TextBox in the DataList s `EditItemTemplate`.</span></span>

<span data-ttu-id="c1a4f-194">Bu değişikliği düzenleme arabiriminde biçimlendirilmiş Fiyat Grup ayırıcı olarak virgül ve ondalık ayırıcı olarak nokta içerir, ancak para birimi simgesini devre dışı bırakır.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-194">With this change, the formatted price in the editing interface includes commas as the group separator and a period as the decimal separator, but leaves off the currency symbol.</span></span>

> [!NOTE]
> <span data-ttu-id="c1a4f-195">Para birimi biçiminde düzenlenebilir arabiriminden kaldırırken, ı TextBox dışında metin olarak para birimi simgesini koymak yararlı.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-195">When removing the currency format from the editable interface, I find it helpful to put the currency symbol as text outside the TextBox.</span></span> <span data-ttu-id="c1a4f-196">Para birimi simgesini sağlamak zorunda değildir kullanıcı bir ipucu olarak görev yapar.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-196">This serves as a hint to the user that they do not need to provide the currency symbol.</span></span>


## <a name="fixing-the-cancel-button"></a><span data-ttu-id="c1a4f-197">İptal düğmesi çözme</span><span class="sxs-lookup"><span data-stu-id="c1a4f-197">Fixing the Cancel Button</span></span>

<span data-ttu-id="c1a4f-198">Varsayılan olarak, istemci tarafında doğrulama gerçekleştirmek için JavaScript doğrulama Web denetimleri yayma.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-198">By default, the validation Web controls emit JavaScript to perform validation on the client-side.</span></span> <span data-ttu-id="c1a4f-199">Düğme, LinkButton veya ImageButton tıklatıldığında geri gönderme oluşmadan önce sayfasında doğrulama denetimleri istemci tarafında denetlenir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-199">When a Button, LinkButton, or ImageButton is clicked, the validation controls on the page are checked on the client-side before the postback occurs.</span></span> <span data-ttu-id="c1a4f-200">Herhangi bir geçersiz veri varsa, geri gönderme işlemi iptal edildi.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-200">If there is any invalid data, the postback is cancelled.</span></span> <span data-ttu-id="c1a4f-201">Belirli düğmeleri için yine de verilerin geçerliliğini kurucularýn olabilir; Böyle bir durumda, geçersiz veri nedeniyle iptal geri gönderme sahip bir zarar verici istenir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-201">For certain Buttons, though, the validity of the data might be immaterial; in such a case, having the postback cancelled due to invalid data is a nuisance.</span></span>

<span data-ttu-id="c1a4f-202">İptal düğmesi böyle bir örnektir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-202">The Cancel button is such an example.</span></span> <span data-ttu-id="c1a4f-203">Bir kullanıcı s ürün adı, atlanması gibi geçersiz veri girer ve ardından SEH içermiyor t istediğiniz ürün tüm kaydetmeye karar verir ve iptal düğmesi isabetler olduğunu düşünün.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-203">Imagine that a user enters invalid data, such as omitting the product s name, and then decides she doesn t want to save the product after all and hits the Cancel button.</span></span> <span data-ttu-id="c1a4f-204">Şu anda iptal düğmesi, ürün adı eksik ve geri gönderme önlemek rapor doğrulama denetimleri sayfasında tetikler.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-204">Currently, the Cancel button triggers the validation controls on the page, which report that the product name is missing and prevent the postback.</span></span> <span data-ttu-id="c1a4f-205">Bizim kullanıcının bazı metin türüne sahip `ProductName` yalnızca dışında düzenleme işlemi iptal etmek için metin kutusu.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-205">Our user has to type some text into the `ProductName` TextBox just to cancel out of the editing process.</span></span>

<span data-ttu-id="c1a4f-206">Neyse ki, düğme, LinkButton ve ImageButton sahip bir [ `CausesValidation` özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.button.causesvalidation.aspx) , belirtebilirsiniz tıklatarak olup olmadığına bakılmaksızın düğmesi doğrulama mantığını başlatmak (varsayılan olarak `True`).</span><span class="sxs-lookup"><span data-stu-id="c1a4f-206">Fortunately, the Button, LinkButton, and ImageButton have a [`CausesValidation` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.button.causesvalidation.aspx) that can indicate whether or not clicking the Button should initiate the validation logic (defaults to `True`).</span></span> <span data-ttu-id="c1a4f-207">İptal düğmesi s ayarlamak `CausesValidation` özelliğine `False`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-207">Set the Cancel Button s `CausesValidation` property to `False`.</span></span>

## <a name="ensuring-the-inputs-are-valid-in-the-updatecommand-event-handler"></a><span data-ttu-id="c1a4f-208">Olan geçerli UpdateCommand olay işleyicisi alanındaki girişleri sağlama</span><span class="sxs-lookup"><span data-stu-id="c1a4f-208">Ensuring the Inputs are Valid in the UpdateCommand Event Handler</span></span>

<span data-ttu-id="c1a4f-209">Doğrulama denetimleri tarafından gösterilen istemci tarafı komut dosyası nedeniyle kullanıcı geçersiz giriş girerse doğrulama denetimleri LinkButton, düğme tarafından başlatılan tüm Geri göndermeler iptal veya ImageButton denetimleri `CausesValidation` özellikleri `True` ( varsayılan).</span><span class="sxs-lookup"><span data-stu-id="c1a4f-209">Due to the client-side script emitted by the validation controls, if a user enters invalid input the validation controls cancel any postbacks initiated by Button, LinkButton, or ImageButton controls whose `CausesValidation` properties are `True` (the default).</span></span> <span data-ttu-id="c1a4f-210">Ancak, bir kullanıcı antiquated bir tarayıcı veya biri, JavaScript desteği devre dışı ziyaret, istemci tarafı doğrulama denetimlerini çalıştırmaz.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-210">However, if a user is visiting with an antiquated browser or one whose JavaScript support has been disabled, the client-side validation checks will not execute.</span></span>

<span data-ttu-id="c1a4f-211">Tüm ASP.NET doğrulama denetimleri geri gönderme hemen sonra kullanıcıların doğrulama mantığını yineleyin ve sayfa s girişleri genel geçerliliğini rapor [ `Page.IsValid` özelliği](https://msdn.microsoft.com/library/system.web.ui.page.isvalid.aspx).</span><span class="sxs-lookup"><span data-stu-id="c1a4f-211">All of the ASP.NET validation controls repeat their validation logic immediately upon postback and report the overall validity of the page s inputs via the [`Page.IsValid` property](https://msdn.microsoft.com/library/system.web.ui.page.isvalid.aspx).</span></span> <span data-ttu-id="c1a4f-212">Ancak, sayfa akışı kesildi veya olmayan herhangi bir şekilde değere göre durduruldu `Page.IsValid`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-212">However, the page flow is not interrupted or stopped in any way based on the value of `Page.IsValid`.</span></span> <span data-ttu-id="c1a4f-213">Geliştiricileri de bu emin olmak için bizim sorumluluğundadır `Page.IsValid` özellik değerine sahip `True` giriş geçerli varsayar kod işlemine devam etmeden önce.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-213">As developers, it is our responsibility to ensure that the `Page.IsValid` property has a value of `True` before proceeding with code that assumes valid input data.</span></span>

<span data-ttu-id="c1a4f-214">Bir kullanıcının devre dışı JavaScript varsa sayfamızı ziyaret eder, bir ürün düzenler, çok fiyat değerini girer pahalıdır ve güncelleştirme düğmesine tıklar istemci tarafı doğrulama atlanır ve geri gönderimin olun.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-214">If a user has JavaScript disabled, visits our page, edits a product, enters a price value of Too expensive, and clicks the Update button, the client-side validation will be bypassed and a postback will ensue.</span></span> <span data-ttu-id="c1a4f-215">Geri gönderme, ASP.NET sayfası s üzerinde `UpdateCommand` olay işleyicisi yürütür ve çok ayrıştırma çalışılırken özel durum oluşturuldu için pahalı bir `Decimal`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-215">On postback, the ASP.NET page s `UpdateCommand` event handler executes and an exception is raised when attempting to parse Too expensive to a `Decimal`.</span></span> <span data-ttu-id="c1a4f-216">Özel durum işleme sahip olduğumuz, böyle bir özel durum düzgün bir şekilde ele alınacağını ancak üzerinden ilk başta ile yalnızca etmeden tarafından kayan gelen biz geçersiz veriler engelleyebilir beri `UpdateCommand` olay işleyicisi varsa `Page.IsValid` değerine sahip `True`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-216">Since we have exception handling, such an exception will be handled gracefully, but we could prevent the invalid data from slipping through in the first place by only proceeding with the `UpdateCommand` event handler if `Page.IsValid` has a value of `True`.</span></span>

<span data-ttu-id="c1a4f-217">Aşağıdaki kodu başlangıcına ekleyin `UpdateCommand` olay işleyicisi hemen önce `Try` engelle:</span><span class="sxs-lookup"><span data-stu-id="c1a4f-217">Add the following code to the start of the `UpdateCommand` event handler, immediately before the `Try` block:</span></span>


[!code-csharp[Main](adding-validation-controls-to-the-datalist-s-editing-interface-cs/samples/sample2.cs)]

<span data-ttu-id="c1a4f-218">Bu eklenmesiyle ürün gönderilen verilerin geçerli ise güncelleştirilmesi dener.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-218">With this addition, the product will attempt to be updated only if the submitted data is valid.</span></span> <span data-ttu-id="c1a4f-219">T won çoğu kullanıcılar doğrulama denetimleri istemci tarafı betikler nedeniyle geçersiz veri geri gönderme, ancak t desteği JavaScript tarayıcıları güncelleştireceğinizi veya destek JavaScript sahip kullanıcılar devre dışı, istemci-tarafı denetimlerini atlamak ve geçersiz veriler gönderme.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-219">Most users won t be able to postback invalid data due to the validation controls client-side scripts, but users whose browsers don t support JavaScript or that have JavaScript support disabled, can bypass the client-side checks and submit invalid data.</span></span>

> [!NOTE]
> <span data-ttu-id="c1a4f-220">Akıllı duruma okuyucu veri GridView ile güncelleştirirken sözcüğünün biz etmedi t gereksinim açıkça denetlemek `Page.IsValid` bizim sayfa s arka plandaki kod sınıfı bir özellik.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-220">The astute reader will recall that when updating data with the GridView, we didn t need to explicitly check the `Page.IsValid` property in our page s code-behind class.</span></span> <span data-ttu-id="c1a4f-221">GridView danışır Bunun nedeni `Page.IsValid` özelliği yalnızca yalnızca değerini döndürürse güncelleştirmesi ile devam eder ve bize için `True`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-221">This is because the GridView consults the `Page.IsValid` property for us and only proceeds with the update only if it returns a value of `True`.</span></span>


## <a name="step-3-summarizing-data-entry-problems"></a><span data-ttu-id="c1a4f-222">3. adım: Veri girişi sorunlarını özetleme</span><span class="sxs-lookup"><span data-stu-id="c1a4f-222">Step 3: Summarizing Data Entry Problems</span></span>

<span data-ttu-id="c1a4f-223">Beş doğrulama denetimleri ek olarak, ASP.NET içerir [ValidationSummary denetimi](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), görüntüleyen `ErrorMessage` geçersiz veriler algılandı bu doğrulama denetimleri s.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-223">In addition to the five validation controls, ASP.NET includes the [ValidationSummary control](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), which displays the `ErrorMessage` s of those validation controls that detected invalid data.</span></span> <span data-ttu-id="c1a4f-224">Bu özet verilerini kalıcı, istemci-tarafı messagebox aracılığıyla ya da web sayfasında metin olarak görüntülenebilir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-224">This summary data can be displayed as text on the web page or through a modal, client-side messagebox.</span></span> <span data-ttu-id="c1a4f-225">Doğrulama sorunları özetlemeye bir istemci-tarafı messagebox dahil etmek için bu öğreticiyi geliştirmek s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-225">Let s enhance this tutorial to include a client-side messagebox summarizing any validation problems.</span></span>

<span data-ttu-id="c1a4f-226">Bunu gerçekleştirmek için araç kutusu tasarımcıya ValidationSummary denetimi sürükleyin.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-226">To accomplish this, drag a ValidationSummary control from the Toolbox onto the Designer.</span></span> <span data-ttu-id="c1a4f-227">ValidationSummary denetimi içermiyor t konumunu gerçekten önemli, bu yana biz yalnızca Özet messagebox görüntülemek için yapılandırmak için ekleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-227">The location of the ValidationSummary control doesn t really matter, since we re going to configure it to only display the summary as a messagebox.</span></span> <span data-ttu-id="c1a4f-228">Denetim ekledikten sonra ayarlamak kendi [ `ShowSummary` özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) için `False` ve kendi [ `ShowMessageBox` özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) için `True`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-228">After adding the control, set its [`ShowSummary` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) to `False` and its [`ShowMessageBox` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) to `True`.</span></span> <span data-ttu-id="c1a4f-229">Bu ayrıca ile bir istemci-tarafı messagebox tüm doğrulama hatalarını özetlenir (bkz. Şekil 6).</span><span class="sxs-lookup"><span data-stu-id="c1a4f-229">With this addition, any validation errors are summarized in a client-side messagebox (see Figure 6).</span></span>


<span data-ttu-id="c1a4f-230">[![Doğrulama hatalarını bir istemci-tarafı Messagebox özetlenir](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image17.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="c1a4f-230">[![The Validation Errors are Summarized in a Client-Side Messagebox](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image17.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image16.png)</span></span>

<span data-ttu-id="c1a4f-231">**Şekil 6**: doğrulama hataları, bir istemci-tarafı Messagebox özetlenir ([tam boyutlu görüntüyü görüntülemek için tıklatın](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="c1a4f-231">**Figure 6**: The Validation Errors are Summarized in a Client-Side Messagebox ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image18.png))</span></span>


## <a name="summary"></a><span data-ttu-id="c1a4f-232">Özet</span><span class="sxs-lookup"><span data-stu-id="c1a4f-232">Summary</span></span>

<span data-ttu-id="c1a4f-233">Bu öğreticide önceden güncelleştirme iş akışında kullanmayı denemeden önce bizim kullanıcılar girişleri geçerli olduğundan emin olmak için doğrulama denetimlerini kullanarak özel durumlar olasılığını azaltmak nasıl gördük.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-233">In this tutorial we saw how to reduce the likelihood of exceptions by using validation controls to proactively ensure that our users inputs are valid before attempting to use them in the updating workflow.</span></span> <span data-ttu-id="c1a4f-234">ASP.NET, belirli bir Web incelemek için tasarlanmış beş doğrulama Web denetimleri s girişi denetleyebilir ve geri giriş s geçerliliği rapor sağlar.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-234">ASP.NET provides five validation Web controls that are designed to inspect a particular Web control s input and report back on the input s validity.</span></span> <span data-ttu-id="c1a4f-235">Bu öğreticide iki bu beş denetimleri RequiredFieldValidator ve CompareValidator ürün s adı sağlandı ve fiyat değeri sıfırdan büyük veya sıfıra eşit bir para birimi biçimi olan emin olmak için kullandık.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-235">In this tutorial we used two of those five controls the RequiredFieldValidator and the CompareValidator to ensure that the product s name was supplied and that the price had a currency format with a value greater than or equal to zero.</span></span>

<span data-ttu-id="c1a4f-236">Arabirim düzenleme DataList s doğrulama denetimleri ekleme üzerine sürükleyerek olarak basit `EditItemTemplate` araç ve Özellikler sayıda ayarlama.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-236">Adding validation controls to the DataList s editing interface is as simple as dragging them onto the `EditItemTemplate` from the Toolbox and setting a handful of properties.</span></span> <span data-ttu-id="c1a4f-237">Varsayılan olarak, doğrulama denetimleri otomatik olarak istemci tarafı doğrulama betiği yayma; Ayrıca sunucu tarafında doğrulama geri gönderme, toplu sonucunda depolama üzerinde sağladıkları `Page.IsValid` özelliği.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-237">By default, the validation controls automatically emit client-side validation script; they also provide server-side validation on postback, storing the cumulative result in the `Page.IsValid` property.</span></span> <span data-ttu-id="c1a4f-238">Düğme, LinkButton veya ImageButton tıklandığında istemci tarafı doğrulamasını atlamak için s düğmesi ayarlamak `CausesValidation` özelliğine `False`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-238">To bypass the client-side validation when a Button, LinkButton, or ImageButton is clicked, set the button s `CausesValidation` property to `False`.</span></span> <span data-ttu-id="c1a4f-239">Ayrıca, geri göndermede gönderilen veriler ile tüm görevleri gerçekleştirmeden önce emin `Page.IsValid` özelliği döndürür `True`.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-239">Also, before performing any tasks with the data submitted on postback, ensure that the `Page.IsValid` property returns `True`.</span></span>

<span data-ttu-id="c1a4f-240">Tüm öğreticileri düzenleme DataList biz kadarki incelenmesi ve ürün s adı için bir metin kutusu ve başka fiyat çok basit düzenleme arabirimleri sahip.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-240">All of the DataList editing tutorials we ve examined so far have had very simple editing interfaces a TextBox for the product s name and another for the price.</span></span> <span data-ttu-id="c1a4f-241">Düzenleme arabirimi ancak DropDownLists, takvim, RadioButtons, onay kutularını ve benzerleri gibi farklı Web denetimleri bir karışımını içerebilir.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-241">The editing interface, however, can contain a mix of different Web controls, such as DropDownLists, Calendars, RadioButtons, CheckBoxes, and so on.</span></span> <span data-ttu-id="c1a4f-242">Bizim sonraki öğreticide Web denetimleri çeşitli kullanan bir arabirim oluşturmayı öğreneceksiniz.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-242">In our next tutorial we'll look at building an interface that uses a variety of Web controls.</span></span>

<span data-ttu-id="c1a4f-243">Mutluluk programlama!</span><span class="sxs-lookup"><span data-stu-id="c1a4f-243">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="c1a4f-244">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="c1a4f-244">About the Author</span></span>

<span data-ttu-id="c1a4f-245">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar ve yedi ASP/ASP.NET books kurucusu, [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web teknolojileri ile bu yana 1998 çalışma.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-245">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="c1a4f-246">Tan bağımsız Danışman, eğitmen ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-246">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="c1a4f-247">En son kendi defteri [ *kendi öğretmek kendiniz ASP.NET 2.0 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="c1a4f-247">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="c1a4f-248">Kendisi üzerinde erişilebilir [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) veya kendi blog hangi adresinde bulunabilir [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="c1a4f-248">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="c1a4f-249">Özel teşekkürler</span><span class="sxs-lookup"><span data-stu-id="c1a4f-249">Special Thanks To</span></span>

<span data-ttu-id="c1a4f-250">Bu öğretici seri pek çok yararlı gözden geçirenler tarafından gözden geçirildi.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-250">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="c1a4f-251">Bu öğretici için sağlama gözden geçirenler Dennis Patterson, Ken Pespisa ve Liz Shulok yoktu.</span><span class="sxs-lookup"><span data-stu-id="c1a4f-251">Lead reviewers for this tutorial were Dennis Patterson, Ken Pespisa, and Liz Shulok.</span></span> <span data-ttu-id="c1a4f-252">My yaklaşan MSDN makaleleri gözden geçirme ilginizi çekiyor mu?</span><span class="sxs-lookup"><span data-stu-id="c1a4f-252">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="c1a4f-253">Öyleyse, bana bir satırında bırakma [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="c1a4f-253">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="c1a4f-254">[Önceki](handling-bll-and-dal-level-exceptions-cs.md)
> [sonraki](customizing-the-datalist-s-editing-interface-cs.md)</span><span class="sxs-lookup"><span data-stu-id="c1a4f-254">[Previous](handling-bll-and-dal-level-exceptions-cs.md)
[Next](customizing-the-datalist-s-editing-interface-cs.md)</span></span>

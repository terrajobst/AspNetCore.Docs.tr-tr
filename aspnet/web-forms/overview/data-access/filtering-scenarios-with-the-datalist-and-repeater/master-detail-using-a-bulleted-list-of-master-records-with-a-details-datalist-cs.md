---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs
title: Madde işaretli ana kayıtların listesini ayrıntıları DataList ile (C#) kullanarak ana/ayrıntı | Microsoft Docs
author: rick-anderson
description: Bu öğreticide şu iki sayfalık ana/ayrıntı raporu önceki öğreticinin tek bir sayfada, t madde işaretli kategori adları listesini gösteren Sıkıştır...
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/17/2006
ms.topic: article
ms.assetid: c727bb73-7b59-41a1-8dc3-623c6d69e7c2
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: c041c352c379dc1d3c0f13013e7e323faa500912
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/06/2018
ms.locfileid: "30888974"
---
<a name="masterdetail-using-a-bulleted-list-of-master-records-with-a-details-datalist-c"></a><span data-ttu-id="86ee9-103">Madde işaretli ana kayıtların listesini ayrıntıları DataList ile (C#) kullanarak ana/ayrıntı</span><span class="sxs-lookup"><span data-stu-id="86ee9-103">Master/Detail Using a Bulleted List of Master Records with a Details DataList (C#)</span></span>
====================
<span data-ttu-id="86ee9-104">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="86ee9-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="86ee9-105">[Örnek uygulamayı indirin](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_35_CS.exe) veya [PDF indirin](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/datatutorial35cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="86ee9-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_35_CS.exe) or [Download PDF](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/datatutorial35cs1.pdf)</span></span>

> <span data-ttu-id="86ee9-106">Bu öğreticide şu iki sayfalık ana/ayrıntı raporu önceki öğreticinin tek bir sayfada, ekran ve seçili kategorinin ürünleri ekranın sağ taraftaki sol tarafındaki madde işaretli kategori adları listesini gösteren sıkıştırın.</span><span class="sxs-lookup"><span data-stu-id="86ee9-106">In this tutorial we'll compress the two-page master/detail report of the previous tutorial into a single page, showing a bulleted list of category names on the left side of the screen and the selected category's products on the right of the screen.</span></span>


## <a name="introduction"></a><span data-ttu-id="86ee9-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="86ee9-107">Introduction</span></span>

<span data-ttu-id="86ee9-108">İçinde [önceki öğretici](master-detail-filtering-acess-two-pages-datalist-cs.md) ana/ayrıntı raporu iki sayfalara ayırmak nasıl inceledik.</span><span class="sxs-lookup"><span data-stu-id="86ee9-108">In the [preceding tutorial](master-detail-filtering-acess-two-pages-datalist-cs.md) we looked at how to separate a master/detail report across two pages.</span></span> <span data-ttu-id="86ee9-109">Ana sayfada madde işaretli kategorilerin listesini oluşturmak için bir yineleyici denetimi kullanılır.</span><span class="sxs-lookup"><span data-stu-id="86ee9-109">In the master page we used a Repeater control to render a bulleted list of categories.</span></span> <span data-ttu-id="86ee9-110">Köprü her kategori adı olduğu tıklatıldığında Al burada iki sütun DataList gösterdi bu ürünlerden Ayrıntıları sayfası, kullanıcıya ait, seçilen kategoriye.</span><span class="sxs-lookup"><span data-stu-id="86ee9-110">Each category name was a hyperlink that, when clicked, would take the user to the details page, where a two-column DataList showed those products belonging to the selected category.</span></span>

<span data-ttu-id="86ee9-111">Bu öğreticide şu iki sayfalık öğretici tek bir sayfada, LinkButton işlenen her kategori adı ile ekranın sol tarafındaki madde işaretli kategori adları listesini gösteren sıkıştırın.</span><span class="sxs-lookup"><span data-stu-id="86ee9-111">In this tutorial we'll compress the two-page tutorial into a single page, showing a bulleted list of category names on the left side of the screen with each category name rendered as a LinkButton.</span></span> <span data-ttu-id="86ee9-112">Kategori adı LinkButtons birini tıklatarak geri gönderimin uygulanmasını ve seçilen kategori s ürünleri iki sütun DataList ekranın sağ taraftaki bağlar.</span><span class="sxs-lookup"><span data-stu-id="86ee9-112">Clicking one of the category name LinkButtons induces a postback and binds the selected category s products to a two-column DataList on the right of the screen.</span></span> <span data-ttu-id="86ee9-113">Her kategori s adı görüntüleme ek olarak, sol taraftaki yineleyici var. kaç toplam ürünleri için belirli bir kategori gösterilir (bkz: Şekil 1).</span><span class="sxs-lookup"><span data-stu-id="86ee9-113">In addition to displaying each category s name, the Repeater on the left shows how many total products there are for a given category (see Figure 1).</span></span>


<span data-ttu-id="86ee9-114">[![Kategori adı s ve ürünleri toplam sayı soldaki bölmede görüntülenir](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image2.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-114">[![The Category s Name and Total Number of Products are Displayed on the Left](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image2.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image1.png)</span></span>

<span data-ttu-id="86ee9-115">**Şekil 1**: Kategori s adı ve ürünleri toplam sayı soldaki bölmede görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-115">**Figure 1**: The Category s Name and Total Number of Products are Displayed on the Left ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image3.png))</span></span>


## <a name="step-1-displaying-a-repeater-in-the-left-portion-of-the-screen"></a><span data-ttu-id="86ee9-116">1. adım: bir yineleyici ekranın sol bölümünde görüntüleme</span><span class="sxs-lookup"><span data-stu-id="86ee9-116">Step 1: Displaying a Repeater in the Left Portion of the Screen</span></span>

<span data-ttu-id="86ee9-117">Bu öğretici için size kategorileri Madde işaretli listede seçilen kategori s ürünleri solunda görünür olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-117">For this tutorial we need to have the bulleted list of categories appear to the left of the selected category s products.</span></span> <span data-ttu-id="86ee9-118">İçinde bir web sayfası içeriği konumlandırılmış standart HTML öğelerini paragraf etiketleri bölünemez boşluklar kullanarak `<table>` s ve benzeri veya geçişli stil sayfası (CSS) teknikleri aracılığıyla.</span><span class="sxs-lookup"><span data-stu-id="86ee9-118">Content within a web page can be positioned using standard HTML elements paragraph tags, non-breaking spaces, `<table>` s, and so on or through cascading stylesheet (CSS) techniques.</span></span> <span data-ttu-id="86ee9-119">Konumlandırma için öğreticilerimizi tümünün CSS teknikleri bugüne kadarki kullandınız.</span><span class="sxs-lookup"><span data-stu-id="86ee9-119">All of our tutorials thus far have used CSS techniques for positioning.</span></span> <span data-ttu-id="86ee9-120">Ne zaman oluşturduğumuz Gezinti kullanıcı arabirimi ana sayfamızı içinde [ana sayfalar ve Site gezintisi](../introduction/master-pages-and-site-navigation-cs.md) kullandık öğretici *mutlak konumlandırma*, gezinti için kesin piksel uzaklık belirten Liste ve ana içerik.</span><span class="sxs-lookup"><span data-stu-id="86ee9-120">When we built the navigation user interface in our master page in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial we used *absolute positioning*, indicating the precise pixel offset for the navigation list and the main content.</span></span> <span data-ttu-id="86ee9-121">Alternatif olarak, CSS bir öğeye sağa veya sola başka bir konuma kullanılabilir *kayan*.</span><span class="sxs-lookup"><span data-stu-id="86ee9-121">Alternatively, CSS can be used to position one element to the right or left of another through *floating*.</span></span> <span data-ttu-id="86ee9-122">Yineleyici DataList solundaki kayan tarafından seçilen kategori s ürünleri solunda görüntülenir kategorileri Madde işaretli listede sahip olabilir</span><span class="sxs-lookup"><span data-stu-id="86ee9-122">We can have the bulleted list of categories appear to the left of the selected category s products by floating the Repeater to the left of the DataList</span></span>

<span data-ttu-id="86ee9-123">Açık `CategoriesAndProducts.aspx` gelen sayfa `DataListRepeaterFiltering` klasör ve bir yineleyici ve DataList sayfasına ekleyin.</span><span class="sxs-lookup"><span data-stu-id="86ee9-123">Open the `CategoriesAndProducts.aspx` page from the `DataListRepeaterFiltering` folder and add to the page a Repeater and a DataList.</span></span> <span data-ttu-id="86ee9-124">Yineleyici s ayarlamak `ID` için `Categories` ve için s DataList `CategoryProducts`.</span><span class="sxs-lookup"><span data-stu-id="86ee9-124">Set the Repeater s `ID` to `Categories` and the DataList s to `CategoryProducts`.</span></span> <span data-ttu-id="86ee9-125">Kaynak görünümüne gidin ve kendi içinde Yineleyici ve DataList denetimleri yerleştirme `<div>` öğeleri.</span><span class="sxs-lookup"><span data-stu-id="86ee9-125">Go to the Source view and put the Repeater and DataList controls within their own `<div>` elements.</span></span> <span data-ttu-id="86ee9-126">Diğer bir deyişle, içinde yineleyici içine bir `<div>` öğesi ilk ve daha sonra kendi içinde DataList `<div>` yineleyici hemen sonra öğesi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-126">That is, enclose the Repeater within a `<div>` element first and then the DataList in its own `<div>` element directly after the Repeater.</span></span> <span data-ttu-id="86ee9-127">Bu noktada, biçimlendirme aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="86ee9-127">Your markup at this point should look similar to the following:</span></span>


[!code-aspx[Main](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/samples/sample1.aspx)]

<span data-ttu-id="86ee9-128">Yineleyici DataList solundaki float için kullanılacak ihtiyacımız `float` CSS stil özniteliği şu şekilde:</span><span class="sxs-lookup"><span data-stu-id="86ee9-128">To float the Repeater to the left of the DataList, we need to use the `float` CSS style attribute, like so:</span></span>


[!code-html[Main](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/samples/sample2.html)]

<span data-ttu-id="86ee9-129">`float: left;` İlk gezinen `<div>` ikincisi solundaki öğesi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-129">The `float: left;` floats the first `<div>` element to the left of the second one.</span></span> <span data-ttu-id="86ee9-130">`width` Ve `padding-right` ayarları belirtmek ilk `<div>` s `width` ve ne kadar doldurma arasında eklenir `<div>` öğe s içeriği ve sağ alt kenar boşluğu.</span><span class="sxs-lookup"><span data-stu-id="86ee9-130">The `width` and `padding-right` settings indicate the first `<div>` s `width` and how much padding is added between the `<div>` element s content and its right margin.</span></span> <span data-ttu-id="86ee9-131">CSS öğeleri kayan hakkında daha fazla bilgi için kullanıma [Floatutorial](http://css.maxdesign.com.au/floatutorial/).</span><span class="sxs-lookup"><span data-stu-id="86ee9-131">For more information on floating elements in CSS check out the [Floatutorial](http://css.maxdesign.com.au/floatutorial/).</span></span>

<span data-ttu-id="86ee9-132">İlk aracılığıyla doğrudan stil ayarı belirtmek yerine `<p>` öğesi s `style` özniteliği, bunun yerine, yeni bir CSS sınıfı oluşturmak s izin `Styles.css` adlı `FloatLeft`:</span><span class="sxs-lookup"><span data-stu-id="86ee9-132">Rather than specify the style setting directly through the first `<p>` element s `style` attribute, let s instead create a new CSS class in `Styles.css` named `FloatLeft`:</span></span>


[!code-css[Main](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/samples/sample3.css)]

<span data-ttu-id="86ee9-133">Biz değiştirebilirsiniz sonra `<div>` ile `<div class="FloatLeft">`.</span><span class="sxs-lookup"><span data-stu-id="86ee9-133">Then we can replace the `<div>` with `<div class="FloatLeft">`.</span></span>

<span data-ttu-id="86ee9-134">CSS sınıfı ekleme ve biçimlendirme yapılandırma sonra `CategoriesAndProducts.aspx` sayfasında, Designer'a gidin.</span><span class="sxs-lookup"><span data-stu-id="86ee9-134">After adding the CSS class and configuring the markup in the `CategoriesAndProducts.aspx` page, go to the Designer.</span></span> <span data-ttu-id="86ee9-135">(Sağ şimdi her ikisi de yalnızca görünse henüz kendi veri kaynakları veya şablonları yapılandırmak için ve biz bu yana kutuları gri olarak) DataList soluna kayan yineleyici görmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-135">You should see the Repeater floating to the left of the DataList (although right now both just appear as gray boxes since we ve yet to configure their data sources or templates).</span></span>


<span data-ttu-id="86ee9-136">[![Yineleyici DataList soluna Yüzdürülen](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image5.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-136">[![The Repeater is Floated to the Left of the DataList](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image5.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image4.png)</span></span>

<span data-ttu-id="86ee9-137">**Şekil 2**: yineleyici DataList soluna kaydırılmış ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-137">**Figure 2**: The Repeater is Floated to the Left of the DataList ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image6.png))</span></span>


## <a name="step-2-determining-the-number-of-products-for-each-category"></a><span data-ttu-id="86ee9-138">2. adım: her kategori için ürünleri sayısını belirleme</span><span class="sxs-lookup"><span data-stu-id="86ee9-138">Step 2: Determining the Number of Products for Each Category</span></span>

<span data-ttu-id="86ee9-139">İşaretleme tam çevreleyen Yineleyici ve DataList s ile biz yineleyici kategori veri bağlamak için hazır re kontrol eder.</span><span class="sxs-lookup"><span data-stu-id="86ee9-139">With the Repeater and DataList s surrounding markup complete, we re ready to bind the category data to the Repeater control.</span></span> <span data-ttu-id="86ee9-140">Madde işaretli kategori listesi, Şekil 1'de gösterildiği gibi ancak, her kategori s adı yanı sıra biz de kategoriyle ilişkili ürünlerin sayısını görüntülemek gerekir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-140">However, as the bulleted list of categories in Figure 1 shows, in addition to each category s name we also need to display the number of products associated with the category.</span></span> <span data-ttu-id="86ee9-141">Bu bilgilere erişmek için şu şunlardan birini yapabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="86ee9-141">To access this information we can either:</span></span>

- <span data-ttu-id="86ee9-142">**ASP.NET sayfası s arka plandaki kod sınıfı bu bilgiyi belirler.**</span><span class="sxs-lookup"><span data-stu-id="86ee9-142">**Determine this information from the ASP.NET page s code-behind class.**</span></span> <span data-ttu-id="86ee9-143">Belirli bir verilen *`categoryID`* çağırarak biz ilişkili ürünlerin sayısını belirleyebilirsiniz `ProductsBLL` s sınıfı `GetProductsByCategoryID(categoryID)` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-143">Given a particular *`categoryID`* we can determine the number of associated products by calling the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="86ee9-144">Bu yöntem bir `ProductsDataTable` nesnesindeki `Count` özelliği gösterir kaç `ProductsRow` s olduğunu, hangi ürünler için belirtilen sayısıdır *`categoryID`*.</span><span class="sxs-lookup"><span data-stu-id="86ee9-144">This method returns a `ProductsDataTable` object whose `Count` property indicates how many `ProductsRow` s exists, which is the number of products for the specified *`categoryID`*.</span></span> <span data-ttu-id="86ee9-145">Oluşturabiliriz bir `ItemDataBound` , yineleyici için bağlı her kategori için çağıran yineleyici için olay işleyicisini `ProductsBLL` s sınıfı `GetProductsByCategoryID(categoryID)` yöntemi ve çıktıda sayımına içerir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-145">We can create an `ItemDataBound` event handler for the Repeater that, for each category bound to the Repeater, calls the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method and includes its count in the output.</span></span>
- <span data-ttu-id="86ee9-146">**Güncelleştirme `CategoriesDataTable` dahil etmek için yazılan kümesindeki bir `NumberOfProducts` sütun.**</span><span class="sxs-lookup"><span data-stu-id="86ee9-146">**Update the `CategoriesDataTable` in the Typed DataSet to include a `NumberOfProducts` column.**</span></span> <span data-ttu-id="86ee9-147">Biz sonra güncelleştirebilirsiniz `GetCategories()` yönteminde `CategoriesDataTable` bu bilgiyi içer veya alternatif olarak, bırakın için `GetCategories()` olarak-ise ve yeni bir `CategoriesDataTable` adlı bir yöntem `GetCategoriesAndNumberOfProducts()`.</span><span class="sxs-lookup"><span data-stu-id="86ee9-147">We can then update the `GetCategories()` method in the `CategoriesDataTable` to include this information or, alternatively, leave `GetCategories()` as-is and create a new `CategoriesDataTable` method called `GetCategoriesAndNumberOfProducts()`.</span></span>

<span data-ttu-id="86ee9-148">Bu teknikler her ikisi de keşfedin s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="86ee9-148">Let s explore both of these techniques.</span></span> <span data-ttu-id="86ee9-149">İlk yaklaşım, biz t veri erişim katmanı güncelleştirme gerek güncelleştireceğinizi bu yana uygulama kolaydır; Ancak, veritabanı ile daha fazla iletişim gerektirir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-149">The first approach is simpler to implement since we don t need to update the Data Access Layer; however, it requires more communications with the database.</span></span> <span data-ttu-id="86ee9-150">Çağrı `ProductsBLL` s sınıfı `GetProductsByCategoryID(categoryID)` yönteminde `ItemDataBound` ek veritabanı çağrısı Yineleyicideki görüntülenen her kategori için olay işleyicisini ekler.</span><span class="sxs-lookup"><span data-stu-id="86ee9-150">The call to the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method in the `ItemDataBound` event handler adds an extra database call for each category displayed in the Repeater.</span></span> <span data-ttu-id="86ee9-151">Bu teknik ile vardır *N* + 1 veritabanı çağrısı, burada *N* Yineleyicideki görüntülenen kategorileri sayısıdır.</span><span class="sxs-lookup"><span data-stu-id="86ee9-151">With this technique there are *N* + 1 database calls, where *N* is the number of categories displayed in the Repeater.</span></span> <span data-ttu-id="86ee9-152">İkinci yaklaşımda, ürün sayısı her kategoriden hakkındaki bilgilerle döndürülen `CategoriesBLL` s sınıfı `GetCategories()` (veya `GetCategoriesAndNumberOfProducts()`) içinde yalnızca bir seyahat veritabanına böylece kaynaklanan yöntemi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-152">With the second approach, the product count is returned with information about each category from the `CategoriesBLL` class s `GetCategories()` (or `GetCategoriesAndNumberOfProducts()`) method, thereby resulting in just one trip to the database.</span></span>

## <a name="determining-the-number-of-products-in-the-itemdatabound-event-handler"></a><span data-ttu-id="86ee9-153">ItemDataBound olay işleyicisi ürünlerinde sayısını belirleme</span><span class="sxs-lookup"><span data-stu-id="86ee9-153">Determining the Number of Products in the ItemDataBound Event Handler</span></span>

<span data-ttu-id="86ee9-154">Yineleyicideki s her kategori için ürünleri sayısını belirleme `ItemDataBound` olay işleyicisi bizim mevcut veri erişim katmanı için herhangi bir değişiklik gerektirmez.</span><span class="sxs-lookup"><span data-stu-id="86ee9-154">Determining the number of products for each category in the Repeater s `ItemDataBound` event handler does not require any modifications to our existing Data Access Layer.</span></span> <span data-ttu-id="86ee9-155">Tüm değişiklikleri doğrudan içinde yapılan `CategoriesAndProducts.aspx` sayfası.</span><span class="sxs-lookup"><span data-stu-id="86ee9-155">All modifications can be made directly within the `CategoriesAndProducts.aspx` page.</span></span> <span data-ttu-id="86ee9-156">Adlı yeni bir ObjectDataSource eklemeye başlayın `CategoriesDataSource` yineleyici s akıllı etiket aracılığıyla.</span><span class="sxs-lookup"><span data-stu-id="86ee9-156">Start by adding a new ObjectDataSource named `CategoriesDataSource` via the Repeater s smart tag.</span></span> <span data-ttu-id="86ee9-157">Ardından, yapılandırma `CategoriesDataSource` şekilde kendi veri alır şekilde ObjectDataSource `CategoriesBLL` s sınıfı `GetCategories()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-157">Next, configure the `CategoriesDataSource` ObjectDataSource so that it retrieves its data from the `CategoriesBLL` class s `GetCategories()` method.</span></span>


<span data-ttu-id="86ee9-158">[![ObjectDataSource CategoriesBLL sınıf s GetCategories() yöntemi kullanacak şekilde yapılandırma](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image8.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-158">[![Configure the ObjectDataSource to Use the CategoriesBLL class s GetCategories() Method](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image8.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image7.png)</span></span>

<span data-ttu-id="86ee9-159">**Şekil 3**: ObjectDataSource kullanılacak yapılandırma `CategoriesBLL` s sınıfı `GetCategories()` yöntemi ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-159">**Figure 3**: Configure the ObjectDataSource to Use the `CategoriesBLL` class s `GetCategories()` Method ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image9.png))</span></span>


<span data-ttu-id="86ee9-160">Her öğe `Categories` yineleyici tıklanabilir ve tıklatıldığında neden için gereksinim duyduğu `CategoryProducts` DataList seçilen kategori için bu ürünleri görüntüler.</span><span class="sxs-lookup"><span data-stu-id="86ee9-160">Each item in the `Categories` Repeater needs to be clickable and, when clicked, cause the `CategoryProducts` DataList to display those products for the selected category.</span></span> <span data-ttu-id="86ee9-161">Bu aynı bu sayfaya bağlama köprü, her kategori yaparak gerçekleştirilebilir (`CategoriesAndProducts.aspx`), ancak geçen `CategoryID` önceki öğreticide çok gördüğümüz gibi querystring aracılığıyla.</span><span class="sxs-lookup"><span data-stu-id="86ee9-161">This can be accomplished by making each category a hyperlink, linking back to this same page (`CategoriesAndProducts.aspx`), but passing the `CategoryID` through the querystring, much like we saw in the previous tutorial.</span></span> <span data-ttu-id="86ee9-162">Bu yaklaşımın avantajı, belirli kategori s ürünleri görüntüleyen bir sayfa kullanılabilir işareti ve bir arama motoru tarafından dizine emin olan.</span><span class="sxs-lookup"><span data-stu-id="86ee9-162">The advantage of this approach is that a page displaying a particular category s products can be bookmarked and indexed by a search engine.</span></span>

<span data-ttu-id="86ee9-163">Alternatif olarak, biz Bu öğreticide kullanacağız yaklaşım olduğu bir LinkButton her kategori yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="86ee9-163">Alternatively, we can make each category a LinkButton, which is the approach we'll use for this tutorial.</span></span> <span data-ttu-id="86ee9-164">LinkButton köprü olarak kullanıcı s tarayıcıda işler ancak tıklatıldığında geri gönderimin uygulanmasını; geri göndermede, DataList s ObjectDataSource seçili kategorisine ait bu ürünlerden görüntülenecek yenilenmesi gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="86ee9-164">The LinkButton renders in the user s browser as a hyperlink but, when clicked, induces a postback; on postback, the DataList s ObjectDataSource needs to be refreshed to display those products belonging to the selected category.</span></span> <span data-ttu-id="86ee9-165">Bu öğretici için köprü kullanarak bir LinkButton kullanmaktan daha anlamlı olur; Ancak, bir LinkButton kullanarak daha avantajlı olduğu diğer senaryolar olabilir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-165">For this tutorial, using a hyperlink makes more sense than using a LinkButton; however, there may be other scenarios where using a LinkButton is more advantageous.</span></span> <span data-ttu-id="86ee9-166">Köprü yaklaşımı Bu örnek için ideal olsa da, bunun yerine LinkButton kullanarak araştırmaya s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="86ee9-166">While the hyperlink approach would be ideal for this example, let s instead explore using the LinkButton.</span></span> <span data-ttu-id="86ee9-167">Anlatıldığı gibi bir LinkButton kullanarak sahip bir köprüyü ortaya olmayan bazı zorluklar getirir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-167">As we'll see, using a LinkButton introduces some challenges that would not otherwise arise with a hyperlink.</span></span> <span data-ttu-id="86ee9-168">Bu nedenle, bu öğreticide bir LinkButton kullanarak bu zorluklar vurgulayın ve burada size bir LinkButton yerine bir köprü kullanmak isteyebilirsiniz bu senaryoları için çözümler sağlamaya yardımcı.</span><span class="sxs-lookup"><span data-stu-id="86ee9-168">Therefore, using a LinkButton in this tutorial will highlight these challenges and help provide solutions for those scenarios where we may want to use a LinkButton instead of a hyperlink.</span></span>

> [!NOTE]
> <span data-ttu-id="86ee9-169">Köprü denetim kullanarak bu öğreticinin yineleyin önerilir veya `<a>` LinkButton yerine öğesi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-169">You are encouraged to repeat this tutorial using a HyperLink control or `<a>` element in lieu of the LinkButton.</span></span>


<span data-ttu-id="86ee9-170">Aşağıdaki biçimlendirmede Yineleyici ve ObjectDataSource için bildirim temelli söz dizimini gösterir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-170">The following markup shows the declarative syntax for the Repeater and the ObjectDataSource.</span></span> <span data-ttu-id="86ee9-171">Yineleyici s şablonlarını listeyi bir LinkButton olarak her bir öğesiyle işle dikkat edin:</span><span class="sxs-lookup"><span data-stu-id="86ee9-171">Note that the Repeater s templates render a bulleted list with each item as a LinkButton:</span></span>


[!code-aspx[Main](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/samples/sample4.aspx)]

> [!NOTE]
> <span data-ttu-id="86ee9-172">Bu öğretici için etkin görünüm durumunu yineleyici olmalıdır (Java'daki Not `EnableViewState="False"` yineleyici s bildirim temelli sözdiziminden).</span><span class="sxs-lookup"><span data-stu-id="86ee9-172">For this tutorial the Repeater must have its view state enabled (note the omission of the `EnableViewState="False"` from the Repeater s declarative syntax).</span></span> <span data-ttu-id="86ee9-173">3. adımda size bir olay işleyicisi yineleyici s oluşturursunuz `ItemCommand` , biz güncelleştiriyor s ObjectDataSource s DataList olay `SelectParameters` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="86ee9-173">In step 3 we'll be creating an event handler for the Repeater s `ItemCommand` event in which we'll be updating the DataList s ObjectDataSource s `SelectParameters` collection.</span></span> <span data-ttu-id="86ee9-174">Yineleyici s `ItemCommand`, ancak, Görünüm durumu devre dışı bırakılmışsa t yangın won.</span><span class="sxs-lookup"><span data-stu-id="86ee9-174">The Repeater s `ItemCommand`, however, won t fire if view state is disabled.</span></span> <span data-ttu-id="86ee9-175">Bkz: [A zorlu bir ASP.NET soru](http://scottonwriting.net/sowblog/posts/1263.aspx) ve [çözümünün](http://scottonwriting.net/sowBlog/posts/1268.aspx) neden hakkında daha fazla bilgi için Görünüm durumunun yineleyici s için etkin `ItemCommand` tetiklenecek olay.</span><span class="sxs-lookup"><span data-stu-id="86ee9-175">See [A Stumper of an ASP.NET Question](http://scottonwriting.net/sowblog/posts/1263.aspx) and [its solution](http://scottonwriting.net/sowBlog/posts/1268.aspx) for more information on why view state must be enabled for a Repeater s `ItemCommand` event to fire.</span></span>


<span data-ttu-id="86ee9-176">İle LinkButton `ID` özellik değerinin `ViewCategory` sahip değil, `Text` özellik kümesi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-176">The LinkButton with the `ID` property value of `ViewCategory` does not have its `Text` property set.</span></span> <span data-ttu-id="86ee9-177">Biz yalnızca kategori adı görüntülenecek istediyseniz, metin özelliğini bildirimli olarak, veri bağlama söz dizimi ayarlarız sözlüğüdür:</span><span class="sxs-lookup"><span data-stu-id="86ee9-177">If we had just wanted to display the category name, we would have set the Text property declaratively, through databinding syntax, like so:</span></span>


[!code-aspx[Main](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/samples/sample5.aspx)]

<span data-ttu-id="86ee9-178">Ancak, kategori s adlarını göstermek istiyoruz *ve* bu kategoriye ait ürünleri sayısı.</span><span class="sxs-lookup"><span data-stu-id="86ee9-178">However, we want to show both the category s name *and* the number of products belonging to that category.</span></span> <span data-ttu-id="86ee9-179">Bu bilgiler yineleyici s alınabilir `ItemDataBound` yapılan bir çağrı yaparak olay işleyicisi `ProductBLL` s sınıfı `GetCategoriesByProductID(categoryID)` yöntemi ve kaç tane kayıtlar kaynaklanan döndürülür belirleme `ProductsDataTable`, aşağıdaki kod olarak gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="86ee9-179">This information can be retrieved from the Repeater s `ItemDataBound` event handler by making a call to the `ProductBLL` class s `GetCategoriesByProductID(categoryID)` method and determining how many records are returned in the resulting `ProductsDataTable`, as the following code illustrates:</span></span>


[!code-csharp[Main](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/samples/sample6.cs)]

<span data-ttu-id="86ee9-180">Biz, sağlayarak başlar biz sahip veri öğesi çalışma re (bir olan `ItemType` olan `Item` veya `AlternatingItem`) ve ardından başvuru `CategoriesRow` geçerli bir yalnızca bağlı örneği `RepeaterItem`.</span><span class="sxs-lookup"><span data-stu-id="86ee9-180">We start out by ensuring that we re working with a data item (one whose `ItemType` is `Item` or `AlternatingItem`) and then reference the `CategoriesRow` instance that has just been bound to the current `RepeaterItem`.</span></span> <span data-ttu-id="86ee9-181">Ardından, bu kategorideki ürünleri sayısı örneğini oluşturarak belirleriz `ProductsBLL` çağrılırken, sınıf kendi `GetCategoriesByProductID(categoryID)` yöntemi ve kullanarak döndürülen kayıt sayısını belirleme `Count` özelliği.</span><span class="sxs-lookup"><span data-stu-id="86ee9-181">Next, we determine the number of products for this category by creating an instance of the `ProductsBLL` class, calling its `GetCategoriesByProductID(categoryID)` method, and determining the number of records returned using the `Count` property.</span></span> <span data-ttu-id="86ee9-182">Son olarak, `ViewCategory` ItemTemplate LinkButton olan başvuruları ve kendi `Text` özelliği ayarlanmış *CategoryName* (*NumberOfProductsInCategory*), burada  *NumberOfProductsInCategory* sıfır ondalık basamaklı bir sayı olarak biçimlendirilmiş.</span><span class="sxs-lookup"><span data-stu-id="86ee9-182">Finally, the `ViewCategory` LinkButton in the ItemTemplate is references and its `Text` property is set to *CategoryName* (*NumberOfProductsInCategory*), where *NumberOfProductsInCategory* is formatted as a number with zero decimal places.</span></span>

> [!NOTE]
> <span data-ttu-id="86ee9-183">Alternatif olarak, ekledik bir *işlevi biçimlendirme* kategori s kabul ASP.NET sayfası s arka plandaki kod sınıfı için `CategoryName` ve `CategoryID` değerleri ve döndürür `CategoryName` sayısı ile birleştirilmiş Kategori ürünlerinde (çağırarak belirlenen `GetCategoriesByProductID(categoryID)` yöntemi).</span><span class="sxs-lookup"><span data-stu-id="86ee9-183">Alternatively, we could have added a *formatting function* to the ASP.NET page s code-behind class that accepts a category s `CategoryName` and `CategoryID` values and returns the `CategoryName` concatenated with the number of products in the category (as determined by calling the `GetCategoriesByProductID(categoryID)` method).</span></span> <span data-ttu-id="86ee9-184">Bu tür bir biçimlendirme işlevi sonuçlarını LinkButton s gereksinimini değiştirme metin özelliği bildirimli olarak atanabilir `ItemDataBound` olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-184">The results of such a formatting function could be declaratively assigned to the LinkButton s Text property replacing the need for the `ItemDataBound` event handler.</span></span> <span data-ttu-id="86ee9-185">Başvurmak [kullanarak TemplateFields GridView denetiminde](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) veya [DataList ve bağlı yineleyici göre verileri biçimlendirme](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) öğreticileri biçimlendirme işlevlerini kullanma hakkında daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="86ee9-185">Refer to the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) or [Formatting the DataList and Repeater Based Upon Data](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) tutorials for more information on using formatting functions.</span></span>


<span data-ttu-id="86ee9-186">Bu olay işleyicisi eklendikten sonra bir tarayıcı aracılığıyla bir sayfayı test etmek için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="86ee9-186">After adding this event handler, take a moment to test the page through a browser.</span></span> <span data-ttu-id="86ee9-187">Kategori s adı ve kategori ile ilişkili ürün sayısına görüntüleme madde işaretli listede, her kategoriye nasıl listelenen unutmayın (Şekil 4'e bakın).</span><span class="sxs-lookup"><span data-stu-id="86ee9-187">Note how each category is listed in a bulleted list, displaying the category s name and the number of products associated with the category (see Figure 4).</span></span>


<span data-ttu-id="86ee9-188">[![Her kategori s adı ve numarası, ürünleri görüntülenir](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image11.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-188">[![Each Category s Name and Number of Products are Displayed](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image11.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image10.png)</span></span>

<span data-ttu-id="86ee9-189">**Şekil 4**: her kategori s adı ve numarası, ürünleri görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-189">**Figure 4**: Each Category s Name and Number of Products are Displayed ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image12.png))</span></span>


## <a name="updating-thecategoriesdatatableandcategoriestableadapterto-include-the-number-of-products-for-each-category"></a><span data-ttu-id="86ee9-190">Güncelleştirme`CategoriesDataTable`ve`CategoriesTableAdapter`her kategori için ürün sayısına eklemek için</span><span class="sxs-lookup"><span data-stu-id="86ee9-190">Updating the`CategoriesDataTable`and`CategoriesTableAdapter`to Include the Number of Products for Each Category</span></span>

<span data-ttu-id="86ee9-191">S bağlı olarak her kategori için ürünleri sayısını belirleme yerine yineleyici için ayarlayarak Biz bu işlem kolaylaştırabilirsiniz `CategoriesDataTable` ve `CategoriesTableAdapter` bu bilgileri yerel olarak dahil etmek için veri erişim katmanı içinde.</span><span class="sxs-lookup"><span data-stu-id="86ee9-191">Rather than determining the number of products for each category as it s bound to the Repeater, we can streamline this process by adjusting the `CategoriesDataTable` and `CategoriesTableAdapter` in the Data Access Layer to include this information natively.</span></span> <span data-ttu-id="86ee9-192">Bunu başarmak için size yeni bir sütun eklemelisiniz `CategoriesDataTable` ilişkili ürünlerin sayısını tutmak için.</span><span class="sxs-lookup"><span data-stu-id="86ee9-192">To achieve this, we must add a new column to `CategoriesDataTable` to hold the number of associated products.</span></span> <span data-ttu-id="86ee9-193">DataTable tablosuna yeni bir sütun eklemek için yazılan veri kümesi'ni açın (`App_Code\DAL\Northwind.xsd`) değiştirmek için DataTable sağ tıklayın ve Ekle'yi seçin / sütun.</span><span class="sxs-lookup"><span data-stu-id="86ee9-193">To add a new column to a DataTable, open the Typed DataSet (`App_Code\DAL\Northwind.xsd`), right-click on the DataTable to modify, and choose Add / Column.</span></span> <span data-ttu-id="86ee9-194">Yeni bir sütun ekleyin `CategoriesDataTable` (bkz. Şekil 5).</span><span class="sxs-lookup"><span data-stu-id="86ee9-194">Add a new column to the `CategoriesDataTable` (see Figure 5).</span></span>


<span data-ttu-id="86ee9-195">[![CategoriesDataSource için yeni bir sütun ekleyin](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image14.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-195">[![Add a New Column to the CategoriesDataSource](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image14.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image13.png)</span></span>

<span data-ttu-id="86ee9-196">**Şekil 5**: yeni bir sütun ekleyin `CategoriesDataSource` ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-196">**Figure 5**: Add a New Column to the `CategoriesDataSource` ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image15.png))</span></span>


<span data-ttu-id="86ee9-197">Bu adlı yeni bir sütun ekler `Column1`, farklı bir ad yazarak değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="86ee9-197">This will add a new column named `Column1`, which you can change by simply typing in a different name.</span></span> <span data-ttu-id="86ee9-198">Bu yeni bir sütun için yeniden adlandırma `NumberOfProducts`.</span><span class="sxs-lookup"><span data-stu-id="86ee9-198">Rename this new column to `NumberOfProducts`.</span></span> <span data-ttu-id="86ee9-199">Ardından, biz bu sütun s özelliklerini yapılandırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-199">Next, we need to configure this column s properties.</span></span> <span data-ttu-id="86ee9-200">Yeni bir sütun üzerinde tıklatın ve Özellikler penceresine gidin.</span><span class="sxs-lookup"><span data-stu-id="86ee9-200">Click on the new column and go to the Properties window.</span></span> <span data-ttu-id="86ee9-201">S değiştirmek `DataType` özelliğinden `System.String` için `System.Int32` ve `ReadOnly` özelliğine `True`Şekil 6'da gösterildiği gibi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-201">Change the column s `DataType` property from `System.String` to `System.Int32` and set the `ReadOnly` property to `True`, as shown in Figure 6.</span></span>


![Veri türü ve yeni bir sütun salt okunur özelliklerini ayarlama](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image16.png)

<span data-ttu-id="86ee9-203">**Şekil 6**: ayarlamak `DataType` ve `ReadOnly` yeni bir sütun özellikleri</span><span class="sxs-lookup"><span data-stu-id="86ee9-203">**Figure 6**: Set the `DataType` and `ReadOnly` Properties of the New Column</span></span>


<span data-ttu-id="86ee9-204">Sırada `CategoriesDataTable` artık bir `NumberOfProducts` sütun değeri ayarlı değil herhangi bir karşılık gelen TableAdapter s sorgular tarafından.</span><span class="sxs-lookup"><span data-stu-id="86ee9-204">While the `CategoriesDataTable` now has a `NumberOfProducts` column, its value is not set by any of the corresponding TableAdapter s queries.</span></span> <span data-ttu-id="86ee9-205">Biz güncelleştirebilirsiniz `GetCategories()` gibi bilgileri istiyoruz, bu bilgileri döndürmek için yöntemi döndürülen edildiğinde kategori bilgileri alınır.</span><span class="sxs-lookup"><span data-stu-id="86ee9-205">We can update the `GetCategories()` method to return this information if we want such information returned every time category information is retrieved.</span></span> <span data-ttu-id="86ee9-206">Ancak, yalnızca ender (örneğin olarak yalnızca Bu öğretici için) kategorileri için ilişkili ürün sayısına şablonlarınızdan ihtiyacımız durumunda biz bırakabilirsiniz, `GetCategories()` olarak-olduğu ve bu bilgileri döndürür yeni bir yöntem oluşturun.</span><span class="sxs-lookup"><span data-stu-id="86ee9-206">If, however, we only need to grab the number of associated products for the categories in rare instances (such as just for this tutorial), then we can leave `GetCategories()` as-is and create a new method that returns this information.</span></span> <span data-ttu-id="86ee9-207">Let s adlı yeni bir yöntem oluşturma, ikincisi bu yaklaşımı kullanın `GetCategoriesAndNumberOfProducts()`.</span><span class="sxs-lookup"><span data-stu-id="86ee9-207">Let s use this latter approach, creating a new method named `GetCategoriesAndNumberOfProducts()`.</span></span>

<span data-ttu-id="86ee9-208">Bu yeni eklemek için `GetCategoriesAndNumberOfProducts()` yöntemi, üzerinde sağ `CategoriesTableAdapter` ve yeni bir sorgu seçin.</span><span class="sxs-lookup"><span data-stu-id="86ee9-208">To add this new `GetCategoriesAndNumberOfProducts()` method, right-click on the `CategoriesTableAdapter` and choose New Query.</span></span> <span data-ttu-id="86ee9-209">TableAdapter sorgu Yapılandırma Sihirbazı'nı hangi biz sayıda önceki eğitimlerine kullanılan ve yukarı getirir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-209">This brings up the TableAdapter Query Configuration Wizard, which we ve used numerous times in previous tutorials.</span></span> <span data-ttu-id="86ee9-210">Bu yöntem için sorgu satırlar döndüren bir geçici SQL deyimini kullanan belirterek Sihirbazı başlatın.</span><span class="sxs-lookup"><span data-stu-id="86ee9-210">For this method, start the wizard by indicating that the query uses an ad-hoc SQL statement that returns rows.</span></span>


<span data-ttu-id="86ee9-211">[![Geçici SQL deyimi kullanarak yöntemi oluşturma](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image18.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-211">[![Create the Method Using an Ad-Hoc SQL Statement](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image18.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image17.png)</span></span>

<span data-ttu-id="86ee9-212">**Şekil 7**: yöntemini kullanarak bir geçici SQL deyimi oluşturmak ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image19.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-212">**Figure 7**: Create the Method Using an Ad-Hoc SQL Statement ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image19.png))</span></span>


<span data-ttu-id="86ee9-213">[![SQL deyimi satırları döndürür](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image21.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-213">[![The SQL Statement Returns Rows](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image21.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image20.png)</span></span>

<span data-ttu-id="86ee9-214">**Şekil 8**: SQL deyimi döndürür satırları ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-214">**Figure 8**: The SQL Statement Returns Rows ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image22.png))</span></span>


<span data-ttu-id="86ee9-215">Sonraki sihirbaz ekranında bize kullanmak bir sorgu için ister.</span><span class="sxs-lookup"><span data-stu-id="86ee9-215">The next wizard screen prompts us for the query to use.</span></span> <span data-ttu-id="86ee9-216">Her kategori s döndürülecek `CategoryID`, `CategoryName`, ve `Description` alanları, kategori ile ilişkili ürünleri ile birlikte kullanmak aşağıdaki `SELECT` deyimi:</span><span class="sxs-lookup"><span data-stu-id="86ee9-216">To return each category s `CategoryID`, `CategoryName`, and `Description` fields, along with the number of products associated with the category, use the following `SELECT` statement:</span></span>


[!code-sql[Main](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/samples/sample7.sql)]


<span data-ttu-id="86ee9-217">[![Kullanılacak sorgusu belirtin](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image24.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-217">[![Specify the Query to Use](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image24.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image23.png)</span></span>

<span data-ttu-id="86ee9-218">**Şekil 9**: kullanılacak sorgusu belirtin ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image25.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-218">**Figure 9**: Specify the Query to Use ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image25.png))</span></span>


<span data-ttu-id="86ee9-219">Kategori ile ilişkili ürün sayısına hesaplar alt sorgu diğer adı olarak olduğuna dikkat edin `NumberOfProducts`.</span><span class="sxs-lookup"><span data-stu-id="86ee9-219">Note that the subquery that computes the number of products associated with the category is aliased as `NumberOfProducts`.</span></span> <span data-ttu-id="86ee9-220">Bu adlandırma eşleşme ile ilişkili için bu alt sorgu tarafından döndürülen değer neden `CategoriesDataTable` s `NumberOfProducts` sütun.</span><span class="sxs-lookup"><span data-stu-id="86ee9-220">This naming match causes the value returned by this subquery to be associated with the `CategoriesDataTable` s `NumberOfProducts` column.</span></span>

<span data-ttu-id="86ee9-221">Bu sorgu girdikten sonra son adımı yeni yöntemin adını seçmektir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-221">After entering this query, the last step is to choose the name for the new method.</span></span> <span data-ttu-id="86ee9-222">Kullanım `FillWithNumberOfProducts` ve `GetCategoriesAndNumberOfProducts` dolgu DataTable ve Return DataTable, sırasıyla düzenleri.</span><span class="sxs-lookup"><span data-stu-id="86ee9-222">Use `FillWithNumberOfProducts` and `GetCategoriesAndNumberOfProducts` for the Fill a DataTable and Return a DataTable patterns, respectively.</span></span>


<span data-ttu-id="86ee9-223">[![Ad yeni TableAdapter s yöntemleri FillWithNumberOfProducts ve GetCategoriesAndNumberOfProducts](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image27.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-223">[![Name the New TableAdapter s Methods FillWithNumberOfProducts and GetCategoriesAndNumberOfProducts](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image27.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image26.png)</span></span>

<span data-ttu-id="86ee9-224">**Şekil 10**: yeni TableAdapter s yöntemleri ad `FillWithNumberOfProducts` ve `GetCategoriesAndNumberOfProducts` ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-224">**Figure 10**: Name the New TableAdapter s Methods `FillWithNumberOfProducts` and `GetCategoriesAndNumberOfProducts` ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image28.png))</span></span>


<span data-ttu-id="86ee9-225">Bu noktada veri erişim katmanı ürün kategorisi başına sayısına içerecek şekilde genişletilmiştir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-225">At this point the Data Access Layer has been extended to include the number of products per category.</span></span> <span data-ttu-id="86ee9-226">Bizim sunu katmanı ayrı bir iş mantığı katmanı aracılığıyla DAL tüm çağrıları yönlendirir beri karşılık gelen eklemek ihtiyacımız `GetCategoriesAndNumberOfProducts` yönteme `CategoriesBLL` sınıfı:</span><span class="sxs-lookup"><span data-stu-id="86ee9-226">Since all our presentation layer routes all calls to the DAL through a separate Business Logic Layer we need to add a corresponding `GetCategoriesAndNumberOfProducts` method to the `CategoriesBLL` class:</span></span>


[!code-csharp[Main](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/samples/sample8.cs)]

<span data-ttu-id="86ee9-227">DAL ve BLL tam biz re hazır bu verileri bağlamak için `Categories` Yineleyicideki `CategoriesAndProducts.aspx`!</span><span class="sxs-lookup"><span data-stu-id="86ee9-227">With the DAL and BLL complete, we re ready to bind this data to the `Categories` Repeater in `CategoriesAndProducts.aspx`!</span></span> <span data-ttu-id="86ee9-228">Önceden belirleme gelen yineleyici için bir ObjectDataSource zaten oluşturduysanız, sayı, ürünlerinde `ItemDataBound` olay işleyicisi bölümünde, bu ObjectDataSource silme ve s yineleyici kaldırma `DataSourceID` özelliği ayarlama; ayrıca unwire Yineleyici s `ItemDataBound` kaldırarak olay işleyicisi olayından `Handles Categories.OnItemDataBound` ASP.NET arka plandaki kod sınıfı sözdiziminde.</span><span class="sxs-lookup"><span data-stu-id="86ee9-228">If you ve already created an ObjectDataSource for the Repeater from the Determining the Number of Products in the `ItemDataBound` Event Handler section, delete this ObjectDataSource and remove the Repeater s `DataSourceID` property setting; also unwire the Repeater s `ItemDataBound` event from the event handler by removing the `Handles Categories.OnItemDataBound` syntax in the ASP.NET code-behind class.</span></span>

<span data-ttu-id="86ee9-229">Özgün durumuna geri içinde yineleyici ile adlı yeni bir ObjectDataSource ekleme `CategoriesDataSource` yineleyici s akıllı etiket aracılığıyla.</span><span class="sxs-lookup"><span data-stu-id="86ee9-229">With the Repeater back in its original state, add a new ObjectDataSource named `CategoriesDataSource` via the Repeater s smart tag.</span></span> <span data-ttu-id="86ee9-230">ObjectDataSource kullanmak için yapılandırma `CategoriesBLL` sınıfı, ancak bunu kullanmak yerine `GetCategories()` yöntemi, sahip kullanmak `GetCategoriesAndNumberOfProducts()` yerine (bkz. Şekil 11).</span><span class="sxs-lookup"><span data-stu-id="86ee9-230">Configure the ObjectDataSource to use the `CategoriesBLL` class, but instead of having it use the `GetCategories()` method, have it use `GetCategoriesAndNumberOfProducts()` instead (see Figure 11).</span></span>


<span data-ttu-id="86ee9-231">[![ObjectDataSource GetCategoriesAndNumberOfProducts yöntemi kullanmak üzere yapılandırma](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image30.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-231">[![Configure the ObjectDataSource to Use the GetCategoriesAndNumberOfProducts Method](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image30.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image29.png)</span></span>

<span data-ttu-id="86ee9-232">**Şekil 11**: ObjectDataSource kullanılacak yapılandırma `GetCategoriesAndNumberOfProducts` yöntemi ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-232">**Figure 11**: Configure the ObjectDataSource to Use the `GetCategoriesAndNumberOfProducts` Method ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image31.png))</span></span>


<span data-ttu-id="86ee9-233">Ardından, güncelleştirme `ItemTemplate` böylece LinkButton s `Text` özelliği databinding sözdizimini kullanarak bildirimli olarak atanır ve her ikisi de içeren `CategoryName` ve `NumberOfProducts` veri alanları.</span><span class="sxs-lookup"><span data-stu-id="86ee9-233">Next, update the `ItemTemplate` so that the LinkButton s `Text` property is declaratively assigned using databinding syntax and includes both the `CategoryName` and `NumberOfProducts` data fields.</span></span> <span data-ttu-id="86ee9-234">Yineleyici için tam bildirim temelli biçimlendirme ve `CategoriesDataSource` ObjectDataSource izleyin:</span><span class="sxs-lookup"><span data-stu-id="86ee9-234">The complete declarative markup for the Repeater and the `CategoriesDataSource` ObjectDataSource follow:</span></span>


[!code-aspx[Main](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/samples/sample9.aspx)]

<span data-ttu-id="86ee9-235">Eklenecek DAL güncelleştirerek çizilir çıktı bir `NumberOfProducts` sütundur kullanarak aynı `ItemDataBound` olay işleyicisi yaklaşım (geri ekran görmek için Şekil 4'e bakın kategori adları ve ürünleri sayısını gösteren yineleyici görüntüsü).</span><span class="sxs-lookup"><span data-stu-id="86ee9-235">The output rendered by updating the DAL to include a `NumberOfProducts` column is the same as using the `ItemDataBound` event handler approach (refer back to Figure 4 to see a screen shot of the Repeater showing the category names and number of products).</span></span>

## <a name="step-3-displaying-the-selected-category-s-products"></a><span data-ttu-id="86ee9-236">3. adım: seçilen kategori s ürünleri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="86ee9-236">Step 3: Displaying the Selected Category s Products</span></span>

<span data-ttu-id="86ee9-237">Bu noktada sahibiz `Categories` yineleyici ürünleri ile birlikte kategori listesi, her kategoride görüntüleme.</span><span class="sxs-lookup"><span data-stu-id="86ee9-237">At this point we have the `Categories` Repeater displaying the list of categories along with the number of products in each category.</span></span> <span data-ttu-id="86ee9-238">Yineleyici bir LinkButton tıklatıldığında nedenler kesiştiği geri gönderme bir işaret etmesini, biz her kategori için kullanır. Bu ürünler için seçilen kategorideki görüntülemeniz `CategoryProducts` DataList.</span><span class="sxs-lookup"><span data-stu-id="86ee9-238">The Repeater uses a LinkButton for each category that, when clicked, causes a postback, at which point we need to display those products for the selected category in the `CategoryProducts` DataList.</span></span>

<span data-ttu-id="86ee9-239">Bize bakan bir yalnızca seçilen kategori için ürünleri görüntüler DataList nasıl iştir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-239">One challenge facing us is how to have the DataList display just those products for the selected category.</span></span> <span data-ttu-id="86ee9-240">İçinde [ana/Ayrıntılar DetailsView ile seçilebilir ana GridView kullanarak ayrıntı](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) GridView, satırları nasıl oluşturulacağını gördüğümüz öğretici seçilmesi, seçilen satırı DetailsView aynı sayfada görüntülenen s ayrıntıları.</span><span class="sxs-lookup"><span data-stu-id="86ee9-240">In the [Master/Detail Using a Selectable Master GridView with a Details DetailsView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial we saw how to build a GridView whose rows could be selected, with the selected row s details being displayed in a DetailsView on the same page.</span></span> <span data-ttu-id="86ee9-241">GridView s kullanarak tüm ürünlerle ilgili bilgileri ObjectDataSource döndürülen `ProductsBLL` s `GetProducts()` yöntemi DetailsView s ObjectDataSource çalışırken alınan seçili ürün kullanma hakkında bilgi `GetProductsByProductID(productID)` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-241">The GridView s ObjectDataSource returned information about all products using the `ProductsBLL` s `GetProducts()` method while the DetailsView s ObjectDataSource retrieved information about the selected product using the `GetProductsByProductID(productID)` method.</span></span> <span data-ttu-id="86ee9-242">*`productID`* Parametre değeri sağlanmadığından bildirimli olarak GridView s değeriyle ilişkilendirerek `SelectedValue` özelliği.</span><span class="sxs-lookup"><span data-stu-id="86ee9-242">The *`productID`* parameter value was provided declaratively by associating it with the value of the GridView s `SelectedValue` property.</span></span> <span data-ttu-id="86ee9-243">Ne yazık ki, yineleyici sahip olmayan bir `SelectedValue` özelliği ve parametre kaynağı olarak sunulamıyor.</span><span class="sxs-lookup"><span data-stu-id="86ee9-243">Unfortunately, the Repeater does not have a `SelectedValue` property and cannot serve as a parameter source.</span></span>

> [!NOTE]
> <span data-ttu-id="86ee9-244">Bu, LinkButton bir yineleyici kullanılırken görünür bu zorluklar biridir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-244">This is one of those challenges that appear when using the LinkButton in a Repeater.</span></span> <span data-ttu-id="86ee9-245">Köprü olarak geçirmek için kullandık vardı `CategoryID` querystring bunun yerine, biz QueryString alan kaynak olarak için parametre s değeri kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="86ee9-245">Had we used a hyperlink to pass in the `CategoryID` through the querystring instead, we could use that QueryString field as the source for the parameter s value.</span></span>


<span data-ttu-id="86ee9-246">Biz eksikliği hakkında endişelenmeniz önce bir `SelectedValue` özelliği yineleyici için önce bir ObjectDataSource DataList bağlayın ve belirtin s yine de izin kendi `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="86ee9-246">Before we worry about the lack of a `SelectedValue` property for the Repeater, though, let s first bind the DataList to an ObjectDataSource and specify its `ItemTemplate`.</span></span>

<span data-ttu-id="86ee9-247">Adlı yeni bir ObjectDataSource eklemek için DataList s akıllı etiketten opt `CategoryProductsDataSource` ve kullanacak şekilde yapılandırın `ProductsBLL` s sınıfı `GetProductsByCategoryID(categoryID)` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-247">From the DataList s smart tag, opt to add a new ObjectDataSource named `CategoryProductsDataSource` and configure it to use the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="86ee9-248">Bu öğreticide DataList salt okunur bir arabirim sunar olduğundan, INSERT, UPDATE, açılan listeleri ayarlamak ve sekmeleri (hiçbiri) silmek çekinmeyin.</span><span class="sxs-lookup"><span data-stu-id="86ee9-248">Since the DataList in this tutorial offers a read-only interface, feel free to set the drop-down lists in the INSERT, UPDATE, and DELETE tabs to (None).</span></span>


<span data-ttu-id="86ee9-249">[![ObjectDataSource ProductsBLL sınıfı s GetProductsByCategoryID(categoryID) yöntemi kullanmak üzere yapılandırma](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image33.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-249">[![Configure the ObjectDataSource to Use ProductsBLL Class s GetProductsByCategoryID(categoryID) Method](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image33.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image32.png)</span></span>

<span data-ttu-id="86ee9-250">**Şekil 12**: ObjectDataSource kullanılacak yapılandırma `ProductsBLL` s sınıfı `GetProductsByCategoryID(categoryID)` yöntemi ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-250">**Figure 12**: Configure the ObjectDataSource to Use `ProductsBLL` Class s `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image34.png))</span></span>


<span data-ttu-id="86ee9-251">Bu yana `GetProductsByCategoryID(categoryID)` yöntemi giriş parametresi bekliyor (*`categoryID`*), veri kaynağı Yapılandırma Sihirbazı'nı parametre s kaynak olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="86ee9-251">Since the `GetProductsByCategoryID(categoryID)` method expects an input parameter (*`categoryID`*), the Configure Data Source wizard allows us to specify the parameter s source.</span></span> <span data-ttu-id="86ee9-252">Kategorileri listelenen GridView veya bir DataList, d parametre kaynak açılır liste denetimi ve ControlId ayarlarız `ID` Web denetimi veri.</span><span class="sxs-lookup"><span data-stu-id="86ee9-252">Had the categories been listed in a GridView or a DataList, we d set the Parameter source drop-down list to Control and the ControlID to the `ID` of the data Web control.</span></span> <span data-ttu-id="86ee9-253">Ancak, yineleyici oturumda bu yana bir `SelectedValue` özelliği bir parametre kaynağı olarak kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="86ee9-253">However, since the Repeater lacks a `SelectedValue` property it cannot be used as a parameter source.</span></span> <span data-ttu-id="86ee9-254">İşaretlerseniz, ControlId aşağı açılan listesinde yalnızca bir denetim içerdiğini bulacaksınız `ID``CategoryProducts`, `ID` DataList.</span><span class="sxs-lookup"><span data-stu-id="86ee9-254">If you check, you'll find that the ControlID drop-down list only contains one control `ID``CategoryProducts`, the `ID` of the DataList.</span></span>

<span data-ttu-id="86ee9-255">Şimdilik, parametre kaynak aşağı açılan listesi yok olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="86ee9-255">For now, set the Parameter source drop-down list to None.</span></span> <span data-ttu-id="86ee9-256">Bu parametre değeri LinkButton Yineleyicideki tıklandığında kategori olduğunda program aracılığıyla atama yukarı elde edersiniz.</span><span class="sxs-lookup"><span data-stu-id="86ee9-256">We'll end up programmatically assigning this parameter value when a category LinkButton is clicked in the Repeater.</span></span>


<span data-ttu-id="86ee9-257">[![Adlı kullanıcı, Categoryıd'si parametresi için bir parametre kaynağı yapmak belirtme](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image36.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-257">[![Do Not Specify a Parameter Source for the categoryID Parameter](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image36.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image35.png)</span></span>

<span data-ttu-id="86ee9-258">**Şekil 13**: için bir parametre kaynak belirtmeyin *`categoryID`* parametre ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image37.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-258">**Figure 13**: Do Not Specify a Parameter Source for the *`categoryID`* Parameter ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image37.png))</span></span>


<span data-ttu-id="86ee9-259">Veri Kaynağı Yapılandırma Sihirbazı'nı tamamladıktan sonra Visual Studio otomatik-s DataList oluşturur `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="86ee9-259">After completing the Configure Data Source wizard, Visual Studio auto-generates the DataList s `ItemTemplate`.</span></span> <span data-ttu-id="86ee9-260">Bu varsayılanı değiştirmek `ItemTemplate` şablonuyla biz önceki öğreticide kullanılan; ayrıca s DataList ayarlayın `RepeatColumns` özelliğini 2.</span><span class="sxs-lookup"><span data-stu-id="86ee9-260">Replace this default `ItemTemplate` with the template we used in the preceding tutorial; also, set the DataList s `RepeatColumns` property to 2.</span></span> <span data-ttu-id="86ee9-261">Bu değişiklikleri yaptıktan sonra bildirim temelli biçimlendirme DataList ve onun ilişkili ObjectDataSource için aşağıdaki gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="86ee9-261">After making these changes the declarative markup for your DataList and its associated ObjectDataSource should look like the following:</span></span>


[!code-aspx[Main](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/samples/sample10.aspx)]

<span data-ttu-id="86ee9-262">Şu anda `CategoryProductsDataSource` ObjectDataSource s *`categoryID`* parametresi hiçbir zaman ayarlanırsa, hiç ürün sayfasını görüntülerken görüntülenecek şekilde.</span><span class="sxs-lookup"><span data-stu-id="86ee9-262">Currently, the `CategoryProductsDataSource` ObjectDataSource s *`categoryID`* parameter is never set, so no products are displayed when viewing the page.</span></span> <span data-ttu-id="86ee9-263">Bu parametre değer temel alınarak ayarlanmış yapmak ihtiyacımız olan `CategoryID` yineleyicideki tıklatılan kategorisi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-263">What we need to do is have this parameter value set based on the `CategoryID` of the clicked category in the Repeater.</span></span> <span data-ttu-id="86ee9-264">Bu iki zorluklar getirir: ilk olarak, nasıl belirleriz bir LinkButton zaman s yineleyicideki `ItemTemplate` tıklatılan; ve ikinci, nasıl biz belirleyebilir `CategoryID` , LinkButton tıklattınız karşılık gelen kategorisinin?</span><span class="sxs-lookup"><span data-stu-id="86ee9-264">This introduces two challenges: first, how do we determine when a LinkButton in the Repeater s `ItemTemplate` has been clicked; and second, how can we determine the `CategoryID` of the corresponding category whose LinkButton was clicked?</span></span>

<span data-ttu-id="86ee9-265">Düğmesini ve ImageButton denetimleri gibi LinkButton sahip bir `Click` olay ve [ `Command` olay](https://msdn.microsoft.com/library/system.web.ui.webcontrols.linkbutton.command.aspx).</span><span class="sxs-lookup"><span data-stu-id="86ee9-265">The LinkButton like the Button and ImageButton controls has a `Click` event and a [`Command` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.linkbutton.command.aspx).</span></span> <span data-ttu-id="86ee9-266">`Click` Olay yalnızca LinkButton tıklatıldıktan not etmek için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="86ee9-266">The `Click` event is designed to simply note that the LinkButton has been clicked.</span></span> <span data-ttu-id="86ee9-267">Bazen, ancak LinkButton tıklatıldıktan belirtmeye ek olarak biz de bazı ek bilgi için olay işleyicisini geçirmek gerekir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-267">At times, however, in addition to noting that the LinkButton has been clicked we also need to pass some extra information to the event handler.</span></span> <span data-ttu-id="86ee9-268">Bu durumda, LinkButton s ise [ `CommandName` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.linkbutton.commandname.aspx) ve [ `CommandArgument` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.linkbutton.commandargument.aspx) özellikler bu ek bilgiler atanabilir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-268">If this is the case, the LinkButton s [`CommandName`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.linkbutton.commandname.aspx) and [`CommandArgument`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.linkbutton.commandargument.aspx) properties can be assigned this extra information.</span></span> <span data-ttu-id="86ee9-269">Ardından LinkButton tıklandığında, kendi `Command` olay ateşlenir (yerine kendi `Click` olay) ve olay işleyicisi değerlerini geçirilen `CommandName` ve `CommandArgument` özellikleri.</span><span class="sxs-lookup"><span data-stu-id="86ee9-269">Then, when the LinkButton is clicked, its `Command` event fires (instead of its `Click` event) and the event handler is passed the values of the `CommandName` and `CommandArgument` properties.</span></span>

<span data-ttu-id="86ee9-270">Zaman bir `Command` olayı gelen yineleyici s yineleyici şablonunda içinde [ `ItemCommand` olay](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeater.itemcommand.aspx) başlatılır ve geçirilen `CommandName` ve `CommandArgument` tıklatılan LinkButton değerlerini (veya düğmesini veya ImageButton).</span><span class="sxs-lookup"><span data-stu-id="86ee9-270">When a `Command` event is raised from within a template in the Repeater, the Repeater s [`ItemCommand` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeater.itemcommand.aspx) fires and is passed the `CommandName` and `CommandArgument` values of the clicked LinkButton (or Button or ImageButton).</span></span> <span data-ttu-id="86ee9-271">Bu nedenle, bir kategori yineleyicideki LinkButton tıklandığında belirlemek için aşağıdakileri yapmak ihtiyacımız var:</span><span class="sxs-lookup"><span data-stu-id="86ee9-271">Therefore, to determine when a category LinkButton in the Repeater has been clicked, we need to do the following:</span></span>

1. <span data-ttu-id="86ee9-272">Ayarlama `CommandName` s yineleyicideki LinkButton özelliğinin `ItemTemplate` bazı değerine (t ve kullanılan ListProducts).</span><span class="sxs-lookup"><span data-stu-id="86ee9-272">Set the `CommandName` property of the LinkButton in the Repeater s `ItemTemplate` to some value (I ve used ListProducts ).</span></span> <span data-ttu-id="86ee9-273">Bu ayarlayarak `CommandName` değeri, LinkButton s `Command` LinkButton tıklatıldığında olay tetikler.</span><span class="sxs-lookup"><span data-stu-id="86ee9-273">By setting this `CommandName` value, the LinkButton s `Command` event fires when the LinkButton is clicked.</span></span>
2. <span data-ttu-id="86ee9-274">LinkButton s ayarlamak `CommandArgument` özelliğinin değeri geçerli öğenin s `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="86ee9-274">Set the LinkButton s `CommandArgument` property to the value of the current item s `CategoryID`.</span></span>
3. <span data-ttu-id="86ee9-275">Yineleyici s için bir olay işleyicisi oluşturun `ItemCommand` olay.</span><span class="sxs-lookup"><span data-stu-id="86ee9-275">Create an event handler for the Repeater s `ItemCommand` event.</span></span> <span data-ttu-id="86ee9-276">Olay işleyicisi ayarlamak `CategoryProductsDataSource` ObjectDataSource s `CategoryID` parametre değerine geçilen `CommandArgument`.</span><span class="sxs-lookup"><span data-stu-id="86ee9-276">In the event handler, set the `CategoryProductsDataSource` ObjectDataSource s `CategoryID` parameter to the value of the passed-in `CommandArgument`.</span></span>

<span data-ttu-id="86ee9-277">Aşağıdaki `ItemTemplate` biçimlendirmesi kategorileri yineleyici için adım 1 ve 2 uygular.</span><span class="sxs-lookup"><span data-stu-id="86ee9-277">The following `ItemTemplate` markup for the Categories Repeater implements steps 1 and 2.</span></span> <span data-ttu-id="86ee9-278">Not nasıl `CommandArgument` değeri s veri öğesi atanan `CategoryID` databinding sözdizimini kullanarak:</span><span class="sxs-lookup"><span data-stu-id="86ee9-278">Note how the `CommandArgument` value is assigned the data item s `CategoryID` using databinding syntax:</span></span>


[!code-aspx[Main](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/samples/sample11.aspx)]

<span data-ttu-id="86ee9-279">Oluşturma her bir `ItemCommand` gelen her zaman ilk denetlenecek akıllıca olduğu olay işleyicisi `CommandName` çünkü değer *herhangi* `Command` olayı tarafından *herhangi* düğmesi, LinkButton, veya Yineleyici içinde ImageButton neden olacak `ItemCommand` tetiklenecek olay.</span><span class="sxs-lookup"><span data-stu-id="86ee9-279">Whenever creating an `ItemCommand` event handler it is prudent to always first check the incoming `CommandName` value because *any* `Command` event raised by *any* Button, LinkButton, or ImageButton within the Repeater will cause the `ItemCommand` event to fire.</span></span> <span data-ttu-id="86ee9-280">Biz şu anda yalnızca bir LinkButton şimdi olmakla birlikte, gelecekte biz (veya başka bir geliştirici ekibimiz üzerinde) ek düğmesi Web denetimleri yineleyici ekleyebilir, tıklatıldığında, aynı başlatır `ItemCommand` olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-280">While we currently only have one such LinkButton now, in the future we (or another developer on our team) might add additional button Web controls to the Repeater that, when clicked, raises the same `ItemCommand` event handler.</span></span> <span data-ttu-id="86ee9-281">Bu nedenle, bu her zaman, kontrol emin olmak en iyi s `CommandName` özelliği ve beklenen değeri eşleştiğini yalnızca programlı mantığı ile devam edin.</span><span class="sxs-lookup"><span data-stu-id="86ee9-281">Therefore, it s best to always make sure you check the `CommandName` property and only proceed with your programmatic logic if it matches up to the value expected.</span></span>

<span data-ttu-id="86ee9-282">Geçilen olduktan `CommandName` değerine eşit ListProducts, olay işleyicisi sonra atar `CategoryProductsDataSource` ObjectDataSource s `CategoryID` parametre değerine geçilen `CommandArgument`.</span><span class="sxs-lookup"><span data-stu-id="86ee9-282">After ensuring that the passed-in `CommandName` value equals ListProducts, the event handler then assigns the `CategoryProductsDataSource` ObjectDataSource s `CategoryID` parameter to the value of the passed-in `CommandArgument`.</span></span> <span data-ttu-id="86ee9-283">Bu değişikliği ObjectDataSource s `SelectParameters` otomatik olarak kendisini yeni seçilen kategori ürünleri gösteren veri kaynağına rebind DataList neden olur.</span><span class="sxs-lookup"><span data-stu-id="86ee9-283">This modification to the ObjectDataSource s `SelectParameters` automatically causes the DataList to rebind itself to the data source, showing the products for the newly selected category.</span></span>


[!code-csharp[Main](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/samples/sample12.cs)]

<span data-ttu-id="86ee9-284">Bu eklemeleri ile öğreticimizi tamamlandı!</span><span class="sxs-lookup"><span data-stu-id="86ee9-284">With these additions, our tutorial is complete!</span></span> <span data-ttu-id="86ee9-285">Bir tarayıcıda çıkışı test etmek için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="86ee9-285">Take a moment to test it out in a browser.</span></span> <span data-ttu-id="86ee9-286">Şekil 14 ekran ilk sitesini ziyaret ettiğinde gösterir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-286">Figure 14 shows the screen when first visiting the page.</span></span> <span data-ttu-id="86ee9-287">Bir kategori henüz seçilmesi olduğundan hiç ürün görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-287">Since a category has yet to be selected, no products are displayed.</span></span> <span data-ttu-id="86ee9-288">Üretim gibi bir kategori tıklayarak görüntüler bu ürünlerden iki sütun görünümünde ürün kategorisi (bkz. Şekil 15).</span><span class="sxs-lookup"><span data-stu-id="86ee9-288">Clicking on a category, such as Produce, displays those products in the Product category in a two-column view (see Figure 15).</span></span>


<span data-ttu-id="86ee9-289">[![Görüntülenen zaman ilk ziyaret sayfa hiçbir ürün değil](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image39.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-289">[![No Products are Displayed When First Visiting the Page](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image39.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image38.png)</span></span>

<span data-ttu-id="86ee9-290">**Şekil 14**: Hayır ürünleri olan görüntülenen zaman ilk ziyaret sayfa ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-290">**Figure 14**: No Products are Displayed When First Visiting the Page ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image40.png))</span></span>


<span data-ttu-id="86ee9-291">[![Üretim kategori listelerinde eşleşen ürünleri sağ tıklayarak](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image42.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="86ee9-291">[![Clicking the Produce Category Lists the Matching Products to the Right](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image42.png)](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image41.png)</span></span>

<span data-ttu-id="86ee9-292">**Şekil 15**: ürün kategorisi tıklatarak sağa eşleşen ürünleri listeler ([tam boyutlu görüntüyü görüntülemek için tıklatın](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image43.png))</span><span class="sxs-lookup"><span data-stu-id="86ee9-292">**Figure 15**: Clicking the Produce Category Lists the Matching Products to the Right ([Click to view full-size image](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs/_static/image43.png))</span></span>


## <a name="summary"></a><span data-ttu-id="86ee9-293">Özet</span><span class="sxs-lookup"><span data-stu-id="86ee9-293">Summary</span></span>

<span data-ttu-id="86ee9-294">Bu öğretici ve önceki bir gördüğümüz gibi ana/ayrıntı raporları iki sayfalara dağılmış olabilir veya bir birleştirilmiş.</span><span class="sxs-lookup"><span data-stu-id="86ee9-294">As we saw in this tutorial and the preceding one, master/detail reports can be spread out across two pages, or consolidated on one.</span></span> <span data-ttu-id="86ee9-295">Ana/ayrıntı raporu tek bir sayfada görüntülemek, ancak bazı zorluklar nasıl en iyi düzeni asıl ve ayrıntıları kayıtları sayfasında tanıtır.</span><span class="sxs-lookup"><span data-stu-id="86ee9-295">Displaying a master/details report on a single page, however, introduces some challenges on how best to layout the master and details records on the page.</span></span> <span data-ttu-id="86ee9-296">İçinde *ana/Ayrıntılar DetailsView ile seçilebilir ana GridView kullanarak ayrıntı* biz ana kayıtları görünür ayrıntıları kayıtları içeriyor; Bu öğreticide CSS teknikleri master kayıtları float olmasını kullandık Öğreticisi sol tarafındaki ayrıntıları.</span><span class="sxs-lookup"><span data-stu-id="86ee9-296">In the *Master/Detail Using a Selectable Master GridView with a Details DetailsView* tutorial we had the details records appear above the master records; in this tutorial we used CSS techniques to have the master records float to the left of the details.</span></span>

<span data-ttu-id="86ee9-297">Ana/ayrıntı raporları görüntüleme yanı sıra, biz de sunucu tarafı mantığı LinkButton (veya düğme veya ImageButton olduğunda) gerçekleştirmek için içinden tıklandığında nasıl her kategoriyle ilişkili ürünleri sayısını almak üzere nasıl keşfetmek için Fırsat sahip bir Yineleyici.</span><span class="sxs-lookup"><span data-stu-id="86ee9-297">Along with displaying master/details reports, we also had the opportunity to explore how to retrieve the number of products associated with each category as well as how to perform server-side logic when a LinkButton (or Button or ImageButton) is clicked from within a Repeater.</span></span>

<span data-ttu-id="86ee9-298">Bu öğretici ana/ayrıntı raporları bizim incelenmesi DataList ve yineleyici tamamlar.</span><span class="sxs-lookup"><span data-stu-id="86ee9-298">This tutorial completes our examination of master/detail reports with the DataList and Repeater.</span></span> <span data-ttu-id="86ee9-299">Bizim sonraki öğreticileri kümesini düzenleme ve silme DataList denetimi yetenekleri ekleme gösterecektir.</span><span class="sxs-lookup"><span data-stu-id="86ee9-299">Our next set of tutorials will illustrate how to add editing and deleting capabilities to the DataList control.</span></span>

<span data-ttu-id="86ee9-300">Mutluluk programlama!</span><span class="sxs-lookup"><span data-stu-id="86ee9-300">Happy Programming!</span></span>

## <a name="further-reading"></a><span data-ttu-id="86ee9-301">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="86ee9-301">Further Reading</span></span>

<span data-ttu-id="86ee9-302">Bu öğreticide konular hakkında daha fazla bilgi için aşağıdaki kaynaklara bakın:</span><span class="sxs-lookup"><span data-stu-id="86ee9-302">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- <span data-ttu-id="86ee9-303">[Floatutorial](http://css.maxdesign.com.au/floatutorial/) CSS CSS öğeleriyle kayan üzerinde bir öğretici</span><span class="sxs-lookup"><span data-stu-id="86ee9-303">[Floatutorial](http://css.maxdesign.com.au/floatutorial/) a tutorial on floating CSS elements with CSS</span></span>
- <span data-ttu-id="86ee9-304">[CSS konumlandırma](http://www.brainjar.com/css/positioning/) CSS ile öğeleri konumlandırma hakkında daha fazla bilgi</span><span class="sxs-lookup"><span data-stu-id="86ee9-304">[CSS Positioning](http://www.brainjar.com/css/positioning/) more information on positioning elements with CSS</span></span>
- <span data-ttu-id="86ee9-305">[Yerleştirme çıkışı içerik HTML ile](http://www.w3schools.com/html/html_layout.asp) kullanarak `<table>` s ve diğer HTML öğeleri konumlandırma için</span><span class="sxs-lookup"><span data-stu-id="86ee9-305">[Laying Out Content with HTML](http://www.w3schools.com/html/html_layout.asp) using `<table>` s and other HTML elements for positioning</span></span>

## <a name="about-the-author"></a><span data-ttu-id="86ee9-306">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="86ee9-306">About the Author</span></span>

<span data-ttu-id="86ee9-307">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar ve yedi ASP/ASP.NET books kurucusu, [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web teknolojileri ile bu yana 1998 çalışma.</span><span class="sxs-lookup"><span data-stu-id="86ee9-307">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="86ee9-308">Tan bağımsız Danışman, eğitmen ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="86ee9-308">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="86ee9-309">En son kendi defteri [ *kendi öğretmek kendiniz ASP.NET 2.0 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="86ee9-309">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="86ee9-310">Kendisi üzerinde erişilebilir [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) veya kendi blog hangi adresinde bulunabilir [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="86ee9-310">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="86ee9-311">Özel teşekkürler</span><span class="sxs-lookup"><span data-stu-id="86ee9-311">Special Thanks To</span></span>

<span data-ttu-id="86ee9-312">Bu öğretici seri pek çok yararlı gözden geçirenler tarafından gözden geçirildi.</span><span class="sxs-lookup"><span data-stu-id="86ee9-312">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="86ee9-313">Bu öğretici için sağlama İnceleme Zack CAN oluştu.</span><span class="sxs-lookup"><span data-stu-id="86ee9-313">Lead reviewer for this tutorial was Zack Jones.</span></span> <span data-ttu-id="86ee9-314">My yaklaşan MSDN makaleleri gözden geçirme ilginizi çekiyor mu?</span><span class="sxs-lookup"><span data-stu-id="86ee9-314">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="86ee9-315">Öyleyse, bana bir satırında bırakma [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="86ee9-315">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="86ee9-316">[Önceki](master-detail-filtering-acess-two-pages-datalist-cs.md)
> [sonraki](master-detail-filtering-with-a-dropdownlist-datalist-vb.md)</span><span class="sxs-lookup"><span data-stu-id="86ee9-316">[Previous](master-detail-filtering-acess-two-pages-datalist-cs.md)
[Next](master-detail-filtering-with-a-dropdownlist-datalist-vb.md)</span></span>

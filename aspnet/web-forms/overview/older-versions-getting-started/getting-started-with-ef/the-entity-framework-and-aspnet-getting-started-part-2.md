---
uid: web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-2
title: "Entity Framework 4.0 veritabanı ile ilk Başlarken ve ASP.NET 4 Web Forms - bölüm 2 | Microsoft Docs"
author: tdykstra
description: "Contoso University örnek web uygulaması Entity Framework kullanarak ASP.NET Web Forms uygulamalarının nasıl oluşturulacağını gösterir. Örnek uygulamasıdır..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 12/03/2010
ms.topic: article
ms.assetid: fb63a326-a4ae-4b0c-a4f5-412327197216
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-2
msc.type: authoredcontent
ms.openlocfilehash: 4e2a3176aaedccd40ef6b619efa3c4052dd8470b
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/10/2017
---
<a name="getting-started-with-entity-framework-40-database-first-and-aspnet-4-web-forms---part-2"></a><span data-ttu-id="cc9c3-104">Entity Framework 4.0 veritabanı ile ilk Başlarken ve ASP.NET 4 Web Forms - bölüm 2</span><span class="sxs-lookup"><span data-stu-id="cc9c3-104">Getting Started with Entity Framework 4.0 Database First and ASP.NET 4 Web Forms - Part 2</span></span>
====================
<span data-ttu-id="cc9c3-105">tarafından [zel Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-105">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="cc9c3-106">Contoso University örnek web uygulaması Entity Framework 4.0 ve Visual Studio 2010 kullanarak ASP.NET Web Forms uygulamalarının nasıl oluşturulacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-106">The Contoso University sample web application demonstrates how to create ASP.NET Web Forms applications using the Entity Framework 4.0 and Visual Studio 2010.</span></span> <span data-ttu-id="cc9c3-107">Eğitmen serisi hakkında daha fazla bilgi için bkz: [serideki ilk öğreticide](the-entity-framework-and-aspnet-getting-started-part-1.md)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-107">For information about the tutorial series, see [the first tutorial in the series](the-entity-framework-and-aspnet-getting-started-part-1.md)</span></span>


## <a name="the-entitydatasource-control"></a><span data-ttu-id="cc9c3-108">EntityDataSource denetimi</span><span class="sxs-lookup"><span data-stu-id="cc9c3-108">The EntityDataSource Control</span></span>

<span data-ttu-id="cc9c3-109">Önceki öğreticide bir web sitesi, bir veritabanı ve veri modeli oluşturdu.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-109">In the previous tutorial you created a web site, a database, and a data model.</span></span> <span data-ttu-id="cc9c3-110">Bu öğreticide çalıştığınız `EntityDataSource` kolaylaştıran bir Entity Framework veri modeli ile çalışmak için ASP.NET sağlayan denetimi.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-110">In this tutorial you work with the `EntityDataSource` control that ASP.NET provides in order to make it easy to work with an Entity Framework data model.</span></span> <span data-ttu-id="cc9c3-111">Oluşturacağınız bir `GridView` görüntülemek ve Öğrenci verileri düzenleme denetimi bir `DetailsView` yeni Öğrenciler eklemek için Denetim ve `DropDownList` (hangi ilişkili kurslar görüntülemek için daha sonra kullanacağız) departman seçmek için denetim.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-111">You'll create a `GridView` control for displaying and editing student data, a `DetailsView` control for adding new students, and a `DropDownList` control for selecting a department (which you'll use later for displaying associated courses).</span></span>

<span data-ttu-id="cc9c3-112">[![Image20](the-entity-framework-and-aspnet-getting-started-part-2/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-112">[![Image20](the-entity-framework-and-aspnet-getting-started-part-2/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image1.png)</span></span>

<span data-ttu-id="cc9c3-113">[![Image09](the-entity-framework-and-aspnet-getting-started-part-2/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-113">[![Image09](the-entity-framework-and-aspnet-getting-started-part-2/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image3.png)</span></span>

<span data-ttu-id="cc9c3-114">[![Image18](the-entity-framework-and-aspnet-getting-started-part-2/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-114">[![Image18](the-entity-framework-and-aspnet-getting-started-part-2/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image5.png)</span></span>

<span data-ttu-id="cc9c3-115">Bu uygulamada, giriş doğrulaması veritabanını güncelleştiren sayfalara ekleme olmaz ve hata işleme bazıları bir üretim uygulamasında gerekli olacak şekilde sağlam olmaz unutmayın.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-115">Note that in this application you won't be adding input validation to pages that update the database, and some of the error handling will not be as robust as would be required in a production application.</span></span> <span data-ttu-id="cc9c3-116">Entity Framework üzerine odaklanan öğretici tutar ve uzun bulaşmasından tutar.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-116">That keeps the tutorial focused on the Entity Framework and keeps it from getting too long.</span></span> <span data-ttu-id="cc9c3-117">Bu özellikler, uygulamanıza ekleme hakkında daha fazla bilgi için bkz [kullanıcı girişini doğrulama ASP.NET Web Pages'de](https://msdn.microsoft.com/en-us/library/7kh55542.aspx) ve [hata işleme ASP.NET sayfaları ve uygulamaları](https://msdn.microsoft.com/en-us/library/w16865z6.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc9c3-117">For details about how to add these features to your application, see [Validating User Input in ASP.NET Web Pages](https://msdn.microsoft.com/en-us/library/7kh55542.aspx) and [Error Handling in ASP.NET Pages and Applications](https://msdn.microsoft.com/en-us/library/w16865z6.aspx).</span></span>

## <a name="adding-and-configuring-the-entitydatasource-control"></a><span data-ttu-id="cc9c3-118">Ekleme ve EntityDataSource denetimi yapılandırma</span><span class="sxs-lookup"><span data-stu-id="cc9c3-118">Adding and Configuring the EntityDataSource Control</span></span>

<span data-ttu-id="cc9c3-119">Yapılandırarak başlarsınız bir `EntityDataSource` okumak için Denetim `Person` varlıklardan `People` varlık kümesi.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-119">You'll begin by configuring an `EntityDataSource` control to read `Person` entities from the `People` entity set.</span></span>

<span data-ttu-id="cc9c3-120">Visual Studio açın sahip olduğundan emin olun ve proje ile çalışıyorsanız, bölüm 1 oluşturduğunuz.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-120">Make sure you have Visual Studio open and that you're working with the project you created in part 1.</span></span> <span data-ttu-id="cc9c3-121">Veri modeli oluşturulan ya da son değişiklik yaptığınız bu yana projenin oluşturduysanız henüz projeyi şimdi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-121">If you haven't built the project since you created the data model or since the last change you made to it, build the project now.</span></span> <span data-ttu-id="cc9c3-122">Proje oluşturulana kadar değişiklikleri veri modeline Designer'a kullanılabilir duruma getirilmez.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-122">Changes to the data model are not made available to the designer until the project is built.</span></span>

<span data-ttu-id="cc9c3-123">Kullanarak yeni bir web sayfası oluşturmak **Web ana sayfa kullanarak Form** şablonu ve adlandırın *Students.aspx*.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-123">Create a new web page using the **Web Form using Master Page** template, and name it *Students.aspx*.</span></span>

<span data-ttu-id="cc9c3-124">[![Image23](the-entity-framework-and-aspnet-getting-started-part-2/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-124">[![Image23](the-entity-framework-and-aspnet-getting-started-part-2/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image7.png)</span></span>

<span data-ttu-id="cc9c3-125">Belirtin *Site.Master* ana sayfa olarak.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-125">Specify *Site.Master* as the master page.</span></span> <span data-ttu-id="cc9c3-126">Bu öğretici için oluşturduğunuz tüm sayfalar bu ana sayfa kullanır.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-126">All of the pages you create for these tutorials will use this master page.</span></span>

<span data-ttu-id="cc9c3-127">[![Image24](the-entity-framework-and-aspnet-getting-started-part-2/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-127">[![Image24](the-entity-framework-and-aspnet-getting-started-part-2/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image9.png)</span></span>

<span data-ttu-id="cc9c3-128">İçinde **kaynak** görüntülemek için add bir `h2` için başlık `Content` adlı Denetim `Content2`, aşağıdaki örnekte gösterildiği gibi:</span><span class="sxs-lookup"><span data-stu-id="cc9c3-128">In **Source** view, add an `h2` heading to the `Content` control named `Content2`, as shown in the following example:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample1.aspx)]

<span data-ttu-id="cc9c3-129">Gelen **veri** sekmesinde **araç**, sürükleyin bir `EntityDataSource` denetlemek için sayfası, başlığı altındaki bırakın ve Kimliğine değiştirmek `StudentsEntityDataSource`:</span><span class="sxs-lookup"><span data-stu-id="cc9c3-129">From the **Data** tab of the **Toolbox**, drag an `EntityDataSource` control to the page, drop it below the heading, and change the ID to `StudentsEntityDataSource`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample2.aspx)]

<span data-ttu-id="cc9c3-130">Geçiş **tasarım** görüntülemek, veri kaynağı kontrolünün akıllı etiket'ı tıklatın ve ardından **Configure Data Source** başlatmak için **Configure Data Source** Sihirbazı.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-130">Switch to **Design** view, click the data source control's smart tag, and then click **Configure Data Source** to launch the **Configure Data Source** wizard.</span></span>

<span data-ttu-id="cc9c3-131">[![Image01](the-entity-framework-and-aspnet-getting-started-part-2/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-131">[![Image01](the-entity-framework-and-aspnet-getting-started-part-2/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image11.png)</span></span>

<span data-ttu-id="cc9c3-132">İçinde **yapılandırma ObjectContext** Sihirbaz adımı, select **SchoolEntities** değeri olarak **adlı bağlantı**seçip **SchoolEntities**olarak **DefaultContainerName** değeri.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-132">In the **Configure ObjectContext** wizard step, select **SchoolEntities** as the value for **Named Connection**, and select **SchoolEntities** as the **DefaultContainerName** value.</span></span> <span data-ttu-id="cc9c3-133">Sonra **İleri**'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-133">Then click **Next**.</span></span>

<span data-ttu-id="cc9c3-134">[![Image02](the-entity-framework-and-aspnet-getting-started-part-2/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-134">[![Image02](the-entity-framework-and-aspnet-getting-started-part-2/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image13.png)</span></span>

<span data-ttu-id="cc9c3-135">Not: aşağıdaki iletişim kutusunu bu noktada alırsanız, devam etmeden önce projeyi derlemek sahipsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-135">Note: If you get the following dialog box at this point, you have to build the project before proceeding.</span></span>

<span data-ttu-id="cc9c3-136">[![Image25](the-entity-framework-and-aspnet-getting-started-part-2/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-136">[![Image25](the-entity-framework-and-aspnet-getting-started-part-2/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image15.png)</span></span>

<span data-ttu-id="cc9c3-137">İçinde **veri seçimini Yapılandır** adım, select **kişiler** değeri olarak **EntitySetName**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-137">In the **Configure Data Selection** step, select **People** as the value for **EntitySetName**.</span></span> <span data-ttu-id="cc9c3-138">Altında **seçin**, emin olun **seçin A** üm onay kutusu seçilidir.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-138">Under **Select**, make sure the **Select A** ll check box is selected.</span></span> <span data-ttu-id="cc9c3-139">Daha sonra güncelleştirmeyi etkinleştirmek ve silmek için seçenekleri seçin.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-139">Then select the options to enable update and delete.</span></span> <span data-ttu-id="cc9c3-140">İşiniz bittiğinde tıklatın **son**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-140">When you're done, click **Finish**.</span></span>

<span data-ttu-id="cc9c3-141">[![Image03](the-entity-framework-and-aspnet-getting-started-part-2/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-141">[![Image03](the-entity-framework-and-aspnet-getting-started-part-2/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image17.png)</span></span>

## <a name="configuring-database-rules-to-allow-deletion"></a><span data-ttu-id="cc9c3-142">Silme işlemi izin vermek için veritabanı kurallarını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="cc9c3-142">Configuring Database Rules to Allow Deletion</span></span>

<span data-ttu-id="cc9c3-143">Öğrenciler gelen silme kullanıcıların olanak sağlayan bir sayfa oluşturma `Person` üç ilişkilerine sahip diğer tablolarla tablosu (`Course`, `StudentGrade`, ve `OfficeAssignment`).</span><span class="sxs-lookup"><span data-stu-id="cc9c3-143">You'll be creating a page that lets users delete students from the `Person` table, which has three relationships with other tables (`Course`, `StudentGrade`, and `OfficeAssignment`).</span></span> <span data-ttu-id="cc9c3-144">Varsayılan olarak, veritabanı, bir satırda silmesini engeller `Person` diğer tablolarla biriyle ilgili satır yoksa.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-144">By default, the database will prevent you from deleting a row in `Person` if there are related rows in one of the other tables.</span></span> <span data-ttu-id="cc9c3-145">İlişkili satırları önce el ile silin veya veritabanı sildiğinizde otomatik olarak silmek üzere yapılandırabilirsiniz bir `Person` satır.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-145">You can manually delete the related rows first, or you can configure the database to delete them automatically when you delete a `Person` row.</span></span> <span data-ttu-id="cc9c3-146">Bu öğreticide Öğrenci kayıtları için ilgili verileri otomatik olarak silmesini veritabanına yapılandıracaksınız.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-146">For student records in this tutorial, you'll configure the database to delete the related data automatically.</span></span> <span data-ttu-id="cc9c3-147">İlişkili satırları Öğrenciler çünkü yalnızca `StudentGrade` tablo, gereken üç ilişkiler yalnızca birini yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-147">Because students can have related rows only in the `StudentGrade` table, you need to configure only one of the three relationships.</span></span>

<span data-ttu-id="cc9c3-148">Kullanıyorsanız, *School.mdf* Bu öğretici ile gider projeden indirilen dosya, bu yapılandırma değişikliklerini yaptıktan zaten olduğundan, bu bölümü atlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-148">If you're using the *School.mdf* file that you downloaded from the project that goes with this tutorial, you can skip this section because these configuration changes have already been done.</span></span> <span data-ttu-id="cc9c3-149">Bir komut dosyası çalıştırarak veritabanını oluşturduysanız, aşağıdaki yordamları izleyerek veritabanını yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-149">If you created the database by running a script, configure the database by performing the following procedures.</span></span>

<span data-ttu-id="cc9c3-150">İçinde **Sunucu Gezgini**, bölüm 1 oluşturulan veritabanı diyagramı açın.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-150">In **Server Explorer**, open the database diagram that you created in part 1.</span></span> <span data-ttu-id="cc9c3-151">Arasındaki ilişkiyi sağ `Person` ve `StudentGrade` (tablolar arasında satır) ve ardından **özellikleri**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-151">Right-click the relationship between `Person` and `StudentGrade` (the line between tables), and then select **Properties**.</span></span>

<span data-ttu-id="cc9c3-152">[![Image04](the-entity-framework-and-aspnet-getting-started-part-2/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-152">[![Image04](the-entity-framework-and-aspnet-getting-started-part-2/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image19.png)</span></span>

<span data-ttu-id="cc9c3-153">İçinde **özellikleri** penceresinde genişletin **ekleme ve güncelleştirme belirtimi** ve **DeleteRule** özelliğine **Cascade**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-153">In the **Properties** window, expand **INSERT and UPDATE Specification** and set the **DeleteRule** property to **Cascade**.</span></span>

<span data-ttu-id="cc9c3-154">[![Image05](the-entity-framework-and-aspnet-getting-started-part-2/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-154">[![Image05](the-entity-framework-and-aspnet-getting-started-part-2/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image21.png)</span></span>

<span data-ttu-id="cc9c3-155">Kaydet ve Kapat diyagramı.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-155">Save and close the diagram.</span></span> <span data-ttu-id="cc9c3-156">Veritabanını güncelleştirmek isteyip tıklatın sorulursa **Evet**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-156">If you're asked whether you want to update the database, click **Yes**.</span></span>

<span data-ttu-id="cc9c3-157">Model veritabanı yapmakta olduğu ile eşitlenmiş bellekte olan varlıkları tutar emin olmak için veri modelinde karşılık gelen kuralları ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-157">To make sure that the model keeps entities that are in memory in sync with what the database is doing, you must set corresponding rules in the data model.</span></span> <span data-ttu-id="cc9c3-158">Açık *SchoolModel.edmx*, arasındaki ilişkiyi satıra sağ `Person` ve `StudentGrade`ve ardından **özellikleri**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-158">Open *SchoolModel.edmx*, right-click the association line between `Person` and `StudentGrade`, and then select **Properties**.</span></span>

<span data-ttu-id="cc9c3-159">[![Image21](the-entity-framework-and-aspnet-getting-started-part-2/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-159">[![Image21](the-entity-framework-and-aspnet-getting-started-part-2/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image23.png)</span></span>

<span data-ttu-id="cc9c3-160">İçinde **özellikleri** penceresindeki ayarlayın **End1 OnDelete** için **Cascade**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-160">In the **Properties** window, set **End1 OnDelete** to **Cascade**.</span></span>

<span data-ttu-id="cc9c3-161">[![Image22](the-entity-framework-and-aspnet-getting-started-part-2/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-161">[![Image22](the-entity-framework-and-aspnet-getting-started-part-2/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image25.png)</span></span>

<span data-ttu-id="cc9c3-162">Kaydet ve Kapat *SchoolModel.edmx* dosya ve projeyi yeniden derleyin.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-162">Save and close the *SchoolModel.edmx* file, and then rebuild the project.</span></span>

<span data-ttu-id="cc9c3-163">Genel olarak, veritabanı değiştiğinde nasıl modelini eşitlemek birkaç seçeneğiniz vardır:</span><span class="sxs-lookup"><span data-stu-id="cc9c3-163">In general, when the database changes, you have several choices for how to sync up the model:</span></span>

- <span data-ttu-id="cc9c3-164">Tür (örneğin, "ekleme veya yenileme tabloları, görünümleri ve saklı yordamlar), değişiklikleri belirli sağ Tasarımcısı ve select **güncelleştirme modeli veritabanından** Tasarımcı marka değişiklikleri otomatik olarak sağlamak için.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-164">For certain kinds of changes (such as adding or refreshing tables, views, or stored procedures), right-click in the designer and select **Update Model from Database** to have the designer make the changes automatically.</span></span>
- <span data-ttu-id="cc9c3-165">Veri modeli yeniden oluşturun.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-165">Regenerate the data model.</span></span>
- <span data-ttu-id="cc9c3-166">Bunun gibi el ile güncelleştirmeleri yapın.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-166">Make manual updates like this one.</span></span>

<span data-ttu-id="cc9c3-167">Bu durumda, model yeniden veya ilişki değişiklikten etkilenen tabloları yenilenir, ancak ardından alan adı değişikliği yeniden yapmanız gerekir (gelen `FirstName` için `FirstMidName`).</span><span class="sxs-lookup"><span data-stu-id="cc9c3-167">In this case, you could have regenerated the model or refreshed the tables affected by the relationship change, but then you'd have to make the field-name change again (from `FirstName` to `FirstMidName`).</span></span>

## <a name="using-a-gridview-control-to-read-and-update-entities"></a><span data-ttu-id="cc9c3-168">Okuma ve varlıkları güncelleştirmek için bir GridView denetimi kullanma</span><span class="sxs-lookup"><span data-stu-id="cc9c3-168">Using a GridView Control to Read and Update Entities</span></span>

<span data-ttu-id="cc9c3-169">Bu bölümde kullanacağınız bir `GridView` görüntülemek, güncelleştirmek veya Öğrenciler silmek için denetim.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-169">In this section you'll use a `GridView` control to display, update, or delete students.</span></span>

<span data-ttu-id="cc9c3-170">Açın veya geçin *Students.aspx* ve geçiş **tasarım** görünümü.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-170">Open or switch to *Students.aspx* and switch to **Design** view.</span></span> <span data-ttu-id="cc9c3-171">Gelen **veri** sekmesinde **araç**, sürükleyin bir `GridView` sağındaki denetim `EntityDataSource` denetlemek, adlandırın `StudentsGridView`akıllı etiket'ı tıklatın ve ardından  **StudentsEntityDataSource** veri kaynağı olarak.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-171">From the **Data** tab of the **Toolbox**, drag a `GridView` control to the right of the `EntityDataSource` control, name it `StudentsGridView`, click the smart tag, and then select **StudentsEntityDataSource** as the data source.</span></span>

<span data-ttu-id="cc9c3-172">[![Image06](the-entity-framework-and-aspnet-getting-started-part-2/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-172">[![Image06](the-entity-framework-and-aspnet-getting-started-part-2/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image27.png)</span></span>

<span data-ttu-id="cc9c3-173">' I tıklatın **yenileme şema** ('ı tıklatın **Evet** onaylamanız istenirse), ardından **etkinleştirmek disk belleği**, **etkinleştirmek sıralama**, **Düzenlemeyi etkinleştir**, ve **silmeyi etkinleştir**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-173">Click **Refresh Schema** (click **Yes** if you're prompted to confirm), then click **Enable Paging**, **Enable Sorting**, **Enable Editing**, and **Enable Deleting**.</span></span>

<span data-ttu-id="cc9c3-174">Tıklatın **Düzenle sütunları**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-174">Click **Edit Columns**.</span></span>

<span data-ttu-id="cc9c3-175">[![Image10](the-entity-framework-and-aspnet-getting-started-part-2/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-175">[![Image10](the-entity-framework-and-aspnet-getting-started-part-2/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image29.png)</span></span>

<span data-ttu-id="cc9c3-176">İçinde **seçili alanları** kutusunda, silmek **PersonID**, **LastName**, ve **İşeAlmaTarihi**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-176">In the **Selected fields** box, delete **PersonID**, **LastName**, and **HireDate**.</span></span> <span data-ttu-id="cc9c3-177">Kullanıcılara kayıt anahtarı genellikle gösterme, işe alma tarihi Öğrenciler için ilgili değildir ve yalnızca ad alanlarından birini gerekir böylece adı kısımlarını bir alana gireceğiniz.)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-177">You typically don't display a record key to users, hire date is not relevant to students, and you'll put both parts of the name in one field, so you only need one of the name fields.)</span></span>

<span data-ttu-id="cc9c3-178">[![Image11](the-entity-framework-and-aspnet-getting-started-part-2/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-178">[![Image11](the-entity-framework-and-aspnet-getting-started-part-2/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image31.png)</span></span>

<span data-ttu-id="cc9c3-179">Seçin **FirstMidName** alan ve ardından **TemplateField'a Bu alan Dönüştür**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-179">Select the **FirstMidName** field and then click **Convert this field into a TemplateField**.</span></span>

<span data-ttu-id="cc9c3-180">Aynı işlemi gerçekleştirmek **EnrollmentDate**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-180">Do the same for **EnrollmentDate**.</span></span>

<span data-ttu-id="cc9c3-181">[![Image13](the-entity-framework-and-aspnet-getting-started-part-2/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-181">[![Image13](the-entity-framework-and-aspnet-getting-started-part-2/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image33.png)</span></span>

<span data-ttu-id="cc9c3-182">Tıklatın **Tamam** ve o **kaynak** görünümü.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-182">Click **OK** and then switch to **Source** view.</span></span> <span data-ttu-id="cc9c3-183">Kalan değişikliklerini doğrudan biçimlendirme yapmak daha kolay olacaktır.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-183">The remaining changes will be easier to do directly in markup.</span></span> <span data-ttu-id="cc9c3-184">`GridView` Denetim biçimlendirme şimdi aşağıdaki örnekte görülüyor.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-184">The `GridView` control markup now looks like the following example.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample3.aspx)]

<span data-ttu-id="cc9c3-185">Komut alan bir şablon şu anda alanıdır sonra ilk sütun adı görüntüler.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-185">The first column after the command field is a template field that currently displays the first name.</span></span> <span data-ttu-id="cc9c3-186">Aşağıdaki örnekteki gibi aramak bu şablonu alan için biçimlendirme değiştirin:</span><span class="sxs-lookup"><span data-stu-id="cc9c3-186">Change the markup for this template field to look like the following example:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample4.aspx)]

<span data-ttu-id="cc9c3-187">Görüntü modunda, iki `Label` denetimleri görünen ilk ve son adı.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-187">In display mode, two `Label` controls display the first and last name.</span></span> <span data-ttu-id="cc9c3-188">Ad ve Soyadı değiştirebilmeniz için düzenleme modunda iki metin kutusu sağlanır.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-188">In edit mode, two text boxes are provided so you can change the first and last name.</span></span> <span data-ttu-id="cc9c3-189">İle `Label` denetimlerde görüntüleme modunu, kullandığınız `Bind` ve `Eval` ifadeleri tam olarak misiniz doğrudan veritabanlarına bağlanmak ASP.NET veri kaynağı denetimleri ile.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-189">As with the `Label` controls in display mode, you use `Bind` and `Eval` expressions exactly as you would with ASP.NET data source controls that connect directly to databases.</span></span> <span data-ttu-id="cc9c3-190">Varlık özellikleri veritabanı sütunlarını yerine belirlediniz yalnızca farktır.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-190">The only difference is that you're specifying entity properties instead of database columns.</span></span>

<span data-ttu-id="cc9c3-191">Son sütun kayıt tarihi görüntüler şablonu bir alandır.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-191">The last column is a template field that displays the enrollment date.</span></span> <span data-ttu-id="cc9c3-192">Aşağıdaki örnekteki gibi aramak Bu alan için biçimlendirme değiştirin:</span><span class="sxs-lookup"><span data-stu-id="cc9c3-192">Change the markup for this field to look like the following example:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample5.aspx)]

<span data-ttu-id="cc9c3-193">Hem de görüntüleme ve düzenleme moduna biçim dizesi "{0, d}" "kısa tarih" biçiminde görüntülenecek tarihi neden olur.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-193">In both display and edit mode, the format string "{0,d}" causes the date to be displayed in the "short date" format.</span></span> <span data-ttu-id="cc9c3-194">(Bilgisayarınız bu biçimden farklı Bu öğreticide gösterilen ekran görüntüleri görüntülemek için yapılandırılabilir.)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-194">(Your computer might be configured to display this format differently from the screen images shown in this tutorial.)</span></span>

<span data-ttu-id="cc9c3-195">Alanların her birinde Bu şablon, Tasarımcı kullanılan fark bir `Bind` varsayılan, ancak ifadeyle olarak değiştirdiniz bir `Eval` ifadesinde `ItemTemplate` öğeleri.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-195">Notice that in each of these template fields, the designer used a `Bind` expression by default, but you've changed that to an `Eval` expression in the `ItemTemplate` elements.</span></span> <span data-ttu-id="cc9c3-196">`Bind` İfade verileri kullanılabilir kılar `GridView` kod verilere erişim gerekebileceği özellikleri denetim.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-196">The `Bind` expression makes the data available in `GridView` control properties in case you need to access the data in code.</span></span> <span data-ttu-id="cc9c3-197">Bu sayfada kullanabilmek için bu verilere kodda gerekmez `Eval`, daha verimli olduğu.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-197">In this page you don't need to access this data in code, so you can use `Eval`, which is more efficient.</span></span> <span data-ttu-id="cc9c3-198">Daha fazla bilgi için bkz: [verilerinizi veri denetimleri dışında alma](https://weblogs.asp.net/davidfowler/archive/2008/12/12/getting-your-data-out-of-the-data-controls.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc9c3-198">For more information, see [Getting your data out of the data controls](https://weblogs.asp.net/davidfowler/archive/2008/12/12/getting-your-data-out-of-the-data-controls.aspx).</span></span>

## <a name="revising-entitydatasource-control-markup-to-improve-performance"></a><span data-ttu-id="cc9c3-199">Performansı artırmak için düzeltilmesi EntityDataSource denetimini biçimlendirme</span><span class="sxs-lookup"><span data-stu-id="cc9c3-199">Revising EntityDataSource Control Markup to Improve Performance</span></span>

<span data-ttu-id="cc9c3-200">Biçimlendirme için `EntityDataSource` denetlemek, Kaldır `ConnectionString` ve `DefaultContainerName` öznitelikleri ve bunlarla Değiştir bir `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-200">In the markup for the `EntityDataSource` control, remove the `ConnectionString` and `DefaultContainerName` attributes and replace them with a `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` attribute.</span></span> <span data-ttu-id="cc9c3-201">Bu her oluşturduğunuzda olmalısınız farklıdır bir `EntityDataSource` nesne bağlamı sınıfında sabit kodlanmış olandan farklı bir bağlantı kullanmak gerekli olmadıkça denetim.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-201">This is a change you should make every time you create an `EntityDataSource` control, unless you need to use a connection that is different from the one that's hard-coded in the object context class.</span></span> <span data-ttu-id="cc9c3-202">Kullanarak `ContextTypeName` özniteliği, aşağıdaki avantajları sağlar:</span><span class="sxs-lookup"><span data-stu-id="cc9c3-202">Using the `ContextTypeName` attribute provides the following benefits:</span></span>

- <span data-ttu-id="cc9c3-203">Daha iyi performans.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-203">Better performance.</span></span> <span data-ttu-id="cc9c3-204">Zaman `EntityDataSource` denetim başlatan veri modelini kullanarak `ConnectionString` ve `DefaultContainerName` öznitelikleri, her istekte meta veri yüklemek için başka çalışma gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-204">When the `EntityDataSource` control initializes the data model using the `ConnectionString` and `DefaultContainerName` attributes, it performs additional work to load metadata on every request.</span></span> <span data-ttu-id="cc9c3-205">Bu belirtirseniz gerekli değildir `ContextTypeName` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-205">This isn't necessary if you specify the `ContextTypeName` attribute.</span></span>
- <span data-ttu-id="cc9c3-206">Yavaş yükleniyor açık varsayılan olarak oluşturulan nesne bağlamı sınıfları (gibi `SchoolEntities` bu öğreticideki) Entity Framework 4. 0'ı.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-206">Lazy loading is turned on by default in generated object context classes (such as `SchoolEntities` in this tutorial) in Entity Framework 4.0.</span></span> <span data-ttu-id="cc9c3-207">Bu, sağ gerektiğinde gezinti özellikleri ile ilgili veriler otomatik olarak yüklenmesini anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-207">This means that navigation properties are loaded with related data automatically right when you need it.</span></span> <span data-ttu-id="cc9c3-208">Yavaş yükleniyor Bu öğreticinin ilerleyen bölümlerinde daha ayrıntılı olarak açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-208">Lazy loading is explained in more detail later in this tutorial.</span></span>
- <span data-ttu-id="cc9c3-209">Nesne bağlamı sınıfına uyguladığınız özelleştirmeler (Bu durumda, `SchoolEntities` sınıfı) kullanan denetimler için kullanılabilir olacak `EntityDataSource` denetim.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-209">Any customizations that you've applied to the object context class (in this case, the `SchoolEntities` class) will be available to controls that use the `EntityDataSource` control.</span></span> <span data-ttu-id="cc9c3-210">Nesne bağlamı sınıfı özelleştirme Bu öğretici serisinde kapsanmayan Gelişmiş bir konudur.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-210">Customizing the object context class is an advanced topic that is not covered in this tutorial series.</span></span> <span data-ttu-id="cc9c3-211">Daha fazla bilgi için bkz: [Entity Framework oluşturulan türleri genişletme](https://msdn.microsoft.com/en-us/library/dd456844.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc9c3-211">For more information, see [Extending Entity Framework Generated Types](https://msdn.microsoft.com/en-us/library/dd456844.aspx).</span></span>

<span data-ttu-id="cc9c3-212">İşaretleme şimdi (özelliklerin sırasını farklı olabilir) aşağıdaki örnek benzeyecektir:</span><span class="sxs-lookup"><span data-stu-id="cc9c3-212">The markup will now resemble the following example (the order of the properties might be different):</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample6.aspx)]

<span data-ttu-id="cc9c3-213">`EnableFlattening` Yabancı anahtar sütunları varlık özellikleri ortaya değil çünkü Entity Framework'ün önceki sürümlerde gerekli bir özellik için öznitelik başvuruyor.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-213">The `EnableFlattening` attribute refers to a feature that was needed in earlier versions of the Entity Framework because foreign key columns were not exposed as entity properties.</span></span> <span data-ttu-id="cc9c3-214">Geçerli sürüm kullanmayı mümkün kılar *yabancı anahtar ilişkileri*, yabancı anahtar özellikleri başka bir deyişle, tüm ancak çok-çok ilişkileri sunulur.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-214">The current version makes it possible to use *foreign key associations*, which means foreign key properties are exposed for all but many-to-many associations.</span></span> <span data-ttu-id="cc9c3-215">Varlıklarınızı yabancı anahtar özellikleri ve no varsa [karmaşık türler](https://msdn.microsoft.com/en-us/library/bb738472.aspx), bu öznitelik ayarlanırsa bırakabilirsiniz `False`.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-215">If your entities have foreign key properties and no [complex types](https://msdn.microsoft.com/en-us/library/bb738472.aspx), you can leave this attribute set to `False`.</span></span> <span data-ttu-id="cc9c3-216">Varsayılan değer olduğundan, öznitelik biçimlendirmeden kaldırmayın `True`.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-216">Don't remove the attribute from the markup, because the default value is `True`.</span></span> <span data-ttu-id="cc9c3-217">Daha fazla bilgi için bkz: [düzleştirme nesneleri (EntityDataSource)](https://msdn.microsoft.com/en-us/library/ee404746.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc9c3-217">For more information, see [Flattening Objects (EntityDataSource)](https://msdn.microsoft.com/en-us/library/ee404746.aspx).</span></span>

<span data-ttu-id="cc9c3-218">Sayfayı çalıştırın ve öğrenciler ve Çalışanlar (yalnızca Öğrenciler için sonraki öğreticide filtrelemenize) listesini görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-218">Run the page and you see a list of students and employees (you'll filter for just students in the next tutorial).</span></span> <span data-ttu-id="cc9c3-219">Ad ve Soyadı birlikte görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-219">The first name and last name are displayed together.</span></span>

<span data-ttu-id="cc9c3-220">[![Image07](the-entity-framework-and-aspnet-getting-started-part-2/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-220">[![Image07](the-entity-framework-and-aspnet-getting-started-part-2/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image35.png)</span></span>

<span data-ttu-id="cc9c3-221">Görüntü sıralamak için sütun adını tıklatın.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-221">To sort the display, click a column name.</span></span>

<span data-ttu-id="cc9c3-222">Tıklatın **Düzenle** herhangi bir satır içinde.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-222">Click **Edit** in any row.</span></span> <span data-ttu-id="cc9c3-223">Metin kutuları adı ve Soyadı değiştirebileceğiniz görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-223">Text boxes are displayed where you can change the first and last name.</span></span>

<span data-ttu-id="cc9c3-224">[![Image08](the-entity-framework-and-aspnet-getting-started-part-2/_static/image38.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-224">[![Image08](the-entity-framework-and-aspnet-getting-started-part-2/_static/image38.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image37.png)</span></span>

<span data-ttu-id="cc9c3-225">**Silmek** düğmesini de çalışır.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-225">The **Delete** button also works.</span></span> <span data-ttu-id="cc9c3-226">Öğesini silmek için bir kayıt tarihi olan bir satır ve satır kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-226">Click delete for a row that has an enrollment date and the row disappears.</span></span> <span data-ttu-id="cc9c3-227">(Bir kayıt tarihi olmayan sıralar Eğitmen temsil eder ve bir başvuru bütünlüğü hatası alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-227">(Rows without an enrollment date represent instructors and you may get a referential integrity error.</span></span> <span data-ttu-id="cc9c3-228">Sonraki öğreticide, yalnızca Öğrenciler dahil etmek için bu listeyi filtre.)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-228">In the next tutorial you'll filter this list to include just students.)</span></span>

## <a name="displaying-data-from-a-navigation-property"></a><span data-ttu-id="cc9c3-229">Bir gezinti özelliğinden verileri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="cc9c3-229">Displaying Data from a Navigation Property</span></span>

<span data-ttu-id="cc9c3-230">Şimdi kaç kurslar bilmek ister varsayalım her Öğrenci olarak kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-230">Now suppose you want to know how many courses each student is enrolled in.</span></span> <span data-ttu-id="cc9c3-231">Entity Framework sağlar, bu bilgileri `StudentGrades` Gezinti özelliğinin `Person` varlık.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-231">The Entity Framework provides that information in the `StudentGrades` navigation property of the `Person` entity.</span></span> <span data-ttu-id="cc9c3-232">Veritabanı tasarım atanmış bir düzeyde gerek kalmadan bir indirmelere kaydedilecek öğrencinin izin vermediğinden bu öğretici için bu bir satır elde etmeyle kabul edilebilir `StudentGrade` indirmelere ile ilişkili bir tablo satırının aynıdır indirmelere kaydediliyor.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-232">Because the database design does not allow a student to be enrolled in a course without having a grade assigned, for this tutorial you can assume that having a row in the `StudentGrade` table row that is associated with a course is the same as being enrolled in the course.</span></span> <span data-ttu-id="cc9c3-233">( `Courses` Gezinti özelliği olduğundan yalnızca eğitmen için.)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-233">(The `Courses` navigation property is only for instructors.)</span></span>

<span data-ttu-id="cc9c3-234">Kullandığınızda `ContextTypeName` özniteliği `EntityDataSource` denetim, Entity Framework otomatik olarak alır bilgi bir gezinti özelliği için bu özelliğe erişim.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-234">When you use the `ContextTypeName` attribute of the `EntityDataSource` control, the Entity Framework automatically retrieves information for a navigation property when you access that property.</span></span> <span data-ttu-id="cc9c3-235">Bu adlı *yavaş Yükleniyor*.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-235">This is called *lazy loading*.</span></span> <span data-ttu-id="cc9c3-236">Her zaman ek bilgiler gerekli veritabanı için ayrı bir çağrısı sonuçlandığından ancak, Bu Verimsiz, olabilir.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-236">However, this can be inefficient, because it results in a separate call to the database each time additional information is needed.</span></span> <span data-ttu-id="cc9c3-237">Tarafından döndürülen her varlık için bir gezinti özelliği verilerden gerekip gerekmediğini `EntityDataSource` denetim, bu veritabanı için tek bir çağrı varlık kendisi ile birlikte ilgili verileri daha verimli.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-237">If you need data from the navigation property for every entity returned by the `EntityDataSource` control, it's more efficient to retrieve the related data along with the entity itself in a single call to the database.</span></span> <span data-ttu-id="cc9c3-238">Bu adlı *istekli yükleme*, ve ayarlayarak istekli Yükleme özelliği bir gezinti özelliği için belirttiğiniz `Include` özelliği `EntityDataSource` denetim.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-238">This is called *eager loading*, and you specify eager loading for a navigation property by setting the `Include` property of the `EntityDataSource` control.</span></span>

<span data-ttu-id="cc9c3-239">İçinde *Students.aspx*kurslar sayısı için her Öğrenci göstermek istediğiniz, bu nedenle istekli yüklenirken en iyi seçimdir.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-239">In *Students.aspx*, you want to show the number of courses for every student, so eager loading is the best choice.</span></span> <span data-ttu-id="cc9c3-240">Tüm Öğrenciler görüntüleme ancak kurslar sayısını gösteren yalnızca birkaç tanesi (hangi biçimlendirme yanı sıra biraz kod yazmaya gerekir), için geç yükleme daha iyi bir seçim olabilir.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-240">If you were displaying all students but showing the number of courses only for a few of them (which would require writing some code in addition to the markup), lazy loading might be a better choice.</span></span>

<span data-ttu-id="cc9c3-241">Açın veya geçin *Students.aspx*, geçiş **tasarım** görünümü, select `StudentsEntityDataSource`ve **özellikleri** penceresi kümesi **INCLUDE**özelliğine **StudentGrades**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-241">Open or switch to *Students.aspx*, switch to **Design** view, select `StudentsEntityDataSource`, and in the **Properties** window set the **Include** property to **StudentGrades**.</span></span> <span data-ttu-id="cc9c3-242">(Birden çok gezinti özellikleri almak istiyorsanız, virgülle ayrılmış adlarını belirtebilirsiniz; Örneğin, **StudentGrades, kurslar**.)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-242">(If you wanted to get multiple navigation properties, you could specify their names separated by commas — for example, **StudentGrades, Courses**.)</span></span>

<span data-ttu-id="cc9c3-243">[![Image19](the-entity-framework-and-aspnet-getting-started-part-2/_static/image40.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-243">[![Image19](the-entity-framework-and-aspnet-getting-started-part-2/_static/image40.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image39.png)</span></span>

<span data-ttu-id="cc9c3-244">Geçiş **kaynak** görünümü.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-244">Switch to **Source** view.</span></span> <span data-ttu-id="cc9c3-245">İçinde `StudentsGridView` son sonra Denetim `asp:TemplateField` öğesi, aşağıdaki yeni şablonu alanını ekleyin:</span><span class="sxs-lookup"><span data-stu-id="cc9c3-245">In the `StudentsGridView` control, after the last `asp:TemplateField` element, add the following new template field:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample7.aspx)]

<span data-ttu-id="cc9c3-246">İçinde `Eval` ifadesi, gezinti özelliğinin başvuru `StudentGrades`.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-246">In the `Eval` expression, you can reference the navigation property `StudentGrades`.</span></span> <span data-ttu-id="cc9c3-247">Bu özellik bir koleksiyon içerdiğinden sahip bir `Count` içinde Öğrenci kayıtlı kurslar sayısını görüntülemek için kullanabileceğiniz özelliği.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-247">Because this property contains a collection, it has a `Count` property that you can use to display the number of courses in which the student is enrolled.</span></span> <span data-ttu-id="cc9c3-248">Sonraki öğreticide koleksiyonları yerine tek varlıkları içeren Gezinti özellikleri verileri görüntülemek nasıl görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-248">In a later tutorial you'll see how to display data from navigation properties that contain single entities instead of collections.</span></span> <span data-ttu-id="cc9c3-249">(Kullanamazsınız Not `BoundField` öğeleri gezinti özellikleri verileri görüntülemek için.)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-249">(Note that you cannot use `BoundField` elements to display data from navigation properties.)</span></span>

<span data-ttu-id="cc9c3-250">Sayfayı çalıştırın ve şimdi Öğrenci kaç kurslar kayıtlı görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-250">Run the page and you now see how many courses each student is enrolled in.</span></span>

<span data-ttu-id="cc9c3-251">[![Image20](the-entity-framework-and-aspnet-getting-started-part-2/_static/image42.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-251">[![Image20](the-entity-framework-and-aspnet-getting-started-part-2/_static/image42.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image41.png)</span></span>

## <a name="using-a-detailsview-control-to-insert-entities"></a><span data-ttu-id="cc9c3-252">Varlıkları eklemek için DetailsView denetimini kullanma</span><span class="sxs-lookup"><span data-stu-id="cc9c3-252">Using a DetailsView Control to Insert Entities</span></span>

<span data-ttu-id="cc9c3-253">Bir sayfa oluşturmak için sonraki adımdır bir `DetailsView` yeni Öğrenciler eklemenize olanak sağlayacak denetim.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-253">The next step is to create a page that has a `DetailsView` control that will let you add new students.</span></span> <span data-ttu-id="cc9c3-254">Tarayıcıyı kapatın ve kullanarak yeni bir web sayfası oluşturmak *Site.Master* ana sayfa.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-254">Close the browser and then create a new web page using the *Site.Master* master page.</span></span> <span data-ttu-id="cc9c3-255">Sayfa adı *StudentsAdd.aspx*ve ardından geçmek **kaynak** görünümü.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-255">Name the page *StudentsAdd.aspx*, and then switch to **Source** view.</span></span>

<span data-ttu-id="cc9c3-256">İçin varolan biçimlendirmesini değiştirmek için aşağıdaki biçimlendirmeleri eklemek `Content` adlı Denetim `Content2`:</span><span class="sxs-lookup"><span data-stu-id="cc9c3-256">Add the following markup to replace the existing markup for the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample8.aspx)]

<span data-ttu-id="cc9c3-257">Bu biçimlendirme oluşturur bir `EntityDataSource` , oluşturduğunuz bir benzer denetim *Students.aspx*, ekleme etkinleştirir dışında.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-257">This markup creates an `EntityDataSource` control that is similar to the one you created in *Students.aspx*, except it enables insertion.</span></span> <span data-ttu-id="cc9c3-258">Olduğu gibi `GridView` denetlemek, ilişkili alanlarını `DetailsView` denetim kodlanmış varlık özellikleri başvuru dışında tam olarak, bir veritabanına doğrudan bağlanan bir veri denetimi için olur.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-258">As with the `GridView` control, the bound fields of the `DetailsView` control are coded exactly as they would be for a data control that connects directly to a database, except that they reference entity properties.</span></span> <span data-ttu-id="cc9c3-259">Bu durumda, `DetailsView` denetimi için varsayılan modu ayarladığınız şekilde yalnızca satır eklemek için kullanılan `Insert`.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-259">In this case, the `DetailsView` control is used only for inserting rows, so you have set the default mode to `Insert`.</span></span>

<span data-ttu-id="cc9c3-260">Sayfayı çalıştırın ve yeni Öğrenci ekleyin.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-260">Run the page and add a new student.</span></span>

<span data-ttu-id="cc9c3-261">[![Image09](the-entity-framework-and-aspnet-getting-started-part-2/_static/image44.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-261">[![Image09](the-entity-framework-and-aspnet-getting-started-part-2/_static/image44.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image43.png)</span></span>

<span data-ttu-id="cc9c3-262">Hiçbir şey yeni Öğrenci ekledikten sonra ancak şimdi çalıştırırsanız olacağını *Students.aspx*, yeni Öğrenci bilgileri görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-262">Nothing will happen after you insert a new student, but if you now run *Students.aspx*, you'll see the new student information.</span></span>

## <a name="displaying-data-in-a-drop-down-list"></a><span data-ttu-id="cc9c3-263">Aşağı açılan listesinde verileri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="cc9c3-263">Displaying Data in a Drop-Down List</span></span>

<span data-ttu-id="cc9c3-264">Aşağıdaki adımlarda databind gerekir bir `DropDownList` denetim kullanılarak ayarlanan bir varlığa bir `EntityDataSource` denetim.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-264">In the following steps you'll databind a `DropDownList` control to an entity set using an `EntityDataSource` control.</span></span> <span data-ttu-id="cc9c3-265">Öğreticinin bu bölümünde, bu liste ile olmaz.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-265">In this part of the tutorial, you won't do much with this list.</span></span> <span data-ttu-id="cc9c3-266">Sonraki bölümlerinde yine de departmanı ile ilişkili kurslar görüntülemek için bir bölüm seçin kullanıcıların izin vermek için listenin kullanacaksınız.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-266">In subsequent parts, though, you'll use the list to let users select a department to display courses associated with the department.</span></span>

<span data-ttu-id="cc9c3-267">Adlı yeni bir web sayfası oluşturun *Courses.aspx*.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-267">Create a new web page named *Courses.aspx*.</span></span> <span data-ttu-id="cc9c3-268">İçinde **kaynak** görüntülemek için bir başlığı eklemek `Content` adlı Denetim `Content2`:</span><span class="sxs-lookup"><span data-stu-id="cc9c3-268">In **Source** view, add a heading to the `Content` control that's named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample9.aspx)]

<span data-ttu-id="cc9c3-269">İçinde **tasarım** görüntülemek için add bir `EntityDataSource` denetimi sayfasına daha önce yaptığınız gibi dışında bu zaman adlandırın, `DepartmentsEntityDataSource`.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-269">In **Design** view, add an `EntityDataSource` control to the page as you did before, except this time name it `DepartmentsEntityDataSource`.</span></span> <span data-ttu-id="cc9c3-270">Seçin **Departmanlar** olarak **EntitySetName** değeri ve yalnızca seçin **DepartmentID** ve **adı** özellikleri.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-270">Select **Departments** as the **EntitySetName** value, and select only the **DepartmentID** and **Name** properties.</span></span>

<span data-ttu-id="cc9c3-271">[![Image15](the-entity-framework-and-aspnet-getting-started-part-2/_static/image46.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-271">[![Image15](the-entity-framework-and-aspnet-getting-started-part-2/_static/image46.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image45.png)</span></span>

<span data-ttu-id="cc9c3-272">Gelen **standart** sekmesinde **araç**, sürükleyin bir `DropDownList` denetiminde sayfasına, adlandırın `DepartmentsDropDownList`, akıllı etiket tıklatın ve seçin **veri kaynağı Seç** için Başlat **veri kaynağı Yapılandırma Sihirbazı'nı**.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-272">From the **Standard** tab of the **Toolbox**, drag a `DropDownList` control to the page, name it `DepartmentsDropDownList`, click the smart tag, and select **Choose Data Source** to start the **DataSource Configuration Wizard**.</span></span>

<span data-ttu-id="cc9c3-273">[![Image16](the-entity-framework-and-aspnet-getting-started-part-2/_static/image48.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-273">[![Image16](the-entity-framework-and-aspnet-getting-started-part-2/_static/image48.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image47.png)</span></span>

<span data-ttu-id="cc9c3-274">İçinde **veri kaynağı seçin** adım, select **DepartmentsEntityDataSource** veri kaynağı olarak tıklatın **yenileme şema**ve ardından **adı** olarak görüntülenecek veri alan ve **DepartmentID** değeri veri alanı olarak.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-274">In the **Choose a Data Source** step, select **DepartmentsEntityDataSource** as the data source, click **Refresh Schema**, and then select **Name** as the data field to display and **DepartmentID** as the value data field.</span></span> <span data-ttu-id="cc9c3-275">**Tamam**'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-275">Click **OK**.</span></span>

<span data-ttu-id="cc9c3-276">[![Image17](the-entity-framework-and-aspnet-getting-started-part-2/_static/image50.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-276">[![Image17](the-entity-framework-and-aspnet-getting-started-part-2/_static/image50.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image49.png)</span></span>

<span data-ttu-id="cc9c3-277">Diğer ASP.NET veri kaynağı denetimleri dışında varlıkları ve varlık özellikleri belirlediniz Entity Framework kullanarak denetim databind için kullandığınız yöntem aynıdır.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-277">The method you use to databind the control using the Entity Framework is the same as with other ASP.NET data source controls except you're specifying entities and entity properties.</span></span>

<span data-ttu-id="cc9c3-278">Geçiş **kaynak** görüntülemek ve eklemek "bir bölüm seçin:" hemen önce `DropDownList` denetim.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-278">Switch to **Source** view and add "Select a department:" immediately before the `DropDownList` control.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample10.aspx)]

<span data-ttu-id="cc9c3-279">İçin biçimlendirme bir anımsatıcı değiştirmek `EntityDataSource` değiştirerek bu noktada denetim `ConnectionString` ve `DefaultContainerName` ile öznitelikleri bir `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-279">As a reminder, change the markup for the `EntityDataSource` control at this point by replacing the `ConnectionString` and `DefaultContainerName` attributes with a `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` attribute.</span></span> <span data-ttu-id="cc9c3-280">Genellikle kadar değiştirmeden önce veri kaynağı denetime bağlı veri bağlama denetimi oluşturduktan sonra beklenecek en iyisidir `EntityDataSource` değişikliği yaptıktan sonra Tasarımcı sizinle sağlamadığı için biçimlendirme, denetim bir **Yenile Şema** veri bağlama denetimi seçeneği.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-280">It's often best to wait until after you've created the data-bound control that is linked to the data source control before you change the `EntityDataSource` control markup, because after you make the change, the designer will not provide you with a **Refresh Schema** option in the data-bound control.</span></span>

<span data-ttu-id="cc9c3-281">Sayfayı çalıştırın ve bir bölüm aşağı açılan listeden seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-281">Run the page and you can select a department from the drop-down list.</span></span>

<span data-ttu-id="cc9c3-282">[![Image18](the-entity-framework-and-aspnet-getting-started-part-2/_static/image52.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-282">[![Image18](the-entity-framework-and-aspnet-getting-started-part-2/_static/image52.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image51.png)</span></span>

<span data-ttu-id="cc9c3-283">Bu kullanmaya giriş tamamlar `EntityDataSource` denetim.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-283">This completes the introduction to using the `EntityDataSource` control.</span></span> <span data-ttu-id="cc9c3-284">Varlıklar ve Özellikler tablolar ve sütunlar yerine başvuru dışında bu denetimi ile çalışma kaynağı denetimleri, diğer ASP.NET verilerle çalışma genellikle farklı değildir.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-284">Working with this control is generally no different from working with other ASP.NET data source controls, except that you reference entities and properties instead of tables and columns.</span></span> <span data-ttu-id="cc9c3-285">Gezinti özellikleri erişmek istediğinizde tek özel durumdur.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-285">The only exception is when you want to access navigation properties.</span></span> <span data-ttu-id="cc9c3-286">Sonraki öğreticide sözdizimi ile kullanmanız görürsünüz `EntityDataSource` denetim ayrıca farklı diğer veri kaynağı denetimlerden filtre, Grup ve sipariş veri.</span><span class="sxs-lookup"><span data-stu-id="cc9c3-286">In the next tutorial you'll see that the syntax you use with `EntityDataSource` control might also differ from other data source controls when you filter, group, and order data.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="cc9c3-287">[Önceki](the-entity-framework-and-aspnet-getting-started-part-1.md)
[sonraki](the-entity-framework-and-aspnet-getting-started-part-3.md)</span><span class="sxs-lookup"><span data-stu-id="cc9c3-287">[Previous](the-entity-framework-and-aspnet-getting-started-part-1.md)
[Next](the-entity-framework-and-aspnet-getting-started-part-3.md)</span></span>

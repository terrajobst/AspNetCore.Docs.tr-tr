---
uid: web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-3
title: "Entity Framework 4.0 veritabanı ile ilk Başlarken ve ASP.NET 4 Web Forms - bölüm 3 | Microsoft Docs"
author: tdykstra
description: "Contoso University örnek web uygulaması Entity Framework kullanarak ASP.NET Web Forms uygulamalarının nasıl oluşturulacağını gösterir. Örnek uygulamasıdır..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 12/03/2010
ms.topic: article
ms.assetid: ccdc3f8c-2568-40a7-8f8b-3c23d2e05388
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-3
msc.type: authoredcontent
ms.openlocfilehash: 1ec8891c4ccf71494389ba562fdfb4b88055d12f
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/10/2017
---
<a name="getting-started-with-entity-framework-40-database-first-and-aspnet-4-web-forms---part-3"></a><span data-ttu-id="ad283-104">Entity Framework 4.0 veritabanı ile ilk Başlarken ve ASP.NET 4 Web Forms - bölüm 3</span><span class="sxs-lookup"><span data-stu-id="ad283-104">Getting Started with Entity Framework 4.0 Database First and ASP.NET 4 Web Forms - Part 3</span></span>
====================
<span data-ttu-id="ad283-105">tarafından [zel Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="ad283-105">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="ad283-106">Contoso University örnek web uygulaması Entity Framework 4.0 ve Visual Studio 2010 kullanarak ASP.NET Web Forms uygulamalarının nasıl oluşturulacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="ad283-106">The Contoso University sample web application demonstrates how to create ASP.NET Web Forms applications using the Entity Framework 4.0 and Visual Studio 2010.</span></span> <span data-ttu-id="ad283-107">Eğitmen serisi hakkında daha fazla bilgi için bkz: [serideki ilk öğreticide](the-entity-framework-and-aspnet-getting-started-part-1.md)</span><span class="sxs-lookup"><span data-stu-id="ad283-107">For information about the tutorial series, see [the first tutorial in the series](the-entity-framework-and-aspnet-getting-started-part-1.md)</span></span>


## <a name="filtering-ordering-and-grouping-data"></a><span data-ttu-id="ad283-108">Filtreleme, sıralama ve verileri gruplandırma</span><span class="sxs-lookup"><span data-stu-id="ad283-108">Filtering, Ordering, and Grouping Data</span></span>

<span data-ttu-id="ad283-109">Önceki öğreticide kullandığınız `EntityDataSource` verileri görüntülemek ve düzenlemek için denetim.</span><span class="sxs-lookup"><span data-stu-id="ad283-109">In the previous tutorial you used the `EntityDataSource` control to display and edit data.</span></span> <span data-ttu-id="ad283-110">Bu öğreticide filtre, sipariş ve veri grubu.</span><span class="sxs-lookup"><span data-stu-id="ad283-110">In this tutorial you'll filter, order, and group data.</span></span> <span data-ttu-id="ad283-111">Bunu yaptığınızda özelliklerini ayarlayarak `EntityDataSource` denetim, söz dizimi diğer veri kaynağı denetimlerden farklı.</span><span class="sxs-lookup"><span data-stu-id="ad283-111">When you do this by setting properties of the `EntityDataSource` control, the syntax is different from other data source controls.</span></span> <span data-ttu-id="ad283-112">Bununla birlikte, göreceğiniz gibi kullanabilirsiniz `QueryExtender` Bu farklılıklar en aza indirmek için denetim.</span><span class="sxs-lookup"><span data-stu-id="ad283-112">As you'll see, however, you can use the `QueryExtender` control to minimize these differences.</span></span>

<span data-ttu-id="ad283-113">Değiştireceğiz *Students.aspx* Öğrenciler için filtre uygulamak için sayfa adı ve arama adına göre sırala.</span><span class="sxs-lookup"><span data-stu-id="ad283-113">You'll change the *Students.aspx* page to filter for students, sort by name, and search on name.</span></span> <span data-ttu-id="ad283-114">Ayrıca değiştireceğiz *Courses.aspx* kurslar arayın ve seçilen departman kursları adına göre görüntülemek için sayfa.</span><span class="sxs-lookup"><span data-stu-id="ad283-114">You'll also change the *Courses.aspx* page to display courses for the selected department and search for courses by name.</span></span> <span data-ttu-id="ad283-115">Son olarak, Öğrenci istatistikleri ekleyeceksiniz *About.aspx* sayfası.</span><span class="sxs-lookup"><span data-stu-id="ad283-115">Finally, you'll add student statistics to the *About.aspx* page.</span></span>

<span data-ttu-id="ad283-116">[![Image02](the-entity-framework-and-aspnet-getting-started-part-3/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-116">[![Image02](the-entity-framework-and-aspnet-getting-started-part-3/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image1.png)</span></span>

<span data-ttu-id="ad283-117">[![Image11](the-entity-framework-and-aspnet-getting-started-part-3/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-117">[![Image11](the-entity-framework-and-aspnet-getting-started-part-3/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image3.png)</span></span>

<span data-ttu-id="ad283-118">[![Image10](the-entity-framework-and-aspnet-getting-started-part-3/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-118">[![Image10](the-entity-framework-and-aspnet-getting-started-part-3/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image5.png)</span></span>

<span data-ttu-id="ad283-119">[![Image14](the-entity-framework-and-aspnet-getting-started-part-3/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-119">[![Image14](the-entity-framework-and-aspnet-getting-started-part-3/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image7.png)</span></span>

## <a name="using-the-entitydatasource-where-property-to-filter-data"></a><span data-ttu-id="ad283-120">Verileri filtrelemek için EntityDataSource "Burada" özelliğini kullanarak</span><span class="sxs-lookup"><span data-stu-id="ad283-120">Using the EntityDataSource "Where" Property to Filter Data</span></span>

<span data-ttu-id="ad283-121">Açık *Students.aspx* önceki öğreticide oluşturduğunuz sayfası.</span><span class="sxs-lookup"><span data-stu-id="ad283-121">Open the *Students.aspx* page that you created in the previous tutorial.</span></span> <span data-ttu-id="ad283-122">Şu anda yapılandırılmış `GridView` sayfasında denetimindeki tüm adlarından görüntüler `People` varlık kümesi.</span><span class="sxs-lookup"><span data-stu-id="ad283-122">As currently configured, the `GridView` control in the page displays all the names from the `People` entity set.</span></span> <span data-ttu-id="ad283-123">Ancak, yalnızca Öğrenciler göstermek istediğiniz seçerek bulabileceğiniz `Person` null olmayan kayıt tarihi olan varlık.</span><span class="sxs-lookup"><span data-stu-id="ad283-123">However, you want to show only students, which you can find by selecting `Person` entities that have non-null enrollment dates.</span></span>

<span data-ttu-id="ad283-124">Geçiş **tasarım** görüntülemek ve seçim `EntityDataSource` denetim.</span><span class="sxs-lookup"><span data-stu-id="ad283-124">Switch to **Design** view and select the `EntityDataSource` control.</span></span> <span data-ttu-id="ad283-125">İçinde **özellikleri** penceresindeki ayarlayın `Where` özelliğine `it.EnrollmentDate is not null`.</span><span class="sxs-lookup"><span data-stu-id="ad283-125">In the **Properties** window, set the `Where` property to `it.EnrollmentDate is not null`.</span></span>

<span data-ttu-id="ad283-126">[![Image01](the-entity-framework-and-aspnet-getting-started-part-3/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-126">[![Image01](the-entity-framework-and-aspnet-getting-started-part-3/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image9.png)</span></span>

<span data-ttu-id="ad283-127">De kullandığınız sözdizimi `Where` özelliği `EntityDataSource` varlık SQL denetimdir.</span><span class="sxs-lookup"><span data-stu-id="ad283-127">The syntax you use in the `Where` property of the `EntityDataSource` control is Entity SQL.</span></span> <span data-ttu-id="ad283-128">Varlık SQL Transact-SQL benzer, ancak veritabanı nesneleri yerine varlıkları ile kullanılmak üzere özelleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="ad283-128">Entity SQL is similar to Transact-SQL, but it's customized for use with entities rather than database objects.</span></span> <span data-ttu-id="ad283-129">İfadedeki `it.EnrollmentDate is not null`, word `it` sorgu tarafından döndürülen varlığı için referans temsil eder.</span><span class="sxs-lookup"><span data-stu-id="ad283-129">In the expression `it.EnrollmentDate is not null`, the word `it` represents a reference to the entity returned by the query.</span></span> <span data-ttu-id="ad283-130">Bu nedenle, `it.EnrollmentDate` başvurduğu `EnrollmentDate` özelliği `Person` varlık, `EntityDataSource` denetim döndürür.</span><span class="sxs-lookup"><span data-stu-id="ad283-130">Therefore, `it.EnrollmentDate` refers to the `EnrollmentDate` property of the `Person` entity that the `EntityDataSource` control returns.</span></span>

<span data-ttu-id="ad283-131">Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="ad283-131">Run the page.</span></span> <span data-ttu-id="ad283-132">Öğrenciler listesi şimdi yalnızca Öğrenciler içerir.</span><span class="sxs-lookup"><span data-stu-id="ad283-132">The students list now contains only students.</span></span> <span data-ttu-id="ad283-133">(Görüntülendiği satır yok hiçbir kayıt tarihi yoktur.)</span><span class="sxs-lookup"><span data-stu-id="ad283-133">(There are no rows displayed where there's no enrollment date.)</span></span>

<span data-ttu-id="ad283-134">[![Image02](the-entity-framework-and-aspnet-getting-started-part-3/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-134">[![Image02](the-entity-framework-and-aspnet-getting-started-part-3/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image11.png)</span></span>

## <a name="using-the-entitydatasource-orderby-property-to-order-data"></a><span data-ttu-id="ad283-135">Sipariş verilerini EntityDataSource "OrderBy" özelliğini kullanma</span><span class="sxs-lookup"><span data-stu-id="ad283-135">Using the EntityDataSource "OrderBy" Property to Order Data</span></span>

<span data-ttu-id="ad283-136">İlk görüntülendiğinde adı sırada olması için bu listeyi da isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad283-136">You also want this list to be in name order when it's first displayed.</span></span> <span data-ttu-id="ad283-137">İle *Students.aspx* sayfa içinde hala açık **tasarım** görünümü ile `EntityDataSource` denetimi yine de, seçili **özellikleri** penceresi kümesi  **OrderBy** özelliğine `it.LastName`.</span><span class="sxs-lookup"><span data-stu-id="ad283-137">With the *Students.aspx* page still open in **Design** view, and with the `EntityDataSource` control still selected, in the **Properties** window set the **OrderBy** property to `it.LastName`.</span></span>

<span data-ttu-id="ad283-138">[![Image05](the-entity-framework-and-aspnet-getting-started-part-3/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-138">[![Image05](the-entity-framework-and-aspnet-getting-started-part-3/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image13.png)</span></span>

<span data-ttu-id="ad283-139">Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="ad283-139">Run the page.</span></span> <span data-ttu-id="ad283-140">Öğrenciler listesi sipariş son ada göre sunulmuştur.</span><span class="sxs-lookup"><span data-stu-id="ad283-140">The students list is now in order by last name.</span></span>

<span data-ttu-id="ad283-141">[![Image04](the-entity-framework-and-aspnet-getting-started-part-3/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-141">[![Image04](the-entity-framework-and-aspnet-getting-started-part-3/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image15.png)</span></span>

## <a name="using-a-control-parameter-to-set-the-where-property"></a><span data-ttu-id="ad283-142">"Nerede" özelliğini ayarlamak için bir denetim parametresini kullanma</span><span class="sxs-lookup"><span data-stu-id="ad283-142">Using a Control Parameter to Set the "Where" Property</span></span>

<span data-ttu-id="ad283-143">Diğer veri kaynağı denetimleri için parametre değerlerinin geçmesini sağlayabilirsiniz gibi `Where` özelliği.</span><span class="sxs-lookup"><span data-stu-id="ad283-143">As with other data source controls, you can pass parameter values to the `Where` property.</span></span> <span data-ttu-id="ad283-144">Üzerinde *Courses.aspx* sayfasında öğreticinin 2 bölümünde oluşturduğunuz, aşağı açılan listeden bir kullanıcı seçer departmanı ile ilişkili kurslar görüntülemek için bu yöntemi kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad283-144">On the *Courses.aspx* page that you created in part 2 of the tutorial, you can use this method to display courses that are associated with the department that a user selects from the drop-down list.</span></span>

<span data-ttu-id="ad283-145">Açık *Courses.aspx* ve geçiş **tasarım** görünümü.</span><span class="sxs-lookup"><span data-stu-id="ad283-145">Open *Courses.aspx* and switch to **Design** view.</span></span> <span data-ttu-id="ad283-146">İkinci bir ekleme `EntityDataSource` kontrol sayfasına ve adlandırın `CoursesEntityDataSource`.</span><span class="sxs-lookup"><span data-stu-id="ad283-146">Add a second `EntityDataSource` control to the page, and name it `CoursesEntityDataSource`.</span></span> <span data-ttu-id="ad283-147">Buna bağlanmak `SchoolEntities` model ve seçin `Courses` olarak **EntitySetName** değeri.</span><span class="sxs-lookup"><span data-stu-id="ad283-147">Connect it to the `SchoolEntities` model, and select `Courses` as the **EntitySetName** value.</span></span>

<span data-ttu-id="ad283-148">İçinde **özellikleri** penceresinde, üç noktaya tıklayın **burada** özellik kutusu.</span><span class="sxs-lookup"><span data-stu-id="ad283-148">In the **Properties** window, click the ellipsis in the **Where** property box.</span></span> <span data-ttu-id="ad283-149">(Emin olun `CoursesEntityDataSource` denetimin halen seçili kullanmadan önce **özellikleri** penceresi.)</span><span class="sxs-lookup"><span data-stu-id="ad283-149">(Make sure the `CoursesEntityDataSource` control is still selected before using the **Properties** window.)</span></span>

<span data-ttu-id="ad283-150">[![Image06](the-entity-framework-and-aspnet-getting-started-part-3/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-150">[![Image06](the-entity-framework-and-aspnet-getting-started-part-3/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image17.png)</span></span>

<span data-ttu-id="ad283-151">**İfade Düzenleyicisi** iletişim kutusu görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="ad283-151">The **Expression Editor** dialog box is displayed.</span></span> <span data-ttu-id="ad283-152">Bu iletişim kutusunda seçin **nerede otomatik olarak üret ifade tabanlı sağlanan parametreleri**ve ardından **parametresi Ekle**.</span><span class="sxs-lookup"><span data-stu-id="ad283-152">In this dialog box, select **Automatically generate the Where expression based on the provided parameters**, and then click **Add Parameter**.</span></span> <span data-ttu-id="ad283-153">Parametre adı `DepartmentID`seçin **denetim** olarak **parametre kaynağı** değer ve seçin **DepartmentsDropDownList** olarak **ControlId**  değeri.</span><span class="sxs-lookup"><span data-stu-id="ad283-153">Name the parameter `DepartmentID`, select **Control** as the **Parameter source** value, and select **DepartmentsDropDownList** as the **ControlID** value.</span></span>

<span data-ttu-id="ad283-154">[![Image07](the-entity-framework-and-aspnet-getting-started-part-3/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-154">[![Image07](the-entity-framework-and-aspnet-getting-started-part-3/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image19.png)</span></span>

<span data-ttu-id="ad283-155">Tıklatın **gelişmiş özelliklerini göster**hem de **özellikleri** pencerenin **ifade Düzenleyicisi** iletişim kutusu, değişiklik `Type` özelliğine `Int32`.</span><span class="sxs-lookup"><span data-stu-id="ad283-155">Click **Show advanced properties**, and in the **Properties** window of the **Expression Editor** dialog box, change the `Type` property to `Int32`.</span></span>

<span data-ttu-id="ad283-156">[![Image15](the-entity-framework-and-aspnet-getting-started-part-3/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-156">[![Image15](the-entity-framework-and-aspnet-getting-started-part-3/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image21.png)</span></span>

<span data-ttu-id="ad283-157">İşiniz bittiğinde tıklatın **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="ad283-157">When you're done, click **OK**.</span></span>

<span data-ttu-id="ad283-158">Aşağıdaki açılan listeye eklemek bir `GridView` kontrol sayfasına ve adlandırın `CoursesGridView`.</span><span class="sxs-lookup"><span data-stu-id="ad283-158">Below the drop-down list, add a `GridView` control to the page and name it `CoursesGridView`.</span></span> <span data-ttu-id="ad283-159">Bağlanmak `CoursesEntityDataSource` veri kaynağı denetimi,'ı tıklatın **yenileme şema**, tıklatın **Edit Columns**, kaldırıp `DepartmentID` sütun.</span><span class="sxs-lookup"><span data-stu-id="ad283-159">Connect it to the `CoursesEntityDataSource` data source control, click **Refresh Schema**, click **Edit Columns**, and remove the `DepartmentID` column.</span></span> <span data-ttu-id="ad283-160">`GridView` Denetim biçimlendirme, aşağıdaki örnekte benzer.</span><span class="sxs-lookup"><span data-stu-id="ad283-160">The `GridView` control markup resembles the following example.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-3/samples/sample1.aspx)]

<span data-ttu-id="ad283-161">Kullanıcı aşağı açılan listesinde seçili Departman değiştiğinde otomatik olarak değiştirmek için ilişkili kurslar listesi istiyor.</span><span class="sxs-lookup"><span data-stu-id="ad283-161">When the user changes the selected department in the drop-down list, you want the list of associated courses to change automatically.</span></span> <span data-ttu-id="ad283-162">Bu durum, aşağı açılan listeden seçin yapmak için ve **özellikleri** penceresi kümesi `AutoPostBack` özelliğine `True`.</span><span class="sxs-lookup"><span data-stu-id="ad283-162">To make this happen, select the drop-down list, and in the **Properties** window set the `AutoPostBack` property to `True`.</span></span>

<span data-ttu-id="ad283-163">[![Image08](the-entity-framework-and-aspnet-getting-started-part-3/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-163">[![Image08](the-entity-framework-and-aspnet-getting-started-part-3/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image23.png)</span></span>

<span data-ttu-id="ad283-164">Tasarımcı kullanarak tamamlanmış, geçiş **kaynak** görüntülemek ve değiştirmek `ConnectionString` ve `DefaultContainer` ad özelliklerini `CoursesEntityDataSource` ile kontrol `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="ad283-164">Now that you're finished using the designer, switch to **Source** view and replace the `ConnectionString` and `DefaultContainer` name properties of the `CoursesEntityDataSource` control with the `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` attribute.</span></span> <span data-ttu-id="ad283-165">İşiniz bittiğinde, denetim için biçimlendirme aşağıdaki gibi görünecektir.</span><span class="sxs-lookup"><span data-stu-id="ad283-165">When you're done, the markup for the control will look like the following example.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-3/samples/sample2.aspx)]

<span data-ttu-id="ad283-166">Sayfayı çalıştırın ve farklı departmanlara seçmek için açılır listeyi kullanın.</span><span class="sxs-lookup"><span data-stu-id="ad283-166">Run the page and use the drop-down list to select different departments.</span></span> <span data-ttu-id="ad283-167">Seçili bölüm tarafından sunulan kurslar görüntülenir `GridView` denetim.</span><span class="sxs-lookup"><span data-stu-id="ad283-167">Only courses that are offered by the selected department are displayed in the `GridView` control.</span></span>

<span data-ttu-id="ad283-168">[![Image09](the-entity-framework-and-aspnet-getting-started-part-3/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-168">[![Image09](the-entity-framework-and-aspnet-getting-started-part-3/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image25.png)</span></span>

## <a name="using-the-entitydatasource-groupby-property-to-group-data"></a><span data-ttu-id="ad283-169">Grup verileri EntityDataSource "GroupBy" özelliğini kullanma</span><span class="sxs-lookup"><span data-stu-id="ad283-169">Using the EntityDataSource "GroupBy" Property to Group Data</span></span>

<span data-ttu-id="ad283-170">Contoso University bazı Öğrenci gövde istatistik hakkında sayfasında put istediğini varsayalım.</span><span class="sxs-lookup"><span data-stu-id="ad283-170">Suppose Contoso University wants to put some student-body statistics on its About page.</span></span> <span data-ttu-id="ad283-171">Özellikle, bunlar kayıtlı tarihe göre Öğrenciler sayıda dökümünü göstermek istemektedir.</span><span class="sxs-lookup"><span data-stu-id="ad283-171">Specifically, it wants to show a breakdown of numbers of students by the date they enrolled.</span></span>

<span data-ttu-id="ad283-172">Açık *About.aspx*hem de **kaynak** görüntülemek için varolan Değiştir `BodyContent` arasında "İle Öğrenci gövde İstatistikleri" Denetim `h2` etiketler:</span><span class="sxs-lookup"><span data-stu-id="ad283-172">Open *About.aspx*, and in **Source** view, replace the existing contents of the `BodyContent` control with "Student Body Statistics" between `h2` tags:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-3/samples/sample3.aspx)]

<span data-ttu-id="ad283-173">Başlığı sonra eklemek bir `EntityDataSource` denetlemek ve adlandırın `StudentStatisticsEntityDataSource`.</span><span class="sxs-lookup"><span data-stu-id="ad283-173">After the heading, add an `EntityDataSource` control and name it `StudentStatisticsEntityDataSource`.</span></span> <span data-ttu-id="ad283-174">Buna bağlanmak `SchoolEntities`seçin `People` varlık ayarlamak ve bırakın **seçin** değiştirmeden sihirbazda kutusu.</span><span class="sxs-lookup"><span data-stu-id="ad283-174">Connect it to `SchoolEntities`, select the `People` entity set, and leave the **Select** box in the wizard unchanged.</span></span> <span data-ttu-id="ad283-175">Aşağıdaki özellikler kümesinde **özellikleri** penceresi:</span><span class="sxs-lookup"><span data-stu-id="ad283-175">Set the following properties in the **Properties** window:</span></span>

- <span data-ttu-id="ad283-176">Öğrenciler için filtrelemek için `Where` özelliğine `it.EnrollmentDate is not null`.</span><span class="sxs-lookup"><span data-stu-id="ad283-176">To filter for students only, set the `Where` property to `it.EnrollmentDate is not null`.</span></span>
- <span data-ttu-id="ad283-177">Sonuçları kayıt tarihe göre gruplandırmak için ayarlanmış `GroupBy` özelliğine `it.EnrollmentDate`.</span><span class="sxs-lookup"><span data-stu-id="ad283-177">To group the results by the enrollment date, set the `GroupBy` property to `it.EnrollmentDate`.</span></span>
- <span data-ttu-id="ad283-178">Kayıt tarihi ve öğrenciler sayısını seçmek üzere ayarlamak `Select` özelliğine `it.EnrollmentDate, Count(it.EnrollmentDate) AS NumberOfStudents`.</span><span class="sxs-lookup"><span data-stu-id="ad283-178">To select the enrollment date and the number of students, set the `Select` property to `it.EnrollmentDate, Count(it.EnrollmentDate) AS NumberOfStudents`.</span></span>
- <span data-ttu-id="ad283-179">Sonuçları kayıt tarihe göre sıralamak için ayarlanmış `OrderBy` özelliğine `it.EnrollmentDate`.</span><span class="sxs-lookup"><span data-stu-id="ad283-179">To order the results by the enrollment date, set the `OrderBy` property to `it.EnrollmentDate`.</span></span>

<span data-ttu-id="ad283-180">İçinde **kaynak** görüntüleyin, değiştirin `ConnectionString` ve `DefaultContainer` ad özelliklere sahip bir `ContextTypeName` özelliği.</span><span class="sxs-lookup"><span data-stu-id="ad283-180">In **Source** view, replace the `ConnectionString` and `DefaultContainer` name properties with a `ContextTypeName` property.</span></span> <span data-ttu-id="ad283-181">`EntityDataSource` Denetim biçimlendirme, aşağıdaki örnekte şimdi benzer.</span><span class="sxs-lookup"><span data-stu-id="ad283-181">The `EntityDataSource` control markup now resembles the following example.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-3/samples/sample4.aspx)]

<span data-ttu-id="ad283-182">Söz dizimi `Select`, `GroupBy`, ve `Where` özellikleri benzer Transact-SQL dışında `it` geçerli varlık belirtir anahtar sözcüğü.</span><span class="sxs-lookup"><span data-stu-id="ad283-182">The syntax of the `Select`, `GroupBy`, and `Where` properties resembles Transact-SQL except for the `it` keyword that specifies the current entity.</span></span>

<span data-ttu-id="ad283-183">Oluşturmak için aşağıdaki biçimlendirmeleri eklemek bir `GridView` verileri görüntülemek için denetim.</span><span class="sxs-lookup"><span data-stu-id="ad283-183">Add the following markup to create a `GridView` control to display the data.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-3/samples/sample5.aspx)]

<span data-ttu-id="ad283-184">Kayıt tarihe göre Öğrenciler sayısını gösteren bir listesini görmek için page çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="ad283-184">Run the page to see a list showing the number of students by enrollment date.</span></span>

<span data-ttu-id="ad283-185">[![Image10](the-entity-framework-and-aspnet-getting-started-part-3/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-185">[![Image10](the-entity-framework-and-aspnet-getting-started-part-3/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image27.png)</span></span>

## <a name="using-the-queryextender-control-for-filtering-and-ordering"></a><span data-ttu-id="ad283-186">Filtreleme ve sıralama için QueryExtender denetimi kullanma</span><span class="sxs-lookup"><span data-stu-id="ad283-186">Using the QueryExtender Control for Filtering and Ordering</span></span>

<span data-ttu-id="ad283-187">`QueryExtender` Denetimi biçimlendirmede sıralama ve filtreleme belirtmek için bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="ad283-187">The `QueryExtender` control provides a way to specify filtering and sorting in markup.</span></span> <span data-ttu-id="ad283-188">Söz dizimi, kullandığınız veritabanı yönetim sistemi (DBMS) bağımsızdır.</span><span class="sxs-lookup"><span data-stu-id="ad283-188">The syntax is independent of the database management system (DBMS) you're using.</span></span> <span data-ttu-id="ad283-189">Bu ayrıca genellikle, gezinti özellikleri için kullandığınız sözdizimi için Entity Framework benzersiz olduğunu özel Entity Framework'ün bağımsızdır.</span><span class="sxs-lookup"><span data-stu-id="ad283-189">It's also generally independent of the Entity Framework, with the exception that syntax you use for navigation properties is unique to the Entity Framework.</span></span>

<span data-ttu-id="ad283-190">Öğreticinin bu bölümünde kullanacağınız bir `QueryExtender` denetimi filtrelerin ve order verilere ve bir sipariş tarafından alanlarının bir gezinti özelliği olacaktır.</span><span class="sxs-lookup"><span data-stu-id="ad283-190">In this part of the tutorial you'll use a `QueryExtender` control to filter and order data, and one of the order-by fields will be a navigation property.</span></span>

<span data-ttu-id="ad283-191">(Otomatik olarak oluşturulan sorguları genişletmek için yerine biçimlendirme kodu kullanmayı tercih ederseniz, `EntityDataSource` denetimi yapabilirsiniz, işleme `QueryCreated` olay.</span><span class="sxs-lookup"><span data-stu-id="ad283-191">(If you prefer to use code instead of markup to extend the queries that are automatically generated by the `EntityDataSource` control, you can do that by handling the `QueryCreated` event.</span></span> <span data-ttu-id="ad283-192">Bunun nasıl `QueryExtender` denetimi `EntityDataSource` kontrol sorguları da.)</span><span class="sxs-lookup"><span data-stu-id="ad283-192">This is how the `QueryExtender` control extends `EntityDataSource` control queries also.)</span></span>

<span data-ttu-id="ad283-193">Açık *Courses.aspx* sayfasında ve daha önce eklediğiniz biçimlendirme altında bir başlığı, arama dizeleri, arama düğmesini girileceği metin kutusu oluşturmak için aşağıdaki biçimlendirme eklemek ve bir `EntityDataSource` bağlıdenetimi`Courses` varlık kümesi.</span><span class="sxs-lookup"><span data-stu-id="ad283-193">Open the *Courses.aspx* page, and below the markup you added previously, insert the following markup to create a heading, a text box for entering search strings, a search button, and an `EntityDataSource` control that's bound to the `Courses` entity set.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-3/samples/sample6.aspx)]

<span data-ttu-id="ad283-194">Dikkat `EntityDataSource` denetimin `Include` özelliği ayarlanmış `Department`.</span><span class="sxs-lookup"><span data-stu-id="ad283-194">Notice that the `EntityDataSource` control's `Include` property is set to `Department`.</span></span> <span data-ttu-id="ad283-195">Veritabanında `Course` tablo bölüm adını içermiyor; içerdiği bir `DepartmentID` yabancı anahtar sütunu.</span><span class="sxs-lookup"><span data-stu-id="ad283-195">In the database, the `Course` table does not contain the department name; it contains a `DepartmentID` foreign key column.</span></span> <span data-ttu-id="ad283-196">İndirmelere verilerin bölüm adını almak için veritabanını doğrudan sorgulama, katılmak olurdu `Course` ve `Department` tabloları.</span><span class="sxs-lookup"><span data-stu-id="ad283-196">If you were querying the database directly, to get the department name along with course data, you would have to join the `Course` and `Department` tables.</span></span> <span data-ttu-id="ad283-197">Ayarlayarak `Include` özelliğine `Department`, Entity Framework ilgili alma işini yapması belirtin `Department` alır, varlık bir `Course` varlık.</span><span class="sxs-lookup"><span data-stu-id="ad283-197">By setting the `Include` property to `Department`, you specify that the Entity Framework should do the work of getting the related `Department` entity when it gets a `Course` entity.</span></span> <span data-ttu-id="ad283-198">`Department` Varlık depolanan sonra `Department` Gezinti özelliğinin `Course` varlık.</span><span class="sxs-lookup"><span data-stu-id="ad283-198">The `Department` entity is then stored in the `Department` navigation property of the `Course` entity.</span></span> <span data-ttu-id="ad283-199">(Varsayılan olarak, `SchoolEntities` veri modeli tasarımcısı tarafından oluşturulan sınıf gerektiğinde ve böylece ayarı bu sınıf için veri kaynağı denetimi bağladınız ilgili verileri alır `Include` özellik gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="ad283-199">(By default, the `SchoolEntities` class that was generated by the data model designer retrieves related data when it's needed, and you've bound the data source control to that class, so setting the `Include` property is not necessary.</span></span> <span data-ttu-id="ad283-200">Aksi takdirde Entity Framework veritabanı için veri alma çağrıları ayrı olarak yapmayacağı ancak ayarlamak sayfa performansını artırır `Course` varlıkları ve ilgili için `Department` varlıklar.)</span><span class="sxs-lookup"><span data-stu-id="ad283-200">However, setting it improves performance of the page, because otherwise the Entity Framework would make separate calls to the database to retrieve data for the `Course` entities and for the related `Department` entities.)</span></span>

<span data-ttu-id="ad283-201">Sonra `EntityDataSource` yeni denetimi oluşturmak için aşağıdaki biçimlendirme Ekle oluşturulmuş bir `QueryExtender` olarak bağlı denetim `EntityDataSource` denetim.</span><span class="sxs-lookup"><span data-stu-id="ad283-201">After the `EntityDataSource` control you just created, insert the following markup to create a `QueryExtender` control that's bound to that `EntityDataSource` control.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-3/samples/sample7.aspx)]

<span data-ttu-id="ad283-202">`SearchExpression` Başlıkları eşleşen metin kutusuna girilen değer kurslar seçmek istediğiniz öğenin belirtir.</span><span class="sxs-lookup"><span data-stu-id="ad283-202">The `SearchExpression` element specifies that you want to select courses whose titles match the value entered in the text box.</span></span> <span data-ttu-id="ad283-203">Metin kutusuna girilen karakterlerinin kaçının, çünkü Karşılaştırılacak yalnızca `SearchType` özellik belirtir `StartsWith`.</span><span class="sxs-lookup"><span data-stu-id="ad283-203">Only as many characters as are entered in the text box will be compared, because the `SearchType` property specifies `StartsWith`.</span></span>

<span data-ttu-id="ad283-204">`OrderByExpression` Öğesi belirttiğinden sonuç kümesi bölüm adı içinde indirmelere başlığa göre sıralanır.</span><span class="sxs-lookup"><span data-stu-id="ad283-204">The `OrderByExpression` element specifies that the result set will be ordered by course title within department name.</span></span> <span data-ttu-id="ad283-205">Bölüm adı nasıl belirtilen dikkat edin: `Department.Name`.</span><span class="sxs-lookup"><span data-stu-id="ad283-205">Notice how department name is specified: `Department.Name`.</span></span> <span data-ttu-id="ad283-206">Çünkü arasındaki ilişkiyi `Course` varlık ve `Department` varlıktır birebir, `Department` gezinti özelliği içeren bir `Department` varlık.</span><span class="sxs-lookup"><span data-stu-id="ad283-206">Because the association between the `Course` entity and the `Department` entity is one-to-one, the `Department` navigation property contains a `Department` entity.</span></span> <span data-ttu-id="ad283-207">(Bu bir-çok ilişkisi varsa, özelliği bir koleksiyon içerecektir.) Bölüm adını almak için belirtmelisiniz `Name` özelliği `Department` varlık.</span><span class="sxs-lookup"><span data-stu-id="ad283-207">(If this were a one-to-many relationship, the property would contain a collection.) To get the department name, you must specify the `Name` property of the `Department` entity.</span></span>

<span data-ttu-id="ad283-208">Son olarak, ekleme bir `GridView` denetiminin kurslar listesini görüntülemek için:</span><span class="sxs-lookup"><span data-stu-id="ad283-208">Finally, add a `GridView` control to display the list of courses:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-3/samples/sample8.aspx)]

<span data-ttu-id="ad283-209">İlk sütun bölüm adını görüntüleyen bir şablon alanıdır.</span><span class="sxs-lookup"><span data-stu-id="ad283-209">The first column is a template field that displays the department name.</span></span> <span data-ttu-id="ad283-210">Veri bağlama deyimi belirtir `Department.Name`, içinde gördüğünüz gibi `QueryExtender` denetim.</span><span class="sxs-lookup"><span data-stu-id="ad283-210">The databinding expression specifies `Department.Name`, just as you saw in the `QueryExtender` control.</span></span>

<span data-ttu-id="ad283-211">Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="ad283-211">Run the page.</span></span> <span data-ttu-id="ad283-212">İlk görünen tüm kursları listesini departmanı ve sonra da indirmelere başlığa göre sırayla gösterir.</span><span class="sxs-lookup"><span data-stu-id="ad283-212">The initial display shows a list of all courses in order by department and then by course title.</span></span>

<span data-ttu-id="ad283-213">[![Image11](the-entity-framework-and-aspnet-getting-started-part-3/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-213">[![Image11](the-entity-framework-and-aspnet-getting-started-part-3/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image29.png)</span></span>

<span data-ttu-id="ad283-214">Bir "m" girin ve tıklayın **arama** başlıkları "(arama olduğu değil büyük-küçük harf duyarlı) m" ile başlayan tüm kursları görmek için.</span><span class="sxs-lookup"><span data-stu-id="ad283-214">Enter an "m" and click **Search** to see all courses whose titles begin with "m" (the search is not case sensitive).</span></span>

<span data-ttu-id="ad283-215">[![Image12](the-entity-framework-and-aspnet-getting-started-part-3/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-215">[![Image12](the-entity-framework-and-aspnet-getting-started-part-3/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image31.png)</span></span>

## <a name="using-the-like-operator-to-filter-data"></a><span data-ttu-id="ad283-216">Verileri filtrelemek için "Gibi" işleci kullanma</span><span class="sxs-lookup"><span data-stu-id="ad283-216">Using the "Like" Operator to Filter Data</span></span>

<span data-ttu-id="ad283-217">Benzer şekilde bir etkisi elde edebilirsiniz `QueryExtender` denetimin `StartsWith`, `Contains`, ve `EndsWith` arama türlerini kullanarak bir `Like` işlecinde `EntityDataSource` denetimin `Where` özelliği.</span><span class="sxs-lookup"><span data-stu-id="ad283-217">You can achieve an effect similar to the `QueryExtender` control's `StartsWith`, `Contains`, and `EndsWith` search types by using a `Like` operator in the `EntityDataSource` control's `Where` property.</span></span> <span data-ttu-id="ad283-218">Öğreticinin bu bölümünde, nasıl kullanılacağını görürsünüz `Like` için öğrencinin adına göre aramak için işleci.</span><span class="sxs-lookup"><span data-stu-id="ad283-218">In this part of the tutorial, you'll see how to use the `Like` operator to search for a student by name.</span></span>

<span data-ttu-id="ad283-219">Açık *Students.aspx* içinde **kaynak** görünümü.</span><span class="sxs-lookup"><span data-stu-id="ad283-219">Open *Students.aspx* in **Source** view.</span></span> <span data-ttu-id="ad283-220">Sonra `GridView` denetlemek, aşağıdaki biçimlendirmeyi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="ad283-220">After the `GridView` control, add the following markup:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-3/samples/sample9.aspx)]

<span data-ttu-id="ad283-221">Bu biçimlendirme ne önceki dışında gördüğünüz için benzer `Where` özellik değeri.</span><span class="sxs-lookup"><span data-stu-id="ad283-221">This markup is similar to what you've seen earlier except for the `Where` property value.</span></span> <span data-ttu-id="ad283-222">İkinci bölümü `Where` ifade substring arama tanımlar (`LIKE %FirstMidName% or LIKE %LastName%`) ne olursa olsun metin kutusuna girilen için hem ilk ve son adlar arar.</span><span class="sxs-lookup"><span data-stu-id="ad283-222">The second part of the `Where` expression defines a substring search (`LIKE %FirstMidName% or LIKE %LastName%`) that searches both the first and last names for whatever is entered in the text box.</span></span>

<span data-ttu-id="ad283-223">Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="ad283-223">Run the page.</span></span> <span data-ttu-id="ad283-224">Varsayılan değer olduğundan Başlangıçta tüm Öğrenciler gördüğünüz `StudentName` parametresi "%" şeklindedir.</span><span class="sxs-lookup"><span data-stu-id="ad283-224">Initially you see all of the students because the default value for the `StudentName` parameter is "%".</span></span>

<span data-ttu-id="ad283-225">[![Image13](the-entity-framework-and-aspnet-getting-started-part-3/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-225">[![Image13](the-entity-framework-and-aspnet-getting-started-part-3/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image33.png)</span></span>

<span data-ttu-id="ad283-226">Harf "g" metin kutusuna girin ve tıklayın **arama**.</span><span class="sxs-lookup"><span data-stu-id="ad283-226">Enter the letter "g" in the text box and click **Search**.</span></span> <span data-ttu-id="ad283-227">Bir "g" ya da ilk veya son ada sahip Öğrenciler listesini görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="ad283-227">You see a list of students that have a "g" in either the first or last name.</span></span>

<span data-ttu-id="ad283-228">[![Image14](the-entity-framework-and-aspnet-getting-started-part-3/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="ad283-228">[![Image14](the-entity-framework-and-aspnet-getting-started-part-3/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-3/_static/image35.png)</span></span>

<span data-ttu-id="ad283-229">Şimdi görüntülenen, güncelleştirilmiş, filtre, sıralı ve tek tek tablolardaki verileri gruplandırılır.</span><span class="sxs-lookup"><span data-stu-id="ad283-229">You've now displayed, updated, filtered, ordered, and grouped data from individual tables.</span></span> <span data-ttu-id="ad283-230">Sonraki öğreticide (ana-ayrıntı senaryolarında) ilgili verilerle çalışmak başlarsınız.</span><span class="sxs-lookup"><span data-stu-id="ad283-230">In the next tutorial you'll begin to work with related data (master-detail scenarios).</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="ad283-231">[Önceki](the-entity-framework-and-aspnet-getting-started-part-2.md)
[sonraki](the-entity-framework-and-aspnet-getting-started-part-4.md)</span><span class="sxs-lookup"><span data-stu-id="ad283-231">[Previous](the-entity-framework-and-aspnet-getting-started-part-2.md)
[Next](the-entity-framework-and-aspnet-getting-started-part-4.md)</span></span>

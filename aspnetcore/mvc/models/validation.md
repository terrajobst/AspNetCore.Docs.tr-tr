---
title: ASP.NET Core MVC model doğrulama
author: rachelappel
description: ASP.NET Core MVC model doğrulama hakkında bilgi edinin.
manager: wpickett
ms.author: riande
ms.date: 12/18/2016
ms.prod: asp.net-core
ms.technology: aspnet
ms.topic: article
uid: mvc/models/validation
ms.openlocfilehash: befbec393c089ec1f4dfdac5dbbdc3bdc7ddbf69
ms.sourcegitcommit: 48beecfe749ddac52bc79aa3eb246a2dcdaa1862
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/22/2018
---
# <a name="model-validation-in-aspnet-core-mvc"></a><span data-ttu-id="e471b-103">ASP.NET Core MVC model doğrulama</span><span class="sxs-lookup"><span data-stu-id="e471b-103">Model validation in ASP.NET Core MVC</span></span>

<span data-ttu-id="e471b-104">Tarafından [Rachel Appel](https://github.com/rachelappel)</span><span class="sxs-lookup"><span data-stu-id="e471b-104">By [Rachel Appel](https://github.com/rachelappel)</span></span>

## <a name="introduction-to-model-validation"></a><span data-ttu-id="e471b-105">Model doğrulama giriş</span><span class="sxs-lookup"><span data-stu-id="e471b-105">Introduction to model validation</span></span>

<span data-ttu-id="e471b-106">Bir uygulama, bir veritabanında veri depolayan önce uygulama verileri doğrulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e471b-106">Before an app stores data in a database, the app must validate the data.</span></span> <span data-ttu-id="e471b-107">Uygun şekilde türüne ve boyutuna göre biçimlendirilmiş olan ve sizin kurallarına uymalıdır doğrulandı, olası güvenlik tehditlerini için veri denetlenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="e471b-107">Data must be checked for potential security threats, verified that it's appropriately formatted by type and size, and it must conform to your rules.</span></span> <span data-ttu-id="e471b-108">Doğrulama gerekli olsa yedekli ve uygulamak can sıkıcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="e471b-108">Validation is necessary although it can be redundant and tedious to implement.</span></span> <span data-ttu-id="e471b-109">MVC uygulamasında istemci ve sunucu üzerinde doğrulama olur.</span><span class="sxs-lookup"><span data-stu-id="e471b-109">In MVC, validation happens on both the client and server.</span></span>

<span data-ttu-id="e471b-110">Neyse ki, .NET doğrulama doğrulama öznitelikleri içine soyutlanır.</span><span class="sxs-lookup"><span data-stu-id="e471b-110">Fortunately, .NET has abstracted validation into validation attributes.</span></span> <span data-ttu-id="e471b-111">Bu öznitelikler doğrulama kodu, böylece kod yazmanız gerekir miktarının azaltılması içerir.</span><span class="sxs-lookup"><span data-stu-id="e471b-111">These attributes contain validation code, thereby reducing the amount of code you must write.</span></span>

<span data-ttu-id="e471b-112">[Görüntülemek veya örnek Github'dan indirdiğinizde](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/models/validation/sample).</span><span class="sxs-lookup"><span data-stu-id="e471b-112">[View or download sample from GitHub](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/models/validation/sample).</span></span>

## <a name="validation-attributes"></a><span data-ttu-id="e471b-113">Doğrulama öznitelikleri</span><span class="sxs-lookup"><span data-stu-id="e471b-113">Validation Attributes</span></span>

<span data-ttu-id="e471b-114">Doğrulama öznitelikleri model doğrulama kavramsal doğrulama, veritabanı tablolarındaki alanlar için benzer şekilde yapılandırmak için bir yoldur.</span><span class="sxs-lookup"><span data-stu-id="e471b-114">Validation attributes are a way to configure model validation so it's similar conceptually to validation on fields in database tables.</span></span> <span data-ttu-id="e471b-115">Bu, veri türleri veya gerekli alanları atama gibi kısıtlamaları içerir.</span><span class="sxs-lookup"><span data-stu-id="e471b-115">This includes constraints such as assigning data types or required fields.</span></span> <span data-ttu-id="e471b-116">Desenler bir kredi kartı, telefon numarası gibi iş kurallarını uygulayabilir veya e-posta adresi için verilere uygulamadan doğrulama diğer türleri içerir.</span><span class="sxs-lookup"><span data-stu-id="e471b-116">Other types of validation include applying patterns to data to enforce business rules, such as a credit card, phone number, or email address.</span></span> <span data-ttu-id="e471b-117">Bu gereksinimleri çok daha basit ve kullanmayı daha kolay zorlamayı doğrulama öznitelikleri olun.</span><span class="sxs-lookup"><span data-stu-id="e471b-117">Validation attributes make enforcing these requirements much simpler and easier to use.</span></span>

<span data-ttu-id="e471b-118">Ek açıklama aşağıdadır `Movie` model bir uygulamadan filmler ve TV programları ile ilgili bilgileri depolar.</span><span class="sxs-lookup"><span data-stu-id="e471b-118">Below is an annotated `Movie` model from an app that stores information about movies and TV shows.</span></span> <span data-ttu-id="e471b-119">Özelliklerin çoğu gereklidir ve birkaç dize özellikleri uzunluk gereksinimlerine sahip.</span><span class="sxs-lookup"><span data-stu-id="e471b-119">Most of the properties are required and several string properties have length requirements.</span></span> <span data-ttu-id="e471b-120">Ayrıca, için yerinde sayısal aralığın bir kısıtlama yoktur `Price` özel doğrulama özniteliği birlikte $999.99, 0'dan özelliğine.</span><span class="sxs-lookup"><span data-stu-id="e471b-120">Additionally, there's a numeric range restriction in place for the `Price` property from 0 to $999.99, along with a custom validation attribute.</span></span>

[!code-csharp[](validation/sample/Movie.cs?range=6-29)]

<span data-ttu-id="e471b-121">Yalnızca modeli aracılığıyla okuma kuralları hakkında daha kolay kod korumak, bu uygulama için veri ortaya çıkarır.</span><span class="sxs-lookup"><span data-stu-id="e471b-121">Simply reading through the model reveals the rules about data for this app, making it easier to maintain the code.</span></span> <span data-ttu-id="e471b-122">Aşağıda birkaç popüler yerleşik doğrulama öznitelikleri şunlardır:</span><span class="sxs-lookup"><span data-stu-id="e471b-122">Below are several popular built-in validation attributes:</span></span>

* <span data-ttu-id="e471b-123">`[CreditCard]`: Doğrular özellik bir kredi kartı biçime sahip.</span><span class="sxs-lookup"><span data-stu-id="e471b-123">`[CreditCard]`: Validates the property has a credit card format.</span></span>

* <span data-ttu-id="e471b-124">`[Compare]`: Bir model eşleşme iki özelliklerinde doğrular.</span><span class="sxs-lookup"><span data-stu-id="e471b-124">`[Compare]`: Validates two properties in a model match.</span></span>

* <span data-ttu-id="e471b-125">`[EmailAddress]`: Doğrular özellik bir e-posta biçime sahip.</span><span class="sxs-lookup"><span data-stu-id="e471b-125">`[EmailAddress]`: Validates the property has an email format.</span></span>

* <span data-ttu-id="e471b-126">`[Phone]`: Doğrular özellik bir telefon biçime sahip.</span><span class="sxs-lookup"><span data-stu-id="e471b-126">`[Phone]`: Validates the property has a telephone format.</span></span>

* <span data-ttu-id="e471b-127">`[Range]`: Özellik değeri düştüğünde belirtilen aralıkta doğrular.</span><span class="sxs-lookup"><span data-stu-id="e471b-127">`[Range]`: Validates the property value falls within the given range.</span></span>

* <span data-ttu-id="e471b-128">`[RegularExpression]`: Veri belirtilen normal ifadeyle eşleşen doğrular.</span><span class="sxs-lookup"><span data-stu-id="e471b-128">`[RegularExpression]`: Validates that the data matches the specified regular expression.</span></span>

* <span data-ttu-id="e471b-129">`[Required]`: Gerekli bir özellik sağlar.</span><span class="sxs-lookup"><span data-stu-id="e471b-129">`[Required]`: Makes a property required.</span></span>

* <span data-ttu-id="e471b-130">`[StringLength]`: Bir dize özelliği verilen en fazla uzunluğu en fazla sahip olduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="e471b-130">`[StringLength]`: Validates that a string property has at most the given maximum length.</span></span>

* <span data-ttu-id="e471b-131">`[Url]`: Doğrular bir URL biçimi özelliği vardır.</span><span class="sxs-lookup"><span data-stu-id="e471b-131">`[Url]`: Validates the property has a URL format.</span></span>

<span data-ttu-id="e471b-132">MVC destekleyen türetilen herhangi bir öznitelik `ValidationAttribute` doğrulama amacıyla.</span><span class="sxs-lookup"><span data-stu-id="e471b-132">MVC supports any attribute that derives from `ValidationAttribute` for validation purposes.</span></span> <span data-ttu-id="e471b-133">Çok sayıda kullanışlı doğrulama öznitelikleri bulunabilir [System.ComponentModel.DataAnnotations](https://docs.microsoft.com/dotnet/api/system.componentmodel.dataannotations) ad alanı.</span><span class="sxs-lookup"><span data-stu-id="e471b-133">Many useful validation attributes can be found in the [System.ComponentModel.DataAnnotations](https://docs.microsoft.com/dotnet/api/system.componentmodel.dataannotations) namespace.</span></span>

<span data-ttu-id="e471b-134">Yerleşik öznitelikleri sağlamak özelliklerden daha fazlasını ihtiyaç duyacağınız örneği olabilir.</span><span class="sxs-lookup"><span data-stu-id="e471b-134">There may be instances where you need more features than built-in attributes provide.</span></span> <span data-ttu-id="e471b-135">Bu kez, türetilen özel doğrulama öznitelikleri oluşturabilirsiniz `ValidationAttribute` veya uygulamak için modelinizin değiştirme `IValidatableObject`.</span><span class="sxs-lookup"><span data-stu-id="e471b-135">For those times, you can create custom validation attributes by deriving from `ValidationAttribute` or changing your model to implement `IValidatableObject`.</span></span>

## <a name="notes-on-the-use-of-the-required-attribute"></a><span data-ttu-id="e471b-136">Gerekli öznitelik kullanımı ile ilgili notlar</span><span class="sxs-lookup"><span data-stu-id="e471b-136">Notes on the use of the Required attribute</span></span>

<span data-ttu-id="e471b-137">Olamayan [değer türleri](/dotnet/csharp/language-reference/keywords/value-types) (gibi `decimal`, `int`, `float`, ve `DateTime`) kendiliğinden gereklidir ve gerekmeyen `Required` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="e471b-137">Non-nullable [value types](/dotnet/csharp/language-reference/keywords/value-types) (such as `decimal`, `int`, `float`, and `DateTime`) are inherently required and don't need the `Required` attribute.</span></span> <span data-ttu-id="e471b-138">Uygulama yok işaretlenmiş null türleri için sunucu tarafında doğrulama denetler `Required`.</span><span class="sxs-lookup"><span data-stu-id="e471b-138">The app performs no server-side validation checks for non-nullable types that are marked `Required`.</span></span>

<span data-ttu-id="e471b-139">Doğrulama ve doğrulama öznitelikleri ile ilgili değil, MVC model bağlama alamayan bir tür için boşluk veya eksik bir değer içeren bir form alanı gönderme reddeder.</span><span class="sxs-lookup"><span data-stu-id="e471b-139">MVC model binding, which isn't concerned with validation and validation attributes, rejects a form field submission containing a missing value or whitespace for a non-nullable type.</span></span> <span data-ttu-id="e471b-140">Olmadığında bir `BindRequired` özniteliği hedef özelliği, model bağlama null türleri için form alanı olan etmeksizin, eksik verilerin yoksayar gelen form verileri.</span><span class="sxs-lookup"><span data-stu-id="e471b-140">In the absence of a `BindRequired` attribute on the target property, model binding ignores missing data for non-nullable types, where the form field is absent from the incoming form data.</span></span>

<span data-ttu-id="e471b-141">[BindRequired özniteliği](/aspnet/core/api/microsoft.aspnetcore.mvc.modelbinding.bindrequiredattribute) (Ayrıca bkz. [model bağlama davranışı öznitelikleri olan özelleştirme](xref:mvc/models/model-binding#customize-model-binding-behavior-with-attributes)) form verilerini tam olduğundan emin olmak yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="e471b-141">The [BindRequired attribute](/aspnet/core/api/microsoft.aspnetcore.mvc.modelbinding.bindrequiredattribute) (also see [Customize model binding behavior with attributes](xref:mvc/models/model-binding#customize-model-binding-behavior-with-attributes)) is useful to ensure form data is complete.</span></span> <span data-ttu-id="e471b-142">Bir özelliğe uygulandığında, model bağlama sistem bu özellik için bir değer gerektirir.</span><span class="sxs-lookup"><span data-stu-id="e471b-142">When applied to a property, the model binding system requires a value for that property.</span></span> <span data-ttu-id="e471b-143">Bir türe uygulandığında, model bağlama sistem türü özelliklerinin tümü için değerleri gerektirir.</span><span class="sxs-lookup"><span data-stu-id="e471b-143">When applied to a type, the model binding system requires values for all of the properties of that type.</span></span>

<span data-ttu-id="e471b-144">Kullandığınızda, bir [null atanabilir\<T > türü](/dotnet/csharp/programming-guide/nullable-types/) (örneğin, `decimal?` veya `System.Nullable<decimal>`) ve işaretleyin `Required`, özelliği (için standart null olabilir bir tür değilmiş gibi bir sunucu tarafı doğrulama denetimi gerçekleştirilir Örneğin, bir `string`).</span><span class="sxs-lookup"><span data-stu-id="e471b-144">When you use a [Nullable\<T> type](/dotnet/csharp/programming-guide/nullable-types/) (for example, `decimal?` or `System.Nullable<decimal>`) and mark it `Required`, a server-side validation check is performed as if the property were a standard nullable type (for example, a `string`).</span></span>

<span data-ttu-id="e471b-145">İstemci tarafı doğrulama işaretlenen model özelliğine karşılık gelen bir form alanı için bir değer gerektiren `Required` ve işaretli olmayan bir null tür özelliği için `Required`.</span><span class="sxs-lookup"><span data-stu-id="e471b-145">Client-side validation requires a value for a form field that corresponds to a model property that you've marked `Required` and for a non-nullable type property that you haven't marked `Required`.</span></span> <span data-ttu-id="e471b-146">`Required` istemci tarafı doğrulama hata iletisi denetlemek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="e471b-146">`Required` can be used to control the client-side validation error message.</span></span>

## <a name="model-state"></a><span data-ttu-id="e471b-147">Model durumu</span><span class="sxs-lookup"><span data-stu-id="e471b-147">Model State</span></span>

<span data-ttu-id="e471b-148">Model durumu doğrulama hataları gönderilen HTML form değerleri temsil eder.</span><span class="sxs-lookup"><span data-stu-id="e471b-148">Model state represents validation errors in submitted HTML form values.</span></span>

<span data-ttu-id="e471b-149">MVC alanları kadar ulaştığında doğrulama hatası (200 varsayılan olarak) sayısı devam eder.</span><span class="sxs-lookup"><span data-stu-id="e471b-149">MVC will continue validating fields until reaches the maximum number of errors (200 by default).</span></span> <span data-ttu-id="e471b-150">Aşağıdaki kodu ekleyerek bu numarayı yapılandırabilirsiniz `ConfigureServices` yönteminde *haline* dosyası:</span><span class="sxs-lookup"><span data-stu-id="e471b-150">You can configure this number by inserting the following code into the `ConfigureServices` method in the *Startup.cs* file:</span></span>

[!code-csharp[](validation/sample/Startup.cs?range=27)]

## <a name="handling-model-state-errors"></a><span data-ttu-id="e471b-151">İşleme Model durumu hataları</span><span class="sxs-lookup"><span data-stu-id="e471b-151">Handling Model State Errors</span></span>

<span data-ttu-id="e471b-152">Model doğrulama çağrılan her denetleyici eylemi önce gerçekleşir ve incelemek için eylem yönteminin sorumluluğu olan `ModelState.IsValid` ve uygun şekilde tepki.</span><span class="sxs-lookup"><span data-stu-id="e471b-152">Model validation occurs prior to each controller action being invoked, and it's the action method's responsibility to inspect `ModelState.IsValid` and react appropriately.</span></span> <span data-ttu-id="e471b-153">Çoğu durumda uygun tepki ideal neden model doğrulama başarısızlık nedenini ayrıntılı bir hata yanıtı getirmektir.</span><span class="sxs-lookup"><span data-stu-id="e471b-153">In many cases, the appropriate reaction is to return an error response, ideally detailing the reason why model validation failed.</span></span>

<span data-ttu-id="e471b-154">Bazı uygulamalar, model doğrulama hataları, durum filtre böyle bir ilke uygulamak için uygun bir yerdir olabilir ilgilenmek için standart bir kuralı izlemek seçeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="e471b-154">Some apps will choose to follow a standard convention for dealing with model validation errors, in which case a filter may be an appropriate place to implement such a policy.</span></span> <span data-ttu-id="e471b-155">Geçerli ve geçersiz model durumlarıyla eylemlerinizi nasıl davranacağını test etmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="e471b-155">You should test how your actions behave with valid and invalid model states.</span></span>

## <a name="manual-validation"></a><span data-ttu-id="e471b-156">El ile doğrulama</span><span class="sxs-lookup"><span data-stu-id="e471b-156">Manual validation</span></span>

<span data-ttu-id="e471b-157">Model bağlama ve doğrulama tamamlandıktan sonra bazı bölümleri yineleyin isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e471b-157">After model binding and validation are complete, you may want to repeat parts of it.</span></span> <span data-ttu-id="e471b-158">Örneğin, bir kullanıcı metin tamsayı bekleniyor bir alana girmiş veya bir modelin özelliği için bir değer işlem gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="e471b-158">For example, a user may have entered text in a field expecting an integer, or you may need to compute a value for a model's property.</span></span>

<span data-ttu-id="e471b-159">Doğrulama el ile çalıştırmanız gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="e471b-159">You may need to run validation manually.</span></span> <span data-ttu-id="e471b-160">Bunu yapmak için arama `TryValidateModel` aşağıda gösterildiği gibi yöntemi:</span><span class="sxs-lookup"><span data-stu-id="e471b-160">To do so, call the `TryValidateModel` method, as shown here:</span></span>

[!code-csharp[](validation/sample/MoviesController.cs?range=52)]

## <a name="custom-validation"></a><span data-ttu-id="e471b-161">Özel doğrulama</span><span class="sxs-lookup"><span data-stu-id="e471b-161">Custom validation</span></span>

<span data-ttu-id="e471b-162">Doğrulama özniteliklerinin çoğu doğrulama ihtiyaçları için çalışır.</span><span class="sxs-lookup"><span data-stu-id="e471b-162">Validation attributes work for most validation needs.</span></span> <span data-ttu-id="e471b-163">Ancak, bazı doğrulama kuralları, işletmenizle özgüdür.</span><span class="sxs-lookup"><span data-stu-id="e471b-163">However, some validation rules are specific to your business.</span></span> <span data-ttu-id="e471b-164">Kurallarınızı, gerekli bir alan sağlama veya değer aralığı için uyumlu olduğunu gibi ortak veri doğrulama teknikleri olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="e471b-164">Your rules might not be common data validation techniques such as ensuring a field is required or that it conforms to a range of values.</span></span> <span data-ttu-id="e471b-165">Bu senaryolarda, özel doğrulama öznitelikleri harika bir çözümdür.</span><span class="sxs-lookup"><span data-stu-id="e471b-165">For these scenarios, custom validation attributes are a great solution.</span></span> <span data-ttu-id="e471b-166">MVC'de kendi özel doğrulama öznitelikleri oluşturmak kolaydır.</span><span class="sxs-lookup"><span data-stu-id="e471b-166">Creating your own custom validation attributes in MVC is easy.</span></span> <span data-ttu-id="e471b-167">Yalnızca devralınan `ValidationAttribute`ve geçersiz kılma `IsValid` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="e471b-167">Just inherit from the `ValidationAttribute`, and override the `IsValid` method.</span></span> <span data-ttu-id="e471b-168">`IsValid` Yöntemi iki parametre kabul eden ilk adlı bir nesnedir *değeri* ve ikincisi ise bir `ValidationContext` adlı nesne *validationContext*.</span><span class="sxs-lookup"><span data-stu-id="e471b-168">The `IsValid` method accepts two parameters, the first is an object named *value* and the second is a `ValidationContext` object named *validationContext*.</span></span> <span data-ttu-id="e471b-169">*Değer* özel Doğrulayıcı doğrulama alanından gerçek değeri gösterir.</span><span class="sxs-lookup"><span data-stu-id="e471b-169">*Value* refers to the actual value from the field that your custom validator is validating.</span></span>

<span data-ttu-id="e471b-170">Kullanıcılar bir tarzını ayarlamaz, aşağıdaki örnekte, bir iş kuralı durumları *Klasik* 1960 sonra yayımlanan film için.</span><span class="sxs-lookup"><span data-stu-id="e471b-170">In the following sample, a business rule states that users may not set the genre to *Classic* for a movie released after 1960.</span></span> <span data-ttu-id="e471b-171">`[ClassicMovie]` Özniteliği Tarz ilk denetler ve klasik ise, yayın tarihi 1960 sonraki olup olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="e471b-171">The `[ClassicMovie]` attribute checks the genre first, and if it's a classic, then it checks the release date to see that it's later than 1960.</span></span> <span data-ttu-id="e471b-172">1960 sonra yayımlanan doğrulama başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="e471b-172">If it's released after 1960, validation fails.</span></span> <span data-ttu-id="e471b-173">Öznitelik verileri doğrulamak için kullanabileceğiniz yılı temsil eden bir tamsayı parametresini kabul eder.</span><span class="sxs-lookup"><span data-stu-id="e471b-173">The attribute accepts an integer parameter representing the year that you can use to validate data.</span></span> <span data-ttu-id="e471b-174">Aşağıda gösterildiği gibi özniteliğin oluşturucuda parametresinin değeri yakalamak için:</span><span class="sxs-lookup"><span data-stu-id="e471b-174">You can capture the value of the parameter in the attribute's constructor, as shown here:</span></span>

[!code-csharp[](validation/sample/ClassicMovieAttribute.cs?range=9-29)]

<span data-ttu-id="e471b-175">`movie` Temsil yukarıda değişken bir `Movie` doğrulamak için form gönderme verilerini içeren nesne.</span><span class="sxs-lookup"><span data-stu-id="e471b-175">The `movie` variable above represents a `Movie` object that contains the data from the form submission to validate.</span></span> <span data-ttu-id="e471b-176">İçinde bir tarzını ve tarihi bu durumda, doğrulama kodu denetler `IsValid` yöntemi `ClassicMovieAttribute` sınıfı kuralları göredir.</span><span class="sxs-lookup"><span data-stu-id="e471b-176">In this case, the validation code checks the date and genre in the `IsValid` method of the `ClassicMovieAttribute` class as per the rules.</span></span> <span data-ttu-id="e471b-177">Doğrulama başarılı bağlı `IsValid` döndürür bir `ValidationResult.Success` kodunu ve doğrulama başarısız olduğunda bir `ValidationResult` hata iletisiyle.</span><span class="sxs-lookup"><span data-stu-id="e471b-177">Upon successful validation `IsValid` returns a `ValidationResult.Success` code, and when validation fails, a `ValidationResult` with an error message.</span></span> <span data-ttu-id="e471b-178">Ne zaman bir kullanıcıyı değiştirir `Genre` alan ve formu gönderdikten `IsValid` yöntemi `ClassicMovieAttribute` film Klasik olup olmadığını doğrular.</span><span class="sxs-lookup"><span data-stu-id="e471b-178">When a user modifies the `Genre` field and submits the form, the `IsValid` method of the `ClassicMovieAttribute` will verify whether the movie is a classic.</span></span> <span data-ttu-id="e471b-179">Yerleşik herhangi bir öznitelik gibi uygulama `ClassicMovieAttribute` gibi bir özelliğe `ReleaseDate` doğrulama olur, önceki kod örneğinde gösterildiği gibi sağlamak için.</span><span class="sxs-lookup"><span data-stu-id="e471b-179">Like any built-in attribute, apply the `ClassicMovieAttribute` to a property such as `ReleaseDate` to ensure validation happens, as shown in the previous code sample.</span></span> <span data-ttu-id="e471b-180">Bu örnek yalnızca birlikte çalışır. bu yana `Movie` türleri, daha iyi bir seçenektir kullanmak için `IValidatableObject` aşağıdaki paragrafta gösterildiği gibi.</span><span class="sxs-lookup"><span data-stu-id="e471b-180">Since the example works only with `Movie` types, a better option is to use `IValidatableObject` as shown in the following paragraph.</span></span>

<span data-ttu-id="e471b-181">Alternatif olarak, bu aynı kodu modelde uygulayarak yerleştirilemedi `Validate` yöntemi `IValidatableObject` arabirimi.</span><span class="sxs-lookup"><span data-stu-id="e471b-181">Alternatively, this same code could be placed in the model by implementing the `Validate` method on the `IValidatableObject` interface.</span></span> <span data-ttu-id="e471b-182">Özel doğrulama öznitelikleri de ayrı ayrı özellikler doğrulamak için çalışırken, uygulama `IValidatableObject` sınıf düzeyi doğrulama burada görüldüğü gibi uygulamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="e471b-182">While custom validation attributes work well for validating individual properties, implementing `IValidatableObject` can be used to implement class-level validation as seen here.</span></span>

[!code-csharp[](validation/sample/MovieIValidatable.cs?range=32-40)]

## <a name="client-side-validation"></a><span data-ttu-id="e471b-183">İstemci tarafı doğrulama</span><span class="sxs-lookup"><span data-stu-id="e471b-183">Client side validation</span></span>

<span data-ttu-id="e471b-184">İstemci tarafı doğrulama kullanıcıların harika bir kolaylık sağlamaya yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="e471b-184">Client side validation is a great convenience for users.</span></span> <span data-ttu-id="e471b-185">Gidiş dönüş bekleniyor aksi harcadığınız zamanı sunucuya kaydeder.</span><span class="sxs-lookup"><span data-stu-id="e471b-185">It saves time they would otherwise spend waiting for a round trip to the server.</span></span> <span data-ttu-id="e471b-186">İş bağlamında, saniyede yüzlerce kez her gün çarpılan bile birkaç kesirlerini ekler kadar çok zaman, gider ve aksiliklerin olması.</span><span class="sxs-lookup"><span data-stu-id="e471b-186">In business terms, even a few fractions of seconds multiplied hundreds of times each day adds up to be a lot of time, expense, and frustration.</span></span> <span data-ttu-id="e471b-187">Basit ve hemen doğrulama daha verimli olarak çalışabilir ve giriş ve çıkış daha iyi kalite üretmek kullanıcıların sağlar.</span><span class="sxs-lookup"><span data-stu-id="e471b-187">Straightforward and immediate validation enables users to work more efficiently and produce better quality input and output.</span></span>

<span data-ttu-id="e471b-188">Burada gördüğünüz şekilde çalışması istemci tarafı doğrulama yerinde uygun JavaScript komut dosyası başvuruları görünümüyle olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="e471b-188">You must have a view with the proper JavaScript script references in place for client side validation to work as you see here.</span></span>

[!code-cshtml[](validation/sample/Views/Shared/_Layout.cshtml?range=37)]

[!code-cshtml[](validation/sample/Views/Shared/_ValidationScriptsPartial.cshtml)]

<span data-ttu-id="e471b-189">[JQuery örtük doğrulama](https://github.com/aspnet/jquery-validation-unobtrusive) betiğidir popüler üzerinde oluşturan özel bir ön uç Microsoft Kitaplığı [jQuery doğrulama](https://jqueryvalidation.org/) eklentisi.</span><span class="sxs-lookup"><span data-stu-id="e471b-189">The [jQuery Unobtrusive Validation](https://github.com/aspnet/jquery-validation-unobtrusive) script is a custom Microsoft front-end library that builds on the popular [jQuery Validate](https://jqueryvalidation.org/) plugin.</span></span> <span data-ttu-id="e471b-190">JQuery örtük doğrulama iki yerde de aynı doğrulama mantığını kod gerekir: model özellikleri, sunucu tarafı doğrulama özniteliklerinde kez ve ardından yeniden istemci tarafı komut dosyalarını (jQuery doğrulama ait örnekler [ `validate()` ](https://jqueryvalidation.org/validate/) yöntemi gösterilir nasıl karmaşık bu hale gelebilir).</span><span class="sxs-lookup"><span data-stu-id="e471b-190">Without jQuery Unobtrusive Validation, you would have to code the same validation logic in two places: once in the server side validation attributes on model properties, and then again in client side scripts (the examples for jQuery Validate's [`validate()`](https://jqueryvalidation.org/validate/) method shows how complex this could become).</span></span> <span data-ttu-id="e471b-191">Bunun yerine, MVC'ın [etiket Yardımcıları](xref:mvc/views/tag-helpers/intro) ve [HTML Yardımcıları](xref:mvc/views/overview) doğrulama öznitelikleri kullanın ve tür meta verileri HTML 5 işlemek için model özelliklerinden [veri öznitelikleri](http://w3c.github.io/html/dom.html#embedding-custom-non-visible-data-with-the-data-attributes) içinde doğrulama gerekli form öğeleri.</span><span class="sxs-lookup"><span data-stu-id="e471b-191">Instead, MVC's [Tag Helpers](xref:mvc/views/tag-helpers/intro) and [HTML helpers](xref:mvc/views/overview) are able to use the validation attributes and type metadata from model properties to render HTML 5 [data- attributes](http://w3c.github.io/html/dom.html#embedding-custom-non-visible-data-with-the-data-attributes) in the form elements that need validation.</span></span> <span data-ttu-id="e471b-192">MVC oluşturur `data-` yerleşik ve özel öznitelikleri için öznitelikler.</span><span class="sxs-lookup"><span data-stu-id="e471b-192">MVC generates the `data-` attributes for both built-in and custom attributes.</span></span> <span data-ttu-id="e471b-193">jQuery örtük doğrulama sonra bu ayrıştırır `data-` öznitelikleri ve jQuery etkili bir şekilde "sunucu tarafı doğrulama mantığını istemciye kopyalama" Doğrulama mantığı geçirir.</span><span class="sxs-lookup"><span data-stu-id="e471b-193">jQuery Unobtrusive Validation then parses thes `data-` attributes and passes the logic to jQuery Validate, effectively "copying" the server side validation logic to the client.</span></span> <span data-ttu-id="e471b-194">Aşağıda gösterildiği gibi ilgili etiket Yardımcıları kullanılarak istemcide doğrulama hataları görüntüleyebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="e471b-194">You can display validation errors on the client using the relevant tag helpers as shown here:</span></span>

[!code-cshtml[](validation/sample/Views/Movies/Create.cshtml?highlight=4,5&range=19-25)]

<span data-ttu-id="e471b-195">Yukarıdaki etiket Yardımcıları HTML işleme.</span><span class="sxs-lookup"><span data-stu-id="e471b-195">The tag helpers above render the HTML below.</span></span> <span data-ttu-id="e471b-196">Dikkat `data-` HTML öznitelikleri çıktı için doğrulama öznitelikleri karşılık `ReleaseDate` özelliği.</span><span class="sxs-lookup"><span data-stu-id="e471b-196">Notice that the `data-` attributes in the HTML output correspond to the validation attributes for the `ReleaseDate` property.</span></span> <span data-ttu-id="e471b-197">`data-val-required` Özniteliği aşağıdaki kullanıcı yayın tarihi alanına doldurmazsa görüntülenecek hata iletisi içeriyor.</span><span class="sxs-lookup"><span data-stu-id="e471b-197">The `data-val-required` attribute below contains an error message to display if the user doesn't fill in the release date field.</span></span> <span data-ttu-id="e471b-198">jQuery örtük doğrulama jQuery doğrulama için bu değeri geçirir [ `required()` ](https://jqueryvalidation.org/required-method/) daha sonra bu iletiyi eşlik görüntüler yöntemi  **\<span >** öğesi.</span><span class="sxs-lookup"><span data-stu-id="e471b-198">jQuery Unobtrusive Validation passes this value to the jQuery Validate [`required()`](https://jqueryvalidation.org/required-method/) method, which then displays that message in the accompanying **\<span>** element.</span></span>

```html
<form action="/Movies/Create" method="post">
    <div class="form-horizontal">
        <h4>Movie</h4>
        <div class="text-danger"></div>
        <div class="form-group">
            <label class="col-md-2 control-label" for="ReleaseDate">ReleaseDate</label>
            <div class="col-md-10">
                <input class="form-control" type="datetime"
                data-val="true" data-val-required="The ReleaseDate field is required."
                id="ReleaseDate" name="ReleaseDate" value="" />
                <span class="text-danger field-validation-valid"
                data-valmsg-for="ReleaseDate" data-valmsg-replace="true"></span>
            </div>
        </div>
    </div>
</form>
```

<span data-ttu-id="e471b-199">Formu geçerli olana kadar istemci tarafı doğrulama gönderimi engeller.</span><span class="sxs-lookup"><span data-stu-id="e471b-199">Client-side validation prevents submission until the form is valid.</span></span> <span data-ttu-id="e471b-200">Gönder düğmesine formu gönderdikten veya hata iletileri görüntüler JavaScript çalışır.</span><span class="sxs-lookup"><span data-stu-id="e471b-200">The Submit button runs JavaScript that either submits the form or displays error messages.</span></span>

<span data-ttu-id="e471b-201">MVC belirler türü öznitelik değerleri büyük olasılıkla kullanarak geçersiz kılınan bir özellik .NET veri türüne göre `[DataType]` öznitelikleri.</span><span class="sxs-lookup"><span data-stu-id="e471b-201">MVC determines type attribute values based on the .NET data type of a property, possibly overridden using `[DataType]` attributes.</span></span> <span data-ttu-id="e471b-202">Temel `[DataType]` öznitelik hiçbir gerçek sunucu tarafında doğrulama yapar.</span><span class="sxs-lookup"><span data-stu-id="e471b-202">The base `[DataType]` attribute does no real server-side validation.</span></span> <span data-ttu-id="e471b-203">Tarayıcılar kendi hata iletileri seçin ve bu hataların gibi istedikleri, ancak jQuery doğrulama örtük paket iletileri geçersiz kılar ve bunları tutarlı bir şekilde başkalarıyla görüntülemek görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="e471b-203">Browsers choose their own error messages and display those errors as they wish, however the jQuery Validation Unobtrusive package can override the messages and display them consistently with others.</span></span> <span data-ttu-id="e471b-204">Bu en açıkça kullanıcılar uygulandığında gerçekleşir `[DataType]` gibi alt sınıfların `[EmailAddress]`.</span><span class="sxs-lookup"><span data-stu-id="e471b-204">This happens most obviously when users apply `[DataType]` subclasses such as `[EmailAddress]`.</span></span>

### <a name="add-validation-to-dynamic-forms"></a><span data-ttu-id="e471b-205">Dinamik formlarına doğrulama ekleme</span><span class="sxs-lookup"><span data-stu-id="e471b-205">Add Validation to Dynamic Forms</span></span>

<span data-ttu-id="e471b-206">Sayfa ilk kez yüklediğinde jQuery örtük doğrulama doğrulama mantığını ve parametreleri jQuery doğrulama atladığı için dinamik olarak üretilen forms otomatik olarak doğrulama sergilemesine olmaz.</span><span class="sxs-lookup"><span data-stu-id="e471b-206">Because jQuery Unobtrusive Validation passes validation logic and parameters to jQuery Validate when the page first loads, dynamically generated forms won't automatically exhibit validation.</span></span> <span data-ttu-id="e471b-207">Bunun yerine, jQuery hemen oluşturduktan sonra dinamik formun ayrıştırmak için örtük doğrulama bildirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="e471b-207">Instead, you must tell jQuery Unobtrusive Validation to parse the dynamic form immediately after creating it.</span></span> <span data-ttu-id="e471b-208">Örneğin, aşağıdaki kodu, AJAX eklenen bir form üzerinde istemci tarafı doğrulamasını nasıl ayarlayabilir gösterir.</span><span class="sxs-lookup"><span data-stu-id="e471b-208">For example, the code below shows how you might set up client side validation on a form added via AJAX.</span></span>

```js
$.get({
    url: "https://url/that/returns/a/form",
    dataType: "html",
    error: function(jqXHR, textStatus, errorThrown) {
        alert(textStatus + ": Couldn't add form. " + errorThrown);
    },
    success: function(newFormHTML) {
        var container = document.getElementById("form-container");
        container.insertAdjacentHTML("beforeend", newFormHTML);
        var forms = container.getElementsByTagName("form");
        var newForm = forms[forms.length - 1];
        $.validator.unobtrusive.parse(newForm);
    }
})
```

<span data-ttu-id="e471b-209">`$.validator.unobtrusive.parse()` Yöntemi için bağımsız değişken jQuery Seçici kabul eder.</span><span class="sxs-lookup"><span data-stu-id="e471b-209">The `$.validator.unobtrusive.parse()` method accepts a jQuery selector for its one argument.</span></span> <span data-ttu-id="e471b-210">Bu yöntem jQuery ayrıştırmak için örtük doğrulama söyler `data-` forms seçicinin içinde öznitelikleri.</span><span class="sxs-lookup"><span data-stu-id="e471b-210">This method tells jQuery Unobtrusive Validation to parse the `data-` attributes of forms within that selector.</span></span> <span data-ttu-id="e471b-211">Böylece form istenen istemci tarafı doğrulama kurallarını sergiler özniteliklerle değerlerini sonra jQuery doğrulama eklentisi için geçirilir.</span><span class="sxs-lookup"><span data-stu-id="e471b-211">The values of those attributes are then passed to the jQuery Validate plugin so that the form exhibits the desired client side validation rules.</span></span>

### <a name="add-validation-to-dynamic-controls"></a><span data-ttu-id="e471b-212">Doğrulama için dinamik denetimleri ekleme</span><span class="sxs-lookup"><span data-stu-id="e471b-212">Add Validation to Dynamic Controls</span></span>

<span data-ttu-id="e471b-213">Tek denetimleri gibi bir form üzerinde doğrulama kuralları da güncelleştirebilirsiniz `<input/>`s ve `<select/>`s, dinamik olarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="e471b-213">You can also update the validation rules on a form when individual controls, such as `<input/>`s and `<select/>`s, are dynamically generated.</span></span> <span data-ttu-id="e471b-214">Bu öğeler için seçiciler geçiremezsiniz `parse()` doğrudan yöntemi çünkü çevresindeki formu zaten ayrıştırılır ve güncelleştirme olmaz.</span><span class="sxs-lookup"><span data-stu-id="e471b-214">You cannot pass selectors for these elements to the `parse()` method directly because the surrounding form has already been parsed and won't update.</span></span> <span data-ttu-id="e471b-215">Bunun yerine, önce varolan doğrulama verileri kaldırın, ardından aşağıda gösterildiği gibi tüm formu yeniden ayrıştırma:</span><span class="sxs-lookup"><span data-stu-id="e471b-215">Instead, you first remove the existing validation data, then reparse the entire form, as shown below:</span></span>

```js
$.get({
    url: "https://url/that/returns/a/control",
    dataType: "html",
    error: function(jqXHR, textStatus, errorThrown) {
        alert(textStatus + ": Couldn't add control. " + errorThrown);
    },
    success: function(newInputHTML) {
        var form = document.getElementById("my-form");
        form.insertAdjacentHTML("beforeend", newInputHTML);
        $(form).removeData("validator")    // Added by jQuery Validate
               .removeData("unobtrusiveValidation");   // Added by jQuery Unobtrusive Validation
        $.validator.unobtrusive.parse(form);
    }
})
```

## <a name="iclientmodelvalidator"></a><span data-ttu-id="e471b-216">IClientModelValidator</span><span class="sxs-lookup"><span data-stu-id="e471b-216">IClientModelValidator</span></span>

<span data-ttu-id="e471b-217">İstemci tarafı mantığı, özel öznitelik için oluşturabilir ve [örtük doğrulama](http://jqueryvalidation.org/documentation/) , doğrulama bir parçası olarak otomatik olarak istemcide çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="e471b-217">You may create client side logic for your custom attribute, and [unobtrusive validation](http://jqueryvalidation.org/documentation/) will execute it on the client for you automatically as part of validation.</span></span> <span data-ttu-id="e471b-218">Hangi veri öznitelikleri uygulayarak eklenen denetlemek için ilk adımdır `IClientModelValidator` arabirim aşağıda gösterildiği gibi:</span><span class="sxs-lookup"><span data-stu-id="e471b-218">The first step is to control what data- attributes are added by implementing the `IClientModelValidator` interface as shown here:</span></span>

[!code-csharp[](validation/sample/ClassicMovieAttribute.cs?range=30-42)]

<span data-ttu-id="e471b-219">Bu arabirimi uygulayan öznitelikleri HTML öznitelikleri için oluşturulan alanlar ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e471b-219">Attributes that implement this interface can add HTML attributes to generated fields.</span></span> <span data-ttu-id="e471b-220">Çıkış için inceleniyor `ReleaseDate` öğesi artık dışında önceki örneğe benzer HTML ortaya çıkarır bir `data-val-classicmovie` tanımlanan öznitelik `AddValidation` yöntemi `IClientModelValidator`.</span><span class="sxs-lookup"><span data-stu-id="e471b-220">Examining the output for the `ReleaseDate` element reveals HTML that's similar to the previous example, except now there's a `data-val-classicmovie` attribute that was defined in the `AddValidation` method of `IClientModelValidator`.</span></span>

```html
<input class="form-control" type="datetime"
    data-val="true"
    data-val-classicmovie="Classic movies must have a release year earlier than 1960."
    data-val-classicmovie-year="1960"
    data-val-required="The ReleaseDate field is required."
    id="ReleaseDate" name="ReleaseDate" value="" />
```

<span data-ttu-id="e471b-221">Örtük doğrulama kullanır verilerde `data-` hata iletilerini görüntülemek için öznitelikler.</span><span class="sxs-lookup"><span data-stu-id="e471b-221">Unobtrusive validation uses the data in the `data-` attributes to display error messages.</span></span> <span data-ttu-id="e471b-222">Ancak, jQuery kuralları hakkında bilmiyor veya jQuery için 's ekleyene kadar iletileri `validator` nesnesi.</span><span class="sxs-lookup"><span data-stu-id="e471b-222">However, jQuery doesn't know about rules or messages until you add them to jQuery's `validator` object.</span></span> <span data-ttu-id="e471b-223">Bu adlı bir yöntem ekleyen aşağıdaki örnekte gösterilen `classicmovie` jQuery için özel istemci doğrulama kodunu içeren `validator` nesnesi.</span><span class="sxs-lookup"><span data-stu-id="e471b-223">This is shown in the example below that adds a method named `classicmovie` containing custom client validation code to the jQuery `validator` object.</span></span>

[!code-javascript[](validation/sample/Views/Movies/Create.cshtml?range=71-93)]

<span data-ttu-id="e471b-224">Artık jQuery özel JavaScript doğrulama ve bunun yanı sıra bu doğrulama kodu false değeri döndürülürse görüntülenecek hata iletisi yürütme bilgilere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="e471b-224">Now jQuery has the information to execute the custom JavaScript validation as well as the error message to display if that validation code returns false.</span></span>

## <a name="remote-validation"></a><span data-ttu-id="e471b-225">Uzak doğrulama</span><span class="sxs-lookup"><span data-stu-id="e471b-225">Remote validation</span></span>

<span data-ttu-id="e471b-226">Uzak doğrulama, sunucu üzerindeki veriler karşı istemcide verilerin doğrulamak gerektiğinde kullanmak için harika bir özelliktir.</span><span class="sxs-lookup"><span data-stu-id="e471b-226">Remote validation is a great feature to use when you need to validate data on the client against data on the server.</span></span> <span data-ttu-id="e471b-227">Örneğin, bir e-posta veya kullanıcı adı zaten kullanımda ve büyük miktarda veri Bunu yapmak için sorgu gerekir olup olmadığını doğrulamak, uygulamanız gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="e471b-227">For example, your app may need to verify whether an email or user name is already in use, and it must query a large amount of data to do so.</span></span> <span data-ttu-id="e471b-228">Bir doğrulama veri kümelerini büyük indirme veya birkaç alan çok fazla kaynak tüketen.</span><span class="sxs-lookup"><span data-stu-id="e471b-228">Downloading large sets of data for validating one or a few fields consumes too many resources.</span></span> <span data-ttu-id="e471b-229">Ayrıca hassas bilgileri açığa.</span><span class="sxs-lookup"><span data-stu-id="e471b-229">It may also expose sensitive information.</span></span> <span data-ttu-id="e471b-230">Bir alan doğrulamak üzere gidiş dönüş isteğinde bir alternatiftir.</span><span class="sxs-lookup"><span data-stu-id="e471b-230">An alternative is to make a round-trip request to validate a field.</span></span>

<span data-ttu-id="e471b-231">Uzak doğrulama iki adımda uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e471b-231">You can implement remote validation in a two step process.</span></span> <span data-ttu-id="e471b-232">İlk olarak, modelinizi açıklama `[Remote]` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="e471b-232">First, you must annotate your model with the `[Remote]` attribute.</span></span> <span data-ttu-id="e471b-233">`[Remote]` Özniteliği doğrudan çağırmak için uygun kodu için istemci tarafı JavaScript için kullanabileceğiniz birden çok aşırı kabul eder.</span><span class="sxs-lookup"><span data-stu-id="e471b-233">The `[Remote]` attribute accepts multiple overloads you can use to direct client side JavaScript to the appropriate code to call.</span></span> <span data-ttu-id="e471b-234">Aşağıdaki örnek işaret `VerifyEmail` eylem yöntemi `Users` denetleyicisi.</span><span class="sxs-lookup"><span data-stu-id="e471b-234">The example below points to the `VerifyEmail` action method of the `Users` controller.</span></span>

[!code-csharp[](validation/sample/User.cs?range=7-8)]

<span data-ttu-id="e471b-235">İkinci adım doğrulama kodu karşılık gelen eylem yönteminde tanımlandığı şekilde koyuyor `[Remote]` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="e471b-235">The second step is putting the validation code in the corresponding action method as defined in the `[Remote]` attribute.</span></span> <span data-ttu-id="e471b-236">JQuery doğrulama göre [ `remote()` ](https://jqueryvalidation.org/remote-method/) yöntemi belgelerine:</span><span class="sxs-lookup"><span data-stu-id="e471b-236">According to the jQuery Validate [`remote()`](https://jqueryvalidation.org/remote-method/) method documentation:</span></span>

> <span data-ttu-id="e471b-237">Gelince yanıt olmalıdır bir JSON dizesinde olmalıdır `"true"` geçerli öğeler için ve `"false"`, `undefined`, veya `null` geçersiz öğeleri için varsayılan hata iletisini kullanarak.</span><span class="sxs-lookup"><span data-stu-id="e471b-237">The serverside response must be a JSON string that must be `"true"` for valid elements, and can be `"false"`, `undefined`, or `null` for invalid elements, using the default error message.</span></span> <span data-ttu-id="e471b-238">Gelince yanıt örneğin bir dize ise.</span><span class="sxs-lookup"><span data-stu-id="e471b-238">If the serverside response is a string, eg.</span></span> <span data-ttu-id="e471b-239">`"That name is already taken, try peter123 instead"`, bu dize olarak varsayılan yerine bir özel hata iletisi görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="e471b-239">`"That name is already taken, try peter123 instead"`, this string will be displayed as a custom error message in place of the default.</span></span>

<span data-ttu-id="e471b-240">Tanımını `VerifyEmail()` yöntemi aşağıda gösterildiği gibi bu kurallar izler.</span><span class="sxs-lookup"><span data-stu-id="e471b-240">The definition of the `VerifyEmail()` method follows these rules, as shown below.</span></span> <span data-ttu-id="e471b-241">Doğrulama hatasını döndürür e-posta alınmışsa, ileti veya `true` e-posta ücretsizdir ve sonuçta sarmalar bir `JsonResult` nesnesi.</span><span class="sxs-lookup"><span data-stu-id="e471b-241">It returns a validation error message if the email is taken, or `true` if the email is free, and wraps the result in a `JsonResult` object.</span></span> <span data-ttu-id="e471b-242">İstemci tarafı sonra devam etmek gerekirse hata görüntülemek için döndürülen değer'nı kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e471b-242">The client side can then use the returned value to proceed or display the error if needed.</span></span>

[!code-csharp[](validation/sample/UsersController.cs?range=19-28)]

<span data-ttu-id="e471b-243">Artık kullanıcıların bir e-posta girdiğinizde, JavaScript görünümünde e-posta alındıktan ve bu durumda, hata iletisi görüntüler varsa, görmek için Uzak çağrıda bulunur.</span><span class="sxs-lookup"><span data-stu-id="e471b-243">Now when users enter an email, JavaScript in the view makes a remote call to see if that email has been taken and, if so, displays the error message.</span></span> <span data-ttu-id="e471b-244">Aksi takdirde kullanıcı formu her zamanki gibi gönderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e471b-244">Otherwise, the user can submit the form as usual.</span></span>

<span data-ttu-id="e471b-245">`AdditionalFields` Özelliği `[Remote]` öznitelik alanları sunucuda veri karşı birleşimlerini doğrulamak için yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="e471b-245">The `AdditionalFields` property of the `[Remote]` attribute is useful for validating combinations of fields against data on the server.</span></span> <span data-ttu-id="e471b-246">Örneğin, varsa `User` modeli üstten vardı adlı iki ek özellikler `FirstName` ve `LastName`, varolan kullanıcı adları bu çifti zaten yüklü olduğunu doğrulamak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e471b-246">For example, if the `User` model from above had two additional properties called `FirstName` and `LastName`, you might want to verify that no existing users already have that pair of names.</span></span> <span data-ttu-id="e471b-247">Aşağıdaki kodda gösterildiği gibi yeni özellikler tanımlayın:</span><span class="sxs-lookup"><span data-stu-id="e471b-247">You define the new properties as shown in the following code:</span></span>

[!code-csharp[](validation/sample/User.cs?range=10-13)]

<span data-ttu-id="e471b-248">`AdditionalFields` açıkça dizelere ayarlanmış `"FirstName"` ve `"LastName"`, ancak kullanarak [ `nameof` ](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/nameof) bu like işleci basitleştirir daha sonra yeniden düzenleme.</span><span class="sxs-lookup"><span data-stu-id="e471b-248">`AdditionalFields` could've been set explicitly to the strings `"FirstName"` and `"LastName"`, but using the [`nameof`](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/nameof) operator like this simplifies later refactoring.</span></span> <span data-ttu-id="e471b-249">Doğrulamayı gerçekleştirmek için eylem yönteminin ardından değeri için iki bağımsız kabul etmeniz gerekir `FirstName` değeri için bir tane `LastName`.</span><span class="sxs-lookup"><span data-stu-id="e471b-249">The action method to perform the validation must then accept two arguments, one for the value of `FirstName` and one for the value of `LastName`.</span></span>

[!code-csharp[](validation/sample/UsersController.cs?range=30-39)]

<span data-ttu-id="e471b-250">Bir ad ve Soyadı, JavaScript artık kullanıcıların girdiğinizde:</span><span class="sxs-lookup"><span data-stu-id="e471b-250">Now when users enter a first and last name, JavaScript:</span></span>

* <span data-ttu-id="e471b-251">Bu adları çiftinin gerçekleştirilecek görmek için Uzak çağrıda bulunur.</span><span class="sxs-lookup"><span data-stu-id="e471b-251">Makes a remote call to see if that pair of names has been taken.</span></span>
* <span data-ttu-id="e471b-252">Çift gerçekleştirilecek, bir hata iletisi görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="e471b-252">If the pair has been taken, an error message is displayed.</span></span> 
* <span data-ttu-id="e471b-253">Gerçekleştirilecek değil, kullanıcı formu gönderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e471b-253">If not taken, the user can submit the form.</span></span>

<span data-ttu-id="e471b-254">İki veya daha fazla ek alanlar doğrulamak gereken `[Remote]` özniteliği, sağladığınız bunları bir virgülle ayrılmış liste olarak.</span><span class="sxs-lookup"><span data-stu-id="e471b-254">If you need to validate two or more additional fields with the `[Remote]` attribute, you provide them as a comma-delimited list.</span></span> <span data-ttu-id="e471b-255">Örneğin, eklemek için bir `MiddleName` model özelliğine ayarlayın `[Remote]` özniteliği aşağıdaki kodda gösterildiği gibi:</span><span class="sxs-lookup"><span data-stu-id="e471b-255">For example, to add a `MiddleName` property to the model, set the `[Remote]` attribute as shown in the following code:</span></span>

```cs
[Remote(action: "VerifyName", controller: "Users", AdditionalFields = nameof(FirstName) + "," + nameof(LastName))]
public string MiddleName { get; set; }
```

<span data-ttu-id="e471b-256">`AdditionalFields`, tüm öznitelik bağımsız değişkenleri gibi sabit bir ifade olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="e471b-256">`AdditionalFields`, like all attribute arguments, must be a constant expression.</span></span> <span data-ttu-id="e471b-257">Bu nedenle, değil kullanmalısınız bir [Ara değerli dize](https://docs.microsoft.com/dotnet/csharp/language-reference/keywords/interpolated-strings) veya arama [ `string.Join()` ](https://msdn.microsoft.com/library/system.string.join(v=vs.110).aspx) başlatmak için `AdditionalFields`.</span><span class="sxs-lookup"><span data-stu-id="e471b-257">Therefore, you must not use an [interpolated string](https://docs.microsoft.com/dotnet/csharp/language-reference/keywords/interpolated-strings) or call [`string.Join()`](https://msdn.microsoft.com/library/system.string.join(v=vs.110).aspx) to initialize `AdditionalFields`.</span></span> <span data-ttu-id="e471b-258">Eklediğiniz her ek alan için `[Remote]` özniteliği, başka bir bağımsız değişken için karşılık gelen denetleyici eylem yöntemi eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="e471b-258">For every additional field that you add to the `[Remote]` attribute, you must add another argument to the corresponding controller action method.</span></span>

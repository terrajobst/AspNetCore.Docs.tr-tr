---
title: Denetleyici metotları ve görünümleri ASP.NET Core
author: rick-anderson
description: Denetleyici yöntemlerinde, görünümler ve ASP.NET core'da DataAnnotations ile çalışmayı öğrenin.
ms.author: riande
ms.date: 12/13/2018
uid: tutorials/first-mvc-app/controller-methods-views
ms.openlocfilehash: cd1b0f2ccffaa660f137b8d739933e56018f2702
ms.sourcegitcommit: ec71fd5a988f927ae301813aae5ff764feb3bb6a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 01/12/2019
ms.locfileid: "54249418"
---
# <a name="controller-methods-and-views-in-aspnet-core"></a><span data-ttu-id="f8bb2-103">Denetleyici metotları ve görünümleri ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="f8bb2-103">Controller methods and views in ASP.NET Core</span></span>

<span data-ttu-id="f8bb2-104">Tarafından [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="f8bb2-104">By [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="f8bb2-105">Film uygulaması için iyi bir başlangıç sahibiz ancak sunu Örneğin, ideal olarak, değildir **ReleaseDate** iki kelimeye olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-105">We have a good start to the movie app, but the presentation isn't ideal, for example, **ReleaseDate** should be two words.</span></span>

![Dizini görüntüle: Yayın tarihi bir sözcük (boşluk) ve her film yayın tarihi 12: 00 süresini gösterir.](working-with-sql/_static/m55.png)

<span data-ttu-id="f8bb2-107">Açık *Models/Movie.cs* dosya ve aşağıda vurgulanan satırları ekleyin:</span><span class="sxs-lookup"><span data-stu-id="f8bb2-107">Open the *Models/Movie.cs* file and add the highlighted lines shown below:</span></span>

[!code-csharp[](start-mvc/sample/MvcMovie22/Models/MovieDateFixed.cs?name=snippet_1&highlight=2,3,12-13,17)]

<span data-ttu-id="f8bb2-108">Biz karşılarız [DataAnnotations](/aspnet/mvc/overview/older-versions/mvc-music-store/mvc-music-store-part-6) sonraki öğreticide.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-108">We cover [DataAnnotations](/aspnet/mvc/overview/older-versions/mvc-music-store/mvc-music-store-part-6) in the next tutorial.</span></span> <span data-ttu-id="f8bb2-109">[Görüntüleme](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.metadata.displaymetadata) öznitelik adı (Bu durumda "ReleaseDate" yerine "yayın tarihi") bir alan için görüntülenecek öğeleri belirtir.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-109">The [Display](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.metadata.displaymetadata) attribute specifies what to display for the name of a field (in this case "Release Date" instead of "ReleaseDate").</span></span> <span data-ttu-id="f8bb2-110">[DataType](/dotnet/api/microsoft.aspnetcore.mvc.dataannotations.internal.datatypeattributeadapter) öznitelik alanında depolanan saat bilgilerini görüntülenmediğini şekilde (tarih), veri türünü belirtir.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-110">The [DataType](/dotnet/api/microsoft.aspnetcore.mvc.dataannotations.internal.datatypeattributeadapter) attribute specifies the type of the data (Date), so the time information stored in the field isn't displayed.</span></span>

<span data-ttu-id="f8bb2-111">`[Column(TypeName = "decimal(18, 2)")]` Veri ek açıklama, Entity Framework Core doğru şekilde eşleyebilirsiniz biçimde gereklidir `Price` veritabanında para birimi.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-111">The `[Column(TypeName = "decimal(18, 2)")]` data annotation is required so Entity Framework Core can correctly map `Price` to currency in the database.</span></span> <span data-ttu-id="f8bb2-112">Daha fazla bilgi için [veri türleri](/ef/core/modeling/relational/data-types).</span><span class="sxs-lookup"><span data-stu-id="f8bb2-112">For more information, see [Data Types](/ef/core/modeling/relational/data-types).</span></span>

<span data-ttu-id="f8bb2-113">Gözat `Movies` denetleyicisi ve fare işaretçisini tutun bir **Düzenle** hedef URL'ye görmek için bağlantıyı.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-113">Browse to the `Movies` controller and hold the mouse pointer over an **Edit** link to see the target URL.</span></span>

![Düzenleme bağlantısını ve bir bağlantı üzerinde fare ile tarayıcı penceresinde URL'sini https://localhost:5001/Movies/Edit/5 gösterilir](~/tutorials/first-mvc-app/controller-methods-views/_static/edit7.png)

<span data-ttu-id="f8bb2-115">**Düzenle**, **ayrıntıları**, ve **Sil** bağlantıları Core MVC yer işareti etiketi Yardımcısı tarafından üretilen *Views/Movies/Index.cshtml* dosya.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-115">The **Edit**, **Details**, and **Delete** links are generated by the Core MVC Anchor Tag Helper in the *Views/Movies/Index.cshtml* file.</span></span>

[!code-HTML[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Views/Movies/IndexOriginal.cshtml?highlight=1-3&range=46-50)]

<span data-ttu-id="f8bb2-116">[Etiket Yardımcıları](xref:mvc/views/tag-helpers/intro), Razor dosyalarında HTML öğelerinin oluşturulmasına ve işlenmesine sunucu tarafı kodun katılmasını etkinleştir.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-116">[Tag Helpers](xref:mvc/views/tag-helpers/intro) enable server-side code to participate in creating and rendering HTML elements in Razor files.</span></span> <span data-ttu-id="f8bb2-117">Yukarıdaki kodda `AnchorTagHelper` dinamik olarak HTML oluşturan `href` denetleyici eylem yöntemi ve rota kimliğinden öznitelik değeri. Kullandığınız **kaynağı görüntüle** sık kullandığınız tarayıcıyı ya da kullanım oluşturulan biçimlendirme incelemek için geliştirici araçları.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-117">In the code above, the `AnchorTagHelper` dynamically generates the HTML `href` attribute value from the controller action method and route id. You use **View Source** from your favorite browser or use the developer tools to examine the generated markup.</span></span> <span data-ttu-id="f8bb2-118">Oluşturulan HTML değerinin bir bölümü aşağıda gösterilmiştir:</span><span class="sxs-lookup"><span data-stu-id="f8bb2-118">A portion of the generated HTML is shown below:</span></span>

```html
 <td>
    <a href="/Movies/Edit/4"> Edit </a> |
    <a href="/Movies/Details/4"> Details </a> |
    <a href="/Movies/Delete/4"> Delete </a>
</td>
```

<span data-ttu-id="f8bb2-119">Biçim için geri çağırma [yönlendirme](xref:mvc/controllers/routing) kümesinde *Startup.cs* dosyası:</span><span class="sxs-lookup"><span data-stu-id="f8bb2-119">Recall the format for [routing](xref:mvc/controllers/routing) set in the *Startup.cs* file:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]

<span data-ttu-id="f8bb2-120">ASP.NET Core çevirir `https://localhost:5001/Movies/Edit/4` bir istek halinde `Edit` eylem yöntemi `Movies` denetleyicisi parametresiyle `Id` 4.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-120">ASP.NET Core translates `https://localhost:5001/Movies/Edit/4` into a request to the `Edit` action method of the `Movies` controller with the parameter `Id` of 4.</span></span> <span data-ttu-id="f8bb2-121">(Denetleyici olarak da bilinen eylem yöntemleri yöntemlerdir.)</span><span class="sxs-lookup"><span data-stu-id="f8bb2-121">(Controller methods are also known as action methods.)</span></span>

<span data-ttu-id="f8bb2-122">[Etiket Yardımcıları](xref:mvc/views/tag-helpers/intro) ASP.NET Core en popüler yeni özellikler biridir.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-122">[Tag Helpers](xref:mvc/views/tag-helpers/intro) are one of the most popular new features in ASP.NET Core.</span></span> <span data-ttu-id="f8bb2-123">Daha fazla bilgi için [ek kaynaklar](#additional-resources).</span><span class="sxs-lookup"><span data-stu-id="f8bb2-123">For more information, see [Additional resources](#additional-resources).</span></span>

<span data-ttu-id="f8bb2-124">Açık `Movies` denetleyicisi ve iki inceleyin `Edit` eylem yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-124">Open the `Movies` controller and examine the two `Edit` action methods.</span></span> <span data-ttu-id="f8bb2-125">Aşağıdaki kodda gösterildiği `HTTP GET Edit` film getirir ve tarafından oluşturulan düzenleme formu dolduran yöntemi *Edit.cshtml* Razor dosya.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-125">The following code shows the `HTTP GET Edit` method, which fetches the movie and populates the edit form generated by the *Edit.cshtml* Razor file.</span></span>

::: moniker range=">= aspnetcore-2.1"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie21/Controllers/MC1.cs?name=snippet_edit1)]

<span data-ttu-id="f8bb2-126">Aşağıdaki kodda gösterildiği `HTTP POST Edit` gönderilen film değerleri işleyen yöntemi:</span><span class="sxs-lookup"><span data-stu-id="f8bb2-126">The following code shows the `HTTP POST Edit` method, which processes the posted movie values:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/MC1.cs?name=snippet_edit2)]

::: moniker-end

::: moniker range="<= aspnetcore-2.0"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/MC1.cs?name=snippet_edit1)]

<span data-ttu-id="f8bb2-127">Aşağıdaki kodda gösterildiği `HTTP POST Edit` gönderilen film değerleri işleyen yöntemi:</span><span class="sxs-lookup"><span data-stu-id="f8bb2-127">The following code shows the `HTTP POST Edit` method, which processes the posted movie values:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/MC1.cs?name=snippet_edit2)]

::: moniker-end

<span data-ttu-id="f8bb2-128">`[Bind]` Özniteliktir karşı korumak için bir yol [aşırı yayınlayarak](/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application#overpost).</span><span class="sxs-lookup"><span data-stu-id="f8bb2-128">The `[Bind]` attribute is one way to protect against [over-posting](/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application#overpost).</span></span> <span data-ttu-id="f8bb2-129">Özellikler yalnızca içermelidir `[Bind]` değiştirmek istediğiniz özniteliği.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-129">You should only include properties in the `[Bind]` attribute that you want to change.</span></span> <span data-ttu-id="f8bb2-130">Daha fazla bilgi için [denetleyicinizin atlayarak nakil korumak](/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application).</span><span class="sxs-lookup"><span data-stu-id="f8bb2-130">For more information, see [Protect your controller from over-posting](/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application).</span></span> <span data-ttu-id="f8bb2-131">[Viewmodel'lar](http://rachelappel.com/use-viewmodels-to-manage-data-amp-organize-code-in-asp-net-mvc-applications/) atlayarak önlemek için alternatif bir yaklaşım sağlar.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-131">[ViewModels](http://rachelappel.com/use-viewmodels-to-manage-data-amp-organize-code-in-asp-net-mvc-applications/) provide an alternative approach to prevent over-posting.</span></span>

<span data-ttu-id="f8bb2-132">İkinci fark `Edit` eylem yöntemine öncesinde `[HttpPost]` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-132">Notice the second `Edit` action method is preceded by the `[HttpPost]` attribute.</span></span>

::: moniker range=">= aspnetcore-2.1"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie21/Controllers/MC1.cs?name=snippet_edit2&highlight=1)]

::: moniker-end

::: moniker range="<= aspnetcore-2.0"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/MC1.cs?name=snippet_edit2&highlight=4)]

::: moniker-end

<span data-ttu-id="f8bb2-133">`HttpPost` Özniteliği belirtir bu `Edit` yöntemi çağrılacak *yalnızca* için `POST` istekleri.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-133">The `HttpPost` attribute specifies that this `Edit` method can be invoked *only* for `POST` requests.</span></span> <span data-ttu-id="f8bb2-134">Geçerli olabilir `[HttpGet]` ilk özniteliği Düzenle yöntemi, ancak gerekli değildir çünkü `[HttpGet]` varsayılandır.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-134">You could apply the `[HttpGet]` attribute to the first edit method, but that's not necessary because `[HttpGet]` is the default.</span></span>

<span data-ttu-id="f8bb2-135">`ValidateAntiForgeryToken` Özniteliktir için kullanılan [istek sahteciliğini önleme](xref:security/anti-request-forgery) ve düzenleme görünümü dosyasında oluşturulan bir sahteciliğe karşı koruma belirteci ile eşleştirilmiş (*Views/Movies/Edit.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="f8bb2-135">The `ValidateAntiForgeryToken` attribute is used to [prevent forgery of a request](xref:security/anti-request-forgery) and is paired up with an anti-forgery token generated in the edit view file (*Views/Movies/Edit.cshtml*).</span></span> <span data-ttu-id="f8bb2-136">Sahteciliğe karşı koruma belirteci ile düzenleme görünüm dosyası oluşturur [Form etiketi Yardımcısı](xref:mvc/views/working-with-forms).</span><span class="sxs-lookup"><span data-stu-id="f8bb2-136">The edit view file generates the anti-forgery token with the [Form Tag Helper](xref:mvc/views/working-with-forms).</span></span>

[!code-HTML[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Views/Movies/Edit.cshtml?range=9)]

<span data-ttu-id="f8bb2-137">[Form etiketi Yardımcısı](xref:mvc/views/working-with-forms) eşleşmelidir gizli bir sahteciliğe karşı koruma belirteci oluşturan `[ValidateAntiForgeryToken]` oluşturulan sahteciliğe karşı koruma belirtecine `Edit` denetleyici filmler yöntemi.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-137">The [Form Tag Helper](xref:mvc/views/working-with-forms) generates a hidden anti-forgery token that must match the `[ValidateAntiForgeryToken]` generated anti-forgery token in the `Edit` method of the Movies controller.</span></span> <span data-ttu-id="f8bb2-138">Daha fazla bilgi için [istek sahteciliğinden koruma](xref:security/anti-request-forgery).</span><span class="sxs-lookup"><span data-stu-id="f8bb2-138">For more information, see [Anti-Request Forgery](xref:security/anti-request-forgery).</span></span>

<span data-ttu-id="f8bb2-139">`HttpGet Edit` Yöntemi alır film `ID` parametresini arar Entity Framework kullanarak filmi `SingleOrDefaultAsync` yöntemi ve düzenleme görünümü seçili film döndürür.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-139">The `HttpGet Edit` method takes the movie `ID` parameter, looks up the movie using the Entity Framework `SingleOrDefaultAsync` method, and returns the selected movie to the Edit view.</span></span> <span data-ttu-id="f8bb2-140">Bir filmi bulunamazsa `NotFound` (HTTP 404) döndürülür.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-140">If a movie cannot be found, `NotFound` (HTTP 404) is returned.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie21/Controllers/MC1.cs?name=snippet_edit1)]

<span data-ttu-id="f8bb2-141">Yapı iskelesi sistem düzenleme görünümü oluşturduğunuzda, onu incelenirken `Movie` sınıfı ve işlemek için oluşturulan kodu `<label>` ve `<input>` sınıfın her bir özellik için öğeleri.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-141">When the scaffolding system created the Edit view, it examined the `Movie` class and created code to render `<label>` and `<input>` elements for each property of the class.</span></span> <span data-ttu-id="f8bb2-142">Aşağıdaki örnek, Visual Studio yapı iskelesi sistem tarafından oluşturulan düzenleme görünümünü gösterir:</span><span class="sxs-lookup"><span data-stu-id="f8bb2-142">The following example shows the Edit view that was generated by the Visual Studio scaffolding system:</span></span>

[!code-HTML[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie22/Views/Movies/EditOriginal.cshtml)]

<span data-ttu-id="f8bb2-143">Şablonu Görüntüle nasıl olduğunu fark bir `@model MvcMovie.Models.Movie` deyimini dosyanın üst.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-143">Notice how the view template has a `@model MvcMovie.Models.Movie` statement at the top of the file.</span></span> <span data-ttu-id="f8bb2-144">`@model MvcMovie.Models.Movie` Görünüm model görünüm şablonu türünde olmasını bekliyor belirtir `Movie`.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-144">`@model MvcMovie.Models.Movie` specifies that the view expects the model for the view template to be of type `Movie`.</span></span>

<span data-ttu-id="f8bb2-145">İskele kurulan kodu birkaç etiketi Yardımcısı yöntemleri HTML biçimlendirmeyi kolaylaştırmak için kullanır.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-145">The scaffolded code uses several Tag Helper methods to streamline the HTML markup.</span></span> <span data-ttu-id="f8bb2-146">[Etiket etiketi Yardımcısı](xref:mvc/views/working-with-forms) ("Title", "ReleaseDate", "Tarzı" veya "Price") alanın adını görüntüler.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-146">The - [Label Tag Helper](xref:mvc/views/working-with-forms) displays the name of the field ("Title", "ReleaseDate", "Genre", or "Price").</span></span> <span data-ttu-id="f8bb2-147">[Giriş etiketi Yardımcısı](xref:mvc/views/working-with-forms) bir HTML işleyen `<input>` öğesi.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-147">The [Input Tag Helper](xref:mvc/views/working-with-forms) renders an HTML `<input>` element.</span></span> <span data-ttu-id="f8bb2-148">[Doğrulama etiketi Yardımcısı](xref:mvc/views/working-with-forms) bu özellikle ilişkili herhangi bir doğrulama iletisi görüntüler.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-148">The [Validation Tag Helper](xref:mvc/views/working-with-forms) displays any validation messages associated with that property.</span></span>

<span data-ttu-id="f8bb2-149">Uygulamayı çalıştırmak ve gidin `/Movies` URL'si.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-149">Run the application and navigate to the `/Movies` URL.</span></span> <span data-ttu-id="f8bb2-150">' A tıklayın bir **Düzenle** bağlantı.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-150">Click an **Edit** link.</span></span> <span data-ttu-id="f8bb2-151">Tarayıcıda, sayfa için kaynağı görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-151">In the browser, view the source for the page.</span></span> <span data-ttu-id="f8bb2-152">İçin oluşturulan HTML `<form>` öğesi aşağıda gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-152">The generated HTML for the `<form>` element is shown below.</span></span>

[!code-HTML[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Views/Shared/edit_view_source.html?highlight=1,6,10,17,24,28)]

<span data-ttu-id="f8bb2-153">`<input>` Öğeler içinde bir `HTML <form>` öğesi olan `action` özniteliğinin ayarlanmış gönderinin yayımlanacağı `/Movies/Edit/id` URL'si.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-153">The `<input>` elements are in an `HTML <form>` element whose `action` attribute is set to post to the `/Movies/Edit/id` URL.</span></span> <span data-ttu-id="f8bb2-154">Form verileri sunucuya yayımlanacak olduğunda `Save` düğmesine tıklandığında.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-154">The form data will be posted to the server when the `Save` button is clicked.</span></span> <span data-ttu-id="f8bb2-155">Son satırı kapatmadan önce `</form>` öğenin gizli gösterir [XSRF](xref:security/anti-request-forgery) tarafından oluşturulan belirteç [Form etiketi Yardımcısı](xref:mvc/views/working-with-forms).</span><span class="sxs-lookup"><span data-stu-id="f8bb2-155">The last line before the closing `</form>` element shows the hidden [XSRF](xref:security/anti-request-forgery) token generated by the [Form Tag Helper](xref:mvc/views/working-with-forms).</span></span>

## <a name="processing-the-post-request"></a><span data-ttu-id="f8bb2-156">POST isteğini işleme</span><span class="sxs-lookup"><span data-stu-id="f8bb2-156">Processing the POST Request</span></span>

<span data-ttu-id="f8bb2-157">Aşağıdaki liste gösterildiği `[HttpPost]` sürümünü `Edit` eylem yöntemi.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-157">The following listing shows the `[HttpPost]` version of the `Edit` action method.</span></span>

::: moniker range=">= aspnetcore-2.1"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie21/Controllers/MC1.cs?name=snippet_edit2)]

::: moniker-end

::: moniker range="<= aspnetcore-2.0"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/MC1.cs?name=snippet_edit2)]

::: moniker-end

<span data-ttu-id="f8bb2-158">`[ValidateAntiForgeryToken]` Özniteliği gizli doğrular [XSRF](xref:security/anti-request-forgery) içinde sahteciliğe karşı koruma belirteci Oluşturucu tarafından oluşturulan belirteç [Form etiketi Yardımcısı](xref:mvc/views/working-with-forms)</span><span class="sxs-lookup"><span data-stu-id="f8bb2-158">The `[ValidateAntiForgeryToken]` attribute validates the hidden [XSRF](xref:security/anti-request-forgery) token generated by the anti-forgery token generator in the [Form Tag Helper](xref:mvc/views/working-with-forms)</span></span>

<span data-ttu-id="f8bb2-159">[Model bağlama](xref:mvc/models/model-binding) sistem gönderilen form değerlerini alır ve oluşturan bir `Movie` olarak geçirilen nesne `movie` parametresi.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-159">The [model binding](xref:mvc/models/model-binding) system takes the posted form values and creates a `Movie` object that's passed as the `movie` parameter.</span></span> <span data-ttu-id="f8bb2-160">`ModelState.IsValid` Yöntemi doğrular (düzenleme veya güncelleştirme) değiştirileceğini biçiminde gönderilen veriler kullanılabilir bir `Movie` nesne.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-160">The `ModelState.IsValid` method verifies that the data submitted in the form can be used to modify (edit or update) a `Movie` object.</span></span> <span data-ttu-id="f8bb2-161">Veriler geçerliyse kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-161">If the data is valid, it's saved.</span></span> <span data-ttu-id="f8bb2-162">Güncelleştirilmiş (düzenlenen) film verileri çağırarak veritabanına kaydedilir `SaveChangesAsync` veritabanı bağlamının yöntemi.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-162">The updated (edited) movie data is saved to the database by calling the `SaveChangesAsync` method of database context.</span></span> <span data-ttu-id="f8bb2-163">Verileri kaydettikten sonra kodu kullanıcı için yönlendiren `Index` eylem yöntemi `MoviesController` yaptığınız değişiklikleri içeren film koleksiyonu görüntüleyen sınıfı.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-163">After saving the data, the code redirects the user to the `Index` action method of the `MoviesController` class, which displays the movie collection, including the changes just made.</span></span>

<span data-ttu-id="f8bb2-164">Form, sunucuya gönderilen önce istemci tarafı doğrulama alanlarda tüm doğrulama kurallarını denetler.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-164">Before the form is posted to the server, client-side validation checks any validation rules on the fields.</span></span> <span data-ttu-id="f8bb2-165">Herhangi bir doğrulama hatası varsa, bir hata iletisi görüntülenir ve form gönderilen değil.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-165">If there are any validation errors, an error message is displayed and the form isn't posted.</span></span> <span data-ttu-id="f8bb2-166">JavaScript devre dışı bırakılırsa, istemci tarafı doğrulama olmaz ancak sunucu, geçerli olmayan gönderilen değerlerden algılar ve form değerleri, hata iletileri ile yeniden.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-166">If JavaScript is disabled, you won't have client-side validation but the server will detect the posted values that are not valid, and the form values will be redisplayed with error messages.</span></span> <span data-ttu-id="f8bb2-167">Öğreticinin ilerleyen bölümlerinde inceleyeceğiz [Model doğrulama](xref:mvc/models/validation) daha ayrıntılı bir şekilde.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-167">Later in the tutorial we examine [Model Validation](xref:mvc/models/validation) in more detail.</span></span> <span data-ttu-id="f8bb2-168">[Doğrulama etiketi Yardımcısı](xref:mvc/views/working-with-forms) içinde *Views/Movies/Edit.cshtml* görünüm şablonu uygun hata iletilerini görüntüleme üstlenir.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-168">The [Validation Tag Helper](xref:mvc/views/working-with-forms) in the *Views/Movies/Edit.cshtml* view template takes care of displaying appropriate error messages.</span></span>

![Görünümü düzenleyin: Yanlış bir fiyat değer için bir özel durum ABC Fiyat alanı bir sayı olmalıdır belirtir.](~/tutorials/first-mvc-app/controller-methods-views/_static/val.png)

<span data-ttu-id="f8bb2-171">Tüm `HttpGet` film denetleyici yöntemleri benzer bir desen uygulayın.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-171">All the `HttpGet` methods in the movie controller follow a similar pattern.</span></span> <span data-ttu-id="f8bb2-172">Bir film nesnesi aldıkları (veya durumunda nesnelerin listesini `Index`) ve ' % s'nesne (modeli) görünümüne geçirin.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-172">They get a movie object (or list of objects, in the case of `Index`), and pass the object (model) to the view.</span></span> <span data-ttu-id="f8bb2-173">`Create` Boş film nesneye yöntemi geçirir `Create` görünümü.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-173">The `Create` method passes an empty movie object to the `Create` view.</span></span> <span data-ttu-id="f8bb2-174">Bu nedenle, oluşturmak, düzenlemek, silmek veya aksi halde verileri değiştiren tüm yöntemler yapmak `[HttpPost]` yöntemi aşırı yüklemesi.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-174">All the methods that create, edit, delete, or otherwise modify data do so in the `[HttpPost]` overload of the method.</span></span> <span data-ttu-id="f8bb2-175">Verileri değiştirme bir `HTTP GET` bir güvenlik riski yöntemidir.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-175">Modifying data in an `HTTP GET` method is a security risk.</span></span> <span data-ttu-id="f8bb2-176">Verileri değiştirme bir `HTTP GET` yöntemi de ihlal HTTP en iyi yöntemler ve mimari [REST](http://rest.elkstein.org/) desen, GET istekleri, uygulamanızın durumunu değiştirmemeniz belirtir.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-176">Modifying data in an `HTTP GET` method also violates HTTP best practices and the architectural [REST](http://rest.elkstein.org/) pattern, which specifies that GET requests shouldn't change the state of your application.</span></span> <span data-ttu-id="f8bb2-177">Diğer bir deyişle, bir GET işlemi gerçekleştirilirken yan etkileri olan ve verilerinizi kalıcı değiştirmez güvenli bir işlem olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="f8bb2-177">In other words, performing a GET operation should be a safe operation that has no side effects and doesn't modify your persisted data.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="f8bb2-178">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="f8bb2-178">Additional resources</span></span>

* [<span data-ttu-id="f8bb2-179">Genelleştirme ve yerelleştirme</span><span class="sxs-lookup"><span data-stu-id="f8bb2-179">Globalization and localization</span></span>](xref:fundamentals/localization)
* [<span data-ttu-id="f8bb2-180">Etiket Yardımcıları giriş</span><span class="sxs-lookup"><span data-stu-id="f8bb2-180">Introduction to Tag Helpers</span></span>](xref:mvc/views/tag-helpers/intro)
* [<span data-ttu-id="f8bb2-181">Yazma etiketi Yardımcıları</span><span class="sxs-lookup"><span data-stu-id="f8bb2-181">Author Tag Helpers</span></span>](xref:mvc/views/tag-helpers/authoring)
* [<span data-ttu-id="f8bb2-182">İstek Sahteciliğinden Koruma</span><span class="sxs-lookup"><span data-stu-id="f8bb2-182">Anti-Request Forgery</span></span>](xref:security/anti-request-forgery)
* <span data-ttu-id="f8bb2-183">Denetleyicinizden korumak [aşırı gönderme](/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application)</span><span class="sxs-lookup"><span data-stu-id="f8bb2-183">Protect your controller from [over-posting](/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application)</span></span>
* [<span data-ttu-id="f8bb2-184">Viewmodel'lar</span><span class="sxs-lookup"><span data-stu-id="f8bb2-184">ViewModels</span></span>](http://rachelappel.com/use-viewmodels-to-manage-data-amp-organize-code-in-asp-net-mvc-applications/)
* [<span data-ttu-id="f8bb2-185">Form Etiketi Yardımcısı</span><span class="sxs-lookup"><span data-stu-id="f8bb2-185">Form Tag Helper</span></span>](xref:mvc/views/working-with-forms)
* [<span data-ttu-id="f8bb2-186">Giriş Etiketi Yardımcısı</span><span class="sxs-lookup"><span data-stu-id="f8bb2-186">Input Tag Helper</span></span>](xref:mvc/views/working-with-forms)
* [<span data-ttu-id="f8bb2-187">Etiket Etiketi Yardımcısı</span><span class="sxs-lookup"><span data-stu-id="f8bb2-187">Label Tag Helper</span></span>](xref:mvc/views/working-with-forms)
* [<span data-ttu-id="f8bb2-188">Seçim Etiketi Yardımcısı</span><span class="sxs-lookup"><span data-stu-id="f8bb2-188">Select Tag Helper</span></span>](xref:mvc/views/working-with-forms)
* [<span data-ttu-id="f8bb2-189">Doğrulama etiketi Yardımcısı</span><span class="sxs-lookup"><span data-stu-id="f8bb2-189">Validation Tag Helper</span></span>](xref:mvc/views/working-with-forms)

> [!div class="step-by-step"]
> <span data-ttu-id="f8bb2-190">[Önceki](working-with-sql.md)
> [İleri](search.md)</span><span class="sxs-lookup"><span data-stu-id="f8bb2-190">[Previous](working-with-sql.md)
[Next](search.md)</span></span>  
